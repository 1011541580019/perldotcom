<HEAD>
<TITLE>
	    PDSC #3: Lists of Hashes
</TITLE>
<LINK REV=made HREF=mailto:tchrist@perl.com>
</HEAD>

<CENTER>
<H1>
	    Recipes for PDSC #3: Lists of Hashes
</H1>

<b><font size=+1>
<I>
		    by Tom Christiansen 
</I>
		    <BR>
&lt <A HREF=mailto:tchrist@perl.com>tchrist@perl.com</A> &gt
</font>
		    <P>
		    release 0.1 (untested, may have typos)
		    <BR>
		    Sunday, 1 October 1995
</b></CENTER>


<HR>

<H2>Declaration of a LIST OF HASHES:</H2>
<PRE>
@LoH = ( 
       { 
	  Lead      => "fred", 
	  Friend    => "barney", 
       },
       {
	   Lead     => "george",
	   Wife     => "jane",
	   Son      => "elroy",
       },
       {
	   Lead     => "homer",
	   Wife     => "marge",
	   Son      => "bart",
       }
 );
</PRE>
<H2>Generation of a LIST OF HASHES:</H2>
<PRE>
# reading from file
# format: LEAD=fred FRIEND=barney
while ( <> ) {
    $rec = {};
    for $field ( split ) {
	($key, $value) = split /=/, $field;
	$rec->{$key} = $value;
    }
    push @LoH, $rec;
}

# reading from file
# format: LEAD=fred FRIEND=barney
# no temp
while ( <> ) {
    push @LoH, { split /[\s+=]/ };
}

# calling a function  that returns a key,value list, like
# "lead","fred","daughter","pebbles"
while ( %fields = getnextpairset() ) 
    push @LoH, { %fields };
}

# likewise, but using no temp vars
while (<>) {
    push @LoH, { parsepairs($_) };
}

# add key/value to an element
$LoH[0]{"pet"} = "dino";
$LoH[2]{"pet"} = "santa's little helper";
</PRE>
<H2>Access and Printing of a LIST OF HASHES:</H2>
<PRE>
# one element
$LoH[0]{"lead"} = "fred";

# another element
$LoH[1]{"lead"} =~ s/(\w)/\u$1/;

# print the whole thing with refs
for $href ( @LoH ) {
    print "{ ";
    for $role ( keys %$href ) {
	print "$role=$href->{$role} ";
    }
    print "}\n";
}

# print the whole thing with indices
for $i ( 0 .. $#LoH ) {
    print "$i is { ";
    for $role ( keys %{ $LoH[$i] } ) {
	print "$role=$LoH[$i]{$role} ";
    }
    print "}\n";
}

# print the whole thing one at a time
for $i ( 0 .. $#LoH ) {
    for $role ( keys %{ $LoH[$i] } ) {
	print "elt $i $role is $LoH[$i]{$role}\n";
    }
}

</PRE>
