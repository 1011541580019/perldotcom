<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" id="sixapart-standard">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<meta name="generator" content="Movable Type Pro 5.13-en" />
<link rel="stylesheet" href="/pub/styles.css" type="text/css" />
<link rel="start" href="/pub/" title="Home" />
<link rel="alternate" type="application/atom+xml" title="Recent Entries" href="/pub/atom.xml" />
<script type="text/javascript" src="/pub/mt.js"></script>
<!--
<rdf:RDF xmlns="http://web.resource.org/cc/"
         xmlns:dc="http://purl.org/dc/elements/1.1/"
         xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
<Work rdf:about="/pub/2001/02/dbix.html">
<dc:title>DBIx::Recordset VS DBI</dc:title>
<dc:description> Problems Using DBI at Application-Level Intolerance to Table and Data Mutation Error-Prone and Tedious Query Construction Manual and Complex Mapping of Database Data to Perl Data Structures Succint CGI-SQL Interaction (Database Control via ``CGI One-Liners&apos;&apos;) Control and Monitoring of...</dc:description>
<dc:creator>Terrence Monroe Brannon</dc:creator>
<dc:date>2001-02-27T00:00:00-08:00</dc:date>
<license rdf:resource="http://creativecommons.org/licenses/by-nc-nd/3.0/" />
</Work>
<License rdf:about="http://creativecommons.org/licenses/by-nc-nd/3.0/">
</License>
</rdf:RDF>
-->

<script type="text/javascript">

 var _gaq = _gaq || [];
 _gaq.push(['_setAccount', 'UA-50555-22']);
 _gaq.push(['_trackPageview']);

 (function() {
   var ga = document.createElement('script'); ga.type =
   'text/javascript'; ga.async = true;
   ga.src = ('https:' == document.location.protocol ? 'https://ssl' :
   'http://www') + '.google-analytics.com/ga.js';
   var s = document.getElementsByTagName('script')[0];
   s.parentNode.insertBefore(ga, s);
 })();

</script>
<script type='text/javascript' src='http://partner.googleadservices.com/gampad/google_service.js'></script>
<script type='text/javascript'>
GS_googleAddAdSenseService("ca-pub-4136420132070439");
GS_googleEnableAllServices();
</script>
<script type='text/javascript'>
GA_googleAddSlot("ca-pub-4136420132070439", "Perl_728x90");
</script>
<script type='text/javascript'>GA_googleFetchAds();</script>
    
    <link rel="prev bookmark" href="/pub/2001/02/esmith.html" title="The e-smith Server and Gateway: a Perl Case Study" />
    <link rel="next bookmark" href="/pub/2001/02/p5pdigest/THISWEEK-20010226.html" title="This Week on p5p 2001/02/26" />
    
    
    <title>DBIx::Recordset VS DBI - Perl.com</title>
</head>
<body id="perl-com" class="mt-entry-archive layout-wt">
    <div id="container">
        <div id="container-inner">


            <div id="header">
    <div id="header-inner">
        <div id="header-content">
        <span id="top_advert"> 
<!-- Put any landscape advert in here -->
<!-- Perl_728x90 -->
<script type='text/javascript'>
GA_googleFillSlot("Perl_728x90");
</script>
        </span> 



            <div id="header-name"><a href="/pub/" accesskey="1">Perl.com</a></div>
            <div id="header-description">news and views of the Perl programming language</div>




        </div>
    </div>
</div>



            <div id="content">
                <div id="content-inner">


                    <div id="alpha">
                        <div id="alpha-inner">


                            <div id="entry-1444" class="entry-asset asset hentry">
                                <div class="asset-header">
                                    <h1 id="page-title" class="asset-name entry-title">DBIx::Recordset VS DBI</h1>
                                    <div class="asset-meta">
                                        <span class="byline">

                                            By <span class="vcard author">Terrence Monroe Brannon</span> on <abbr class="published" title="2001-02-27T00:00:00-08:00">February 27, 2001 12:00 AM</abbr>

                                        </span>


                                    </div>
                                </div>
                                <div class="asset-content entry-content">

                                    <div class="asset-body">
                                        <!-- DBIx::Recordset: a DBI Extension for Application-Level Database Use -->
<ul>
 <li><a href="#problems using dbi at applicationlevel">Problems Using DBI at Application-Level</a></li>
	<ul>

  <li><a href="#intolerance to table and data mutation">Intolerance to Table and Data Mutation</a></li>
  <li><a href="#errorprone and tedious query construction">Error-Prone and Tedious Query Construction</a></li>
  <li><a href="#manual and complex mapping of database data to perl data structures">Manual and Complex Mapping of Database Data to Perl Data Structures</a></li>
 </ul>
 <li><a href="#succint cgisql interaction (database control via cgi oneliners)">Succint CGI-SQL Interaction (Database Control via ``CGI One-Liners'')</a></li>
 <ul>

  <li><a href="#control and monitoring of table access">Control and Monitoring of Table Access</a></li>
  <li><a href="#scalability">Scalability</a></li>
  <li><a href="#form data variations">Form Data Variations</a></li>
  <li><a href="#table splits">Table Splits</a></li>
 </ul>

 <li><a href="#sample code">Sample Code</a></li>
 <ul>

  <li><a href="#dbix::recordset version of code">DBIx::Recordset Version of Code</a></li>
  <li><a href="#dbi version of code">DBI Version of Code</a></li>
  <li><a href="#empirical results">Empirical Results</a></li>
 </ul>

 <li><a href="#conclusion">Conclusion</a></li>
 <li><a href="#acknowledgements">Acknowledgements</a></li>
</ul>
<h3>Introduction</h3>
<p>Writing this article was pure hell. No, actually, writing most of it
was quite fun - it was just when I had to write the functional
equivalent of my DBIx::Recordset code in DBI that I began to sweat
profusely. It was only when I had finished writing the mountain of DBI
code to do the same thing as my molehill of DBIx::Recordset that I
could heave a sigh of relief. Since starting to use DBIx::Recordset, I
have been loath to work on projects where the required database
API was DBI. While it may seem like a play on words, it is crucial to
understand that DBI is the standard database interface for Perl but it
should not be the interface for most Perl applications requiring
database functionality.</p>
<p>The key way to determine whether a particular module/library is
matched to the level of a task is to count the number of lines of
``prep code'' you must write before you can do what you want. In other
words, can the complex operations and data of your domain be dealt
with in a unitary fashion by this module? In the case of DBI, we can
say that it has made the tasks of connection, statement preparation,
and data fetching tractable by reducing them to single calls to the
DBI API. However, real-life applications have much larger and more
practical complex units and it is in these respects that the DBI API
falls short.  To me, it comes as no surprise that DBI, a module whose
only design intent was to present a uniform API to the wide variety of
available databases, would lack such high-level functionality. But it
does surprise me to no end that hoards of Perl programmers, some of
whom may have had a software engineering course at some point in their
careers, would make such errant judgment. Thus the fault lies with the
judgment of the programmers, not DBI.</p>
<p>In most cases the gap between DBI's API and Perl applications has been
bridged by indiscriminately mixing generic application-level
functionality with the specifics of the current application. This
makes it difficult to reuse the generic routines in another part of
the application or in an altogether different application. Another
maladaptive way that the DBI API has been extended for
application-level databasing is by developing a collection of generic
application-level tools but not publishing them. Thus, as larger scale
tools are built from two camps using differing generic
application-level APIs, amends for discrepancies in calling
conventions must be duct-taped between the code bodies. The final way
to misuse DBI in an application is to use it directly.</p>
<p>However, an unsung module, publicly available on CPAN that bridges
the gap between DBI and application-level programming robustly and
conveniently is DBIx::Recordset. It is built on top of DBI and is so
well-matched to the level at which database-driven applications are
conceived that in most cases one sentence in an application design
specification equates to one line of DBIx::Recordset.</p>

<h3><a name="problems using dbi at applicationlevel" id="problems using dbi at applicationlevel">Problems Using DBI at Application-Level</a></h3>

<h4><a name="intolerance to table and data mutation" id="intolerance to table and data mutation">Intolerance to Table and Data Mutation</a></h4>

<p>Table mutation - the addition, deletion or rearrangement of fields
from a table or data mutation - the addition, removal or
rearrangement of portions of the input sources intended for database
commission, can break a large number of calls to the DBI API. This is
due to the fact that most routines expect and return arrays or array
references and thus fail when the expected arrays shrink or grow. For
example, the following DBI code:</p>
<pre>
 $dbh-&gt;do(&quot;INSERT INTO students (id,name) VALUES (1,$name)&quot;);</pre>
<p>would break once fields were removed from the table
students. However, the equivalent DBIx::Recordset code<a href="#1">(1)</a>:</p>
<pre>
 DBIx::Recordset-&gt;Insert({%dsn,'!Table'=&gt;'students',%dbdata});</pre>
<p>would work regardless of constructive or destructive mutations of the
students table or %dbdata. If there are fewer field-value pairs in
%dbdata than in the table, then the insert will be performed with the
corresponding fields. If there are irrelevant fields in %dbdata, then
the extra fields are by default silently ignored.</p>

<p>Now, the import of this intolerance for DBI usage is that changes in
either the tables or the input data require changes in the source. For
some, such rigidity is of merit because it forces both the source and
target of database commission to be made explicitly manifest within
the source code. However, for other Perl programmers, such rigidity is
nothing more than an imposition on their highly cultivated sense of
Laziness.</p>
<h4><a name="errorprone and tedious query construction" id="errorprone and tedious query construction">Error-Prone and Tedious Query Construction</a></h4>
<p>A query string is presented to the DBI API in placeholder or literal
notation. An example of DBI placeholder usage is shown below:</p>
<pre>
 $sql='insert into uregisternew
        (country, firstname, lastname, userid, password, address1, city,
        state, province, zippostal, email, phone, favorites, remaddr,
        gender, income, dob, occupation, age)
        values (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?)';</pre>
<pre>
 my @data=($formdata{country}, $formdata{firstname}, $formdata{lastname},
        $formdata{email}, $formdata{password}, $formdata{address},
        $formdata{city},  $formdata{state},  $formdata{province},
        $formdata{zippostal}, $formdata{email}, $formdata{phone},
        $formdata{favorites}, $formdata{remaddr}, $formdata{gender},
        $formdata{income}, $formdata{date}, $formdata{occupation},
 $formdata{age});</pre>
<pre>
        $sth2 = $dbh-&gt;prepare($sql);
        $sth2-&gt;execute(@data);
        $sth2-&gt;finish();</pre>
<p>This is a slightly modified version of a minefield I had to tiptoe
through during a recent contract I was on. This code has several
accidents waiting to happen. For one you must pray that the number of
question-mark placeholders is the same as the number of fields you are
inserting. Secondly, you must manually insure that the field names in
the insert statement correspond with the data array in both position
and number.</p>
<p>If one were developing the same query using DBI's literal notation,
one would have the same issues and would in addition devote more lines
of code to manually quoting the data and embedding it in the query
string.</p>
<p>In contrast, DBIx::Recordset's <code>Insert()</code> function takes a hash in which
the keys are database field names and the values are the values to be
inserted. Using such a data structure eliminates the correspondence
difficulties mentioned above. Also, DBIx::Recordset generates the
placeholder notation when it calls the DBI API.</p>
<p>Thus, with no loss of functionality<a href="#2">(2)</a>, the entire body of code above
could be written as:</p>
<pre>
 DBIx::Recordset-&gt;Insert({%dsn,%formdata});</pre>
<p>In fact, the DBI code is not equivalent to the DBIx::Recordset code
because connection and database operations are always separate calls
to the DBI API. The additional work required to use DBI has been
omitted for brevity.</p>
<p> </p>
<h4><a name="manual and complex mapping of database data to perl data structures" id="manual and complex mapping of database data to perl data structures">Manual and Complex Mapping of Database Data to Perl Data Structures</a></h4>
<table border="1" cellpadding="2" cellspacing="1">
<tr>
<th align="left">
 operation</th>            <th align="left">DBI</th>          <th align="left">DBIx::Recordset</th>
    <td></th></td>
</tr>

<tr>
 <td>Single row fetch</td>   
<td>
<pre>selectrow_array
selectrow_arrayref</pre>
</td>

         <td><pre>$set[0]</pre></td>
</tr>                        
<tr>
 <td>Multiple row fetch</td>     
<td>
<pre>
fetchall_arrayref  
selectall_arrayref 
fetchrow_array     
fetchrow_arrayref  
fetchrow_hashref
</pre>
</td>

<td>
<pre>
 for $row (@set) {...}
       OR    
while ($href=$set-&gt;Next())</pre>
    </td>
    <td> </td>
  </tr>

</table>
                                    
                        
<p>In DBI, database record retrieval is manual, complex and in most cases
intolerant to table mutation. By manual, we mean that performing the
query does not automatically map the query results onto any native
Perl data structures. By complex, we mean that DBI can return the data
in a multiplicity of ways: array, array reference and hash
reference.</p>
<p>In DBIx::Recordset, however, retrieval of selected recordsets can be <a href="#3">(3)</a>
automatic, simple and field-mutation tolerant. By automatic, we mean
that requesting the records leads to an automatic tie of the
result set to a hash.<a href="4">(4)</a> No functions need be called for this transfer
to take place. The retrieval process is simple because the only way to
receive results is via a hash reference. Because DBIx::Recordset
returns a hash, fields are referred to by name as opposed to
position. This strategy is robust to all table mutations.</p>
<p>Having seen DBIx::Recordset's solution to some of the more troublesome
aspects of DBI use, we now move on to explore the wealth of
application-level benefits that DBIx::Recordset offers in the
following areas:</p>
<ol>
  <li> Succinct CGI to SQL transfer </li>
  <li> Control and monitoring of table access </li>
  <li> Scalability </li>
</ol>
<p>As impressive as these topics may sound, DBIx::Recordset is designed
to achieve each of them in one line of Perl!<a href="#5">(5)</a></p>

<h3><a name="succint cgisql interaction (database control via cgi oneliners)" id="succint cgisql interaction (database control via cgi oneliners)">Succint CGI-SQL Interaction (Database Control via ``CGI One-Liners'')</a></h3>
<p>Assuming that the keys in the query string match the field names in
the target database table, DBIx::Recordset can shuttle form data from
a query string into a database in one line of Perl code:</p>
<pre>
 DBIx::Recordset-&gt;Insert({%formdata,%dsn});</pre>
<p>One line of DBIx::Recordset can also drive recordset retrieval via
form data as well as iterate through the results: 
</p>
<pre>

 # here we: SELECT * FROM sales and automatically tie
 # the selected records to @result</pre>
<pre>
 *result = DBIx::Recordset-&gt;Search({
        %dsn,'!Table'=&gt;'sales',%formdata
        });</pre>
<pre>
 # here we iterate across our results...
 map { 
  printf (&quot;&lt;TR&gt;Sucker # %d purchased item # %s on %s&lt;/TR&gt;&quot;, 
        $_-&gt;{customer_id}, $_-&gt;{item_id}, $_-&gt;{purchase_date}) 
 } @result;</pre>
<p>The above code is automatically quoted and requires no tiresome
connect, prepare and execute ritual.</p>
<p>DBIx::Recordset also has helper functions which create the HTML for
``previous-next-first-last'' navigation of recordsets:</p>
<pre>
 $nav_html = $::result -&gt; PrevNextForm ({
        -first =&gt; 'First',  -prev =&gt; '&lt;&lt;Back', 
        -next  =&gt; 'Next&gt;&gt;', -last =&gt; 'Last',
                -goto  =&gt; 'Goto #'}, 
        \%formdata);</pre>
<p>In this case, we use the scalar aspect of the typeglob, which provides
object-oriented access to the methods of the created recordset.</p>
<p>A final CGI nicety has to do with the fact that browsers send empty
form fields as empty strings. While in some cases you may want this
empty string to propagate into the database as a SQL null, it is also
sometimes desirable to have empty form fields ignored. It is possible
to specify which behavior you prefer through the DBIx::Recordset
'!IgnoreEmpty' hash field of the <code>Insert()</code> and <code>Update()</code> function.</p>
<p> </p>
<h4><a name="control and monitoring of table access" id="control and monitoring of table access">Control and Monitoring of Table Access</a></h4>
<p>A database handle in DBI is a carte blanche to add, retrieve, or remove anything from a database that one can do with a console interface to the database with the same login. The problem with this is that the semantics and volatility of an application's database code is not self-consistent but instead varies as a function of database permission alteration.<a href="#6">(6)</a> Au contraire, a DBIx::Recordset handle is much more structured. A handle is created and configured with a number of attributes: table write modes, accessible tables, and the method of logging database usage to name a few.</p>
<p>The first form of much-needed table access control that DBIx::Recordset offers is specification of the manners in which a particular database connection will be allowed to alter database tables. By the use of a binary-valued string, one specifies the subset of write operations (specifically none/insert/update/delete/clear) that are allowable. Such facilities are often needed when defining access levels to a database for various parties. For example, it is conceivable for a corporate intranet database to give insert access to sales employees, update access to customer service, delete access to processing and complete access to technical support. To implement such constraints in plain DBI would yield a confusing maelstrom of if-thens and 2-3 suicide attempts. With DBIx::Recordset, one simply creates a properly configured connection for each corporate intranet sector.</p>
<p>Tangential to the issue of write permission is the issue of which tables can be accessed at all. Control of table access is simply one more key-value pair to the connection setup hash. Finally to monitor the use of database handles, one only need setup a debug file for each handle.</p>
<p>Thus, assuming the package company::database has a hash %write_mode which contains the write modes for the intranet, a hash %log_file with the log files for each handle, and a hash %table_access which contains the tables for each member of the intranet, one would specify the tables and their mode of access and usage logs for the entire intranet as follows:</p>
<pre>{ 
  package company::database; 

  for (keys %write_mode) {

  *{$handle{$_}} = 
        DBIx::Recordset-&gt;Setup({%dsn, 
        '!Writemode' =&gt; $write_mode{$_}, 
        '!Tables'    =&gt; $table_access{$_}
        });
</pre>
<pre>
   DBIx::Recordset-&gt;Debug({
                '!Level' =&gt; 4,
                '!File'  =&gt; $log_file{$_},
                '!Mode'  =&gt; '&gt;'
                });
   }
}</pre>

<h4><a name="scalability" id="scalability">Scalability</a></h4>

<table border="1" cellpadding="2" cellspacing="5">

<tr>
<td align="left">
<b>Operation</b>
</td>
<td align="left">
<b>Code changes needed (DBI)</b>
</td>
<td align="left">
<b>Code changes (DBIx::Recordset)</b>
</td>
</tr>

<tr>

<td>
 Adding or              
 removing form          
 elements from a        
 webpage but still      
 having the database    
 code commit the        
 generated query        
 string properly.
</td>

<td>
For each change 
of the form (and
hence the query 
string), the    
database code   
would have to be
modified.       
</td>

<td>None</td>
</tr>

<tr>

<td>
 Taking an   
 un-normalized                  
 main table and         
 splitting it           
 into a number of       
 &quot;satellite&quot;      
 tables with            
 foreign keys in
 the main table
 to reference the
 satellite
 tables.</td>


<td>
For each table          
split,                  
additional terms        
would have to           
added to the            
          WHERE or JOIN 
clause.                 
</td>

<td>None</td>

</tr>

</table>

<p>Regardless of how well one plans a project, prototyping and early development are often evolutionary processes. Significant development time can be saved if database-processing routines remain invariant in the face of HTML and database re-design. It is in this regard that DBIx::Recordset dwarfs DBI, making it far more viable during the prototyping phases of a project. Having already shown DBIx::Recordset's scalability in the face of table mutations, this section will demonstrate DBIx::Recordset's scalability in the face of form data variations as well as database table splits.</p>
<h4><a name="form data variations" id="form data variations">Form Data Variations</a></h4>
<p>Let's assume you were developing a user registration form that submitted it's form data to db-commit.cgi for insertion into a database:</p>
<!--Please check code structure here, cleaned up some bad HTML-->
<pre>#!/usr/bin/perl
use CGI (:standard);
$formdata{$_} = param{$_} for param();
if ($#(DBIx::Recordset-&gt;Search(
 { %dsn,
  '!Table'  =&gt; user_registration,
  'username' =&gt; $formdata{username}
 })) &gt;= 0) {
 &amp;username_taken_error;
} else {
 DBIx::Recordset-&gt;Insert(
 { %dsn,
  '!Table'  =&gt; user_registration,
  %formdata
 }
}</pre>
<p>Now assume that you decided to add a new field called AGE to a table and a corresponding form. Under DBI, the insert query would have to be modified to account for the change. Because DBIx::Recordset takes a hash reference for its inserts, no code modification is required. Now of course, I can hear the DBI users squawking: ``I can develop a library that converts form data to hashes and turns this into query strings.'' And of course my hot retort is: ``But don't you see this is a homegrown, non-standard <a href="#7">(7)</a>API that will have to be duct-taped to other people's homegrown, non-standard solutions?''</p>
<h4><a name="table splits" id="table splits">Table Splits</a></h4>
<p>For another example of DBIx::Recordset's flexibility to architecture changes, consider the case where a table is split, perhaps for reasons of normalization. Thus, in the core table where you once explicitly coded a user's name into a field user_name you now have a foreign key titled user_name_id which points to a table called user_name which has a field titled id. Assume that you also later decided to do the same sort of normalization for other fields such as age-bracket or salary-bracket. With plain DBI, each time that a query was supposed to retrieve all fields from each of the associated tables, the query would have to be rewritten to accommodate the splitting of the main table. With DBIx::Recordset, no query would have to be rewritten because the tables were described in a format recognizable by DBIx::Recordset's database meta-analysis.</p>
<h3><a name="sample code" id="sample code">Sample Code</a></h3>
<p>On a recent contract I had to copy a user registration table (named uregister) to a new table (called uregisternew) which had all of the fields of the old table plus a few new fields designed to store profile information on the users.</p>
<p>The key thing to note about the DBIx::Recordset version of this code is that it is highly definitional: very little database mechanics clutters the main logic of the code, allowing one to focus on recordset migration from one table to another.</p>
<h4><a name="dbix::recordset version of code" id="dbix::recordset version of code">DBIx::Recordset Version of Code</a></h4>
<!--This section has some unchanged POD in it also which I can't interpret what is supposed to be happening here. It looks like some of the stuff here in <pre> tags should actually be in <p> tags, need check from author-->
<pre>
 #!/usr/bin/perl</pre>
<pre>
 =head1</pre>
<pre>
 uregisternew is a table with all the fields of uregister plus a few
 profile fields (ie, salary bracket, occupation, age) which contain a
 positive integer which serves as index into the array for that
 particular profile field.</pre>
<pre>
 The purpose of this script is to copy over the same fields and
 generate a valid array index for the new profile fields.</pre>
<pre>
 =cut</pre>
<pre>
 use Angryman::Database;
 use Angryman::User;
 use DBIx::Recordset;
 use Math::Random;
 use strict;</pre>
<pre>
 $::table{in}  = 'uregister';
 $::table{out} = 'uregisternew';
</pre>
<pre>

 # connect to database and SELECT * FROM uregister
 *::uregister = DBIx::Recordset-&gt;Search ({            
        %Angryman::Database::DBIx::Recordset::Connect, 
        '!Table' =&gt; $::table{in}  
        });</pre>
<pre>

 # because we will re-use the target table many times, we separate the 
 # connection and insert steps with this recordset
 *::uregisternew = DBIx::Recordset-&gt;Setup({  
        %Angryman::Database::DBIx::Recordset::Connect, 
        '!Table' =&gt; $::table{out} 
        });</pre>
<pre>

 # iterate through the recordsets from the old table:
 for my $uregister (@::uregister) {
     &amp;randomize_user_profile;
     # INSERT 
        # the old table data into the new table and
        # the computed hash of profile data
    $::uregisternew-&gt;Insert({%{$uregister},%::profile});
 }</pre>
<pre>
 # Angryman::User::Profile is a hash in which each key is a reference 
 # to an array of profile choices. For example:
 # $Angryman::User::Profile{gender} = [ 'male', 'female' ];
 # $Angryman::User::Profile{age} = ['under 14', '14-19', '20-25', ... ];
 # Because we don't have the actual data for the people in uregister,
 # we randomly assign user profile data over a normal distribution.
 # when copying it to uregisternew.
 sub randomize_user_profile {
    for (keys %Angryman::User::Profile) {
        my @tmp=@{$Angryman::User::Profile{$_}};
        $::profile{$_} = random_uniform_integer(1,0,$#tmp);
        $::profile{dob}='1969-05-11';
    }
 }
</pre>

<h4><a name="dbi version of code" id="dbi version of code">DBI Version of Code</a></h4>
<pre>
 #!/usr/bin/perl
</pre>
<pre>
<!--what is =head1? Is that POD format that didn't get changed over?-->
 =head1
 uregisternew is a table with all the fields of uregister plus a few
 profile fields (ie, salary bracket, occupation, age) which contain
 a positive integer which serves as index into the array for that
 particular profile field.</pre>
<pre>

 The purpose of this script is to copy over the same fields and
 generate a valid array index for the new profile fields.</pre>
<pre>

 This file is twice as long as the DBIx::Recordset version and it 
 easily took me 5 times longer to write.
 =cut <!--Same here, what is =cut?--></pre>
<pre>

 use Angryman::Database;
 use Angryman::User;
 use DBI;
 use Math::Random;
 use strict;</pre>
<pre>

 $::table{in}  = 'uregister';
 $::table{out} = 'uregisternew';</pre>
<pre>

 # connect to database and SELECT * FROM uregister
 my $dbh = DBI-&gt;connect($Angryman::Database::DSN, 
                        $Angryman::Database::Username, 
                        $Angryman::Database::Password);
 my $sth = $dbh-&gt;prepare('SELECT * FROM uregister');
 my $ret = $sth-&gt;execute;</pre>
<pre>

 &amp;determine_target_database_field_order;</pre>
<pre>

 # because we will re-use the target table many times, we separate the 
 # connection and insert steps with this recordset</pre>
<pre>

 # iterate through the recordsets from the old table:
 while ($::uregister = $sth-&gt;fetchrow_hashref) {</pre>
<pre>

     &amp;randomize_user_profile;
     &amp;fiddle_with_my_data_to_get_it_to_work_with_the_DBI_API();</pre>
<pre>

     # INSERT 
         # the old table data into the new table and
         # the computed hash of profile data
     my $sql = &quot;INSERT into $::table{out}($::sql_field_term) values($::INSERT_TERM)&quot;;
     $dbh-&gt;do($sql);
 }</pre>
<pre>

 # Angryman::User::Profile is a hash in which each key is a reference 
 # to an array of profile choices. For example:
 # $Angryman::User::Profile{gender} = [ 'male', 'female' ];
 # $Angryman::User::Profile{age} = ['under 14', '14-19', '20-25',  ];
 # Because we don't have the actual data for the people in uregister,
 # we randomly assign user profile data over a normal distribution.
 # when copying it to uregisternew.
 sub randomize_user_profile {
     for (keys %Angryman::User::Profile) {
         my @tmp=@{$Angryman::User::Profile{$_}};
         $::profile{$_} = random_uniform_integer(1,0,$#tmp);
     }</pre>
<pre>

     $::profile{dob}='';
 }</pre>
<pre>

 # Hmm, I cant just give DBI my data and have it figure out the order
 # of the database fields... So here he we go getting the field
 # order dynamically so this code doesnt break with the least little
 # switch of field position.
 sub determine_target_database_field_order {</pre>
<pre>

     my $order_sth = $dbh-&gt;prepare(&quot;SELECT * FROM $::table{out} LIMIT 1&quot;);
     $order_sth-&gt;execute;</pre>
<pre>

 # In DBIx::Recordset, I would just say $handle-&gt;Names()... but here we 
 # must iterate through the fields manually and get their names.</pre>
<pre>

     for (my $i = 0; $i &lt; $order_sth-&gt;{NUM_OF_FIELDS}; $i++) {
         push @::order_data, $order_sth-&gt;{NAME}-&gt;[$i];
     }</pre>
<pre>

     $::sql_field_term = join ',',  @::order_data;</pre>
<pre>

 }</pre>
<pre>

 # As ubiquitous as hashes are in Perl, the DBI API does not
 # offer a way to commit hashes to disk.
 sub fiddle_with_my_data_to_get_it_to_work_with_the_DBI_API {</pre>
<pre>

     my @output_data;
     for (@::order_data) {
         push @output_data, $dbh-&gt;quote
             (
              defined($::uregister-&gt;{$_}) 
              ? $::uregister-&gt;{$_} 
              : $::profile{$_}
              );
    }</pre>
<pre>

    $::INSERT_TERM=join ',', @output_data;
 }</pre>
<p> </p>
<h4><a name="empirical results" id="empirical results">Empirical Results</a></h4>
<table>
<tr>
<th>
                DBI</th>             <th> DBIx::Recordset</th>
</tr>
<tr>
         <td>1.4 seconds (1,2)</td>      <td>3.7 seconds (3,4)</td>
</tr>
</table>

<p>The average, minimum, and maximum number of seconds required to
execute the sample code under DBI and DBIx::Recordset. The code was
run on a database of 250 users.</p>

<h3><a name="conclusion" id="conclusion">Conclusion</a></h3>
<p>DBI accelerated past the ODBC API for database interface because it
was simpler and more portable. Because DBIx::Recordset is built on top
of DBI, it maintains these advantages and improves upon DBI's
simplicity. Because it also adds much-needed application-level
features to DBI, it is a clear choice for database driven Perl
applications.</p>
<p>A strong contender for an improvement of DBI is the recent effort by
Simon Matthews to simplify DBI use via a Template Toolkit plugin. Many
of the advantages of DBIx::Recordset are available to the DBI plugin
either intrinsically or due to the context in which it was
developed. For example, DBIx::Recordset allows filtering of
recordsets through the !Filter key to its database processing
functions. The plugin did not have to provide filtering because there
are several generic, widely useful filters (e.g., HTML, date, etc.)
already available for Template Toolkit. However, Matthew's DBI plugin
uses the same level of abstraction as DBI. This shortcoming, along
with the plug-in's lack of application-level databasing conveniences,
lands the plugin in the same functional boat as DBI with only nicer
syntax to pad the same troublesome ride.</p>
<p>That being said, DBI is preferable to DBIx::Recordset when speed is of
utmost importance. DBI's speed advantage is due to several factors <a href="#8">(8)</a>.
First DBIx::Recordset is built on the DBI API and thus one has the
overhead of at least one additional function call per
application-level database command. Secondly, it takes time for
DBIx::Recordset to decode its compact input algebra and produce
well-formed SQL.</p>
<p>All theory aside, my experience and the timing results show that you
don't lose more than a second or two when you reach for
DBIx::Recordset instead of DBI. Such a slowdown is acceptable in light
of what DBIx::Recordset offers over DBI: speed of development, power
of expression and availability of standard and necessary
application-level functionality.</p>
<p>Even if time constraints do lead one to decide that DBIx::Recordset is
inappropriate for a finished product because it is slightly slower
than DBI, it can prove especially handy during early prototyping or
when one is solving a complex problem and wants to focus on the flow
of recordsets as opposed to the mechanics of managing this flow.</p>

<h4><a name="acknowledgements" id="acknowledgements">Acknowledgements</a></h4>
<p>I would like to thank Gerald Richter (<a href="mailto:richter@ecos.de">richter@ecos.de</a>) for authoring
DBIx::Recordset, commenting on an early version of this manuscript as
well as providing me and others with free help on his great tool.</p>

<h4>Footnotes</h4>
<ol>
<li><a name="1" id="1">Actually, the DBI code is not equivalent to the DBIx::Recordset code because connection and database operations are always separate calls to the DBI API. The additional work required to use DBI has been omitted for brevity.</a></li>

<li><a name="2">The DBIx::Recordset code is also more accurate because it uses database metadata to determine which data to quote, while DBI uses string-based heuristics.</a></li>

<li><a name="3">DBIx::Recordset can be automatic and simple, but, you can also operate in a more manual mode to afford yourself time/space efficiency on the same order as DBI.</a></li>

<li><a name="4">More precisely, each row in the recordset is an anonymous hash which is referred to by one element of an array whose name is determined by the typeglob bound during the call to the Search() function.</a></li>

<li><a name="5" id="5">I can't wait to see the next generation of obfuscated Perl now that major database operations only take one line!</a></li>

<li><a name="6" id="6">Be this alteration done by friend or foe.</a></li>

<li><a name="7" id="7">Now admittedly, the transfer of a CGI query string into a hash is non-standard as well, but, most high-end web application frameworks for Perl (e.g. HTML::Embperl and HTML::Mason) provide this transfer automatically as part of their application-level API to web site development.</a></li>

<li><a name="8" id="8">Maybe that's why there's a cheetah on the front of the DBI book</a>.</li>
</ol>
                                    </div>


                                </div>
                                <div class="asset-footer">


                                    <div class="entry-tags">
                                        <h4>Tags<span class="delimiter">:</span></h4>
                                        <ul>
                                            <li><a href="javascript:void(0)" onclick="location.href='http://www.perl.com/mt-search.cgi?IncludeBlogs=2&amp;tag=Database&amp;limit=20';return false;" rel="tag">Database</a><span class="delimiter">,</span></li> <li><a href="javascript:void(0)" onclick="location.href='http://www.perl.com/mt-search.cgi?IncludeBlogs=2&amp;tag=DBI&amp;limit=20';return false;" rel="tag">DBI</a><span class="delimiter">,</span></li> <li><a href="javascript:void(0)" onclick="location.href='http://www.perl.com/mt-search.cgi?IncludeBlogs=2&amp;tag=DBIx%3A%3ARecordset&amp;limit=20';return false;" rel="tag">DBIx::Recordset</a><span class="delimiter">,</span></li> <li><a href="javascript:void(0)" onclick="location.href='http://www.perl.com/mt-search.cgi?IncludeBlogs=2&amp;tag=interface&amp;limit=20';return false;" rel="tag">interface</a><span class="delimiter">,</span></li> <li><a href="javascript:void(0)" onclick="location.href='http://www.perl.com/mt-search.cgi?IncludeBlogs=2&amp;tag=Perl&amp;limit=20';return false;" rel="tag">Perl</a></li>
                                        </ul>
                                    </div>

                                </div>
                            </div>


                    
                    


                        </div>
                    </div>


                    <div id="beta">
    <div id="beta-inner">


    
    <div class="widget-what-is-perl widget">
    <div class="widget-content widget-content-what-is-perl">
       Visit the home of the  Perl programming language: <a href="http://www.perl.org/">Perl.org</a
    </div>
</div>
<div class="widget-find-out-more widget-archives widget">
    <div class="widget-content">
        <ul>
            <li><a href="http://www.perl.org/get.html">Download</a></li>
            <li><a href="http://perldoc.perl.org/">Documentation</a></li>
            <li><a href="http://blogs.perl.org/">Perl Bloggers</a></li>
            <li><a href="http://news.perlfoundation.org/">Foundation News</a></li>
        </ul>
    </div>
</div><div class="widget-tcpc widget">
<h3 class="widget-header">Sponsored by</h3>
    <div class="widget-content">
        <a href="http://training.perl.com/" alt="Perl Training" target="_blank"><img src="/i/tcpc.png" width="150" height="50"></a>
    </div>
</div>

<div class="widget-syndication widget">
    <div class="widget-content">
        <ul>
            <li><img src="/mt-static/images/status_icons/feed.gif" alt="Subscribe to feed" width="9" height="9" /> <a href="/pub/atom.xml">Subscribe to this website's feed</a></li>

        </ul>
    </div>
</div>
<div class="widget-archive-monthly widget-archive widget">
    <h3 class="widget-header">Monthly <a href="/pub/archives.html">Archives</a></h3>
    <div class="widget-content">
        <ul>
        
            <li><a href="/pub/2014/02/">February 2014 (1)</a></li>
        
    
        
            <li><a href="/pub/2014/01/">January 2014 (1)</a></li>
        
    
        
            <li><a href="/pub/2013/10/">October 2013 (1)</a></li>
        
    
        
            <li><a href="/pub/2013/01/">January 2013 (1)</a></li>
        
    
        
            <li><a href="/pub/2012/12/">December 2012 (1)</a></li>
        
    
        
            <li><a href="/pub/2012/11/">November 2012 (1)</a></li>
        
    
        
            <li><a href="/pub/2012/10/">October 2012 (2)</a></li>
        
    
        
            <li><a href="/pub/2012/08/">August 2012 (2)</a></li>
        
    
        
            <li><a href="/pub/2012/06/">June 2012 (11)</a></li>
        
    
        
            <li><a href="/pub/2012/05/">May 2012 (18)</a></li>
        
    
        
            <li><a href="/pub/2012/04/">April 2012 (17)</a></li>
        
    
        
            <li><a href="/pub/2012/02/">February 2012 (1)</a></li>
        
    
        
            <li><a href="/pub/2011/12/">December 2011 (1)</a></li>
        
    
        
            <li><a href="/pub/2011/09/">September 2011 (1)</a></li>
        
    
        
            <li><a href="/pub/2011/08/">August 2011 (2)</a></li>
        
    
        
            <li><a href="/pub/2011/06/">June 2011 (1)</a></li>
        
    
        
            <li><a href="/pub/2011/05/">May 2011 (3)</a></li>
        
    
        
            <li><a href="/pub/2011/04/">April 2011 (1)</a></li>
        
    
        
            <li><a href="/pub/2011/03/">March 2011 (1)</a></li>
        
    
        
            <li><a href="/pub/2011/02/">February 2011 (1)</a></li>
        
    
        
            <li><a href="/pub/2011/01/">January 2011 (1)</a></li>
        
    
        
            <li><a href="/pub/2010/11/">November 2010 (1)</a></li>
        
    
        
            <li><a href="/pub/2010/10/">October 2010 (2)</a></li>
        
    
        
            <li><a href="/pub/2010/09/">September 2010 (1)</a></li>
        
    
        
            <li><a href="/pub/2010/08/">August 2010 (3)</a></li>
        
    
        
            <li><a href="/pub/2010/07/">July 2010 (2)</a></li>
        
    
        
            <li><a href="/pub/2010/04/">April 2010 (2)</a></li>
        
    
        
            <li><a href="/pub/2010/03/">March 2010 (4)</a></li>
        
    
        
            <li><a href="/pub/2008/05/">May 2008 (1)</a></li>
        
    
        
            <li><a href="/pub/2008/04/">April 2008 (2)</a></li>
        
    
        
            <li><a href="/pub/2008/03/">March 2008 (1)</a></li>
        
    
        
            <li><a href="/pub/2008/02/">February 2008 (1)</a></li>
        
    
        
            <li><a href="/pub/2008/01/">January 2008 (1)</a></li>
        
    
        
            <li><a href="/pub/2007/12/">December 2007 (2)</a></li>
        
    
        
            <li><a href="/pub/2007/09/">September 2007 (1)</a></li>
        
    
        
            <li><a href="/pub/2007/08/">August 2007 (1)</a></li>
        
    
        
            <li><a href="/pub/2007/07/">July 2007 (1)</a></li>
        
    
        
            <li><a href="/pub/2007/06/">June 2007 (1)</a></li>
        
    
        
            <li><a href="/pub/2007/05/">May 2007 (1)</a></li>
        
    
        
            <li><a href="/pub/2007/04/">April 2007 (1)</a></li>
        
    
        
            <li><a href="/pub/2007/03/">March 2007 (1)</a></li>
        
    
        
            <li><a href="/pub/2007/02/">February 2007 (1)</a></li>
        
    
        
            <li><a href="/pub/2007/01/">January 2007 (1)</a></li>
        
    
        
            <li><a href="/pub/2006/12/">December 2006 (1)</a></li>
        
    
        
            <li><a href="/pub/2006/11/">November 2006 (2)</a></li>
        
    
        
            <li><a href="/pub/2006/10/">October 2006 (1)</a></li>
        
    
        
            <li><a href="/pub/2006/09/">September 2006 (1)</a></li>
        
    
        
            <li><a href="/pub/2006/08/">August 2006 (1)</a></li>
        
    
        
            <li><a href="/pub/2006/07/">July 2006 (1)</a></li>
        
    
        
            <li><a href="/pub/2006/06/">June 2006 (1)</a></li>
        
    
        
            <li><a href="/pub/2006/05/">May 2006 (1)</a></li>
        
    
        
            <li><a href="/pub/2006/04/">April 2006 (1)</a></li>
        
    
        
            <li><a href="/pub/2006/03/">March 2006 (1)</a></li>
        
    
        
            <li><a href="/pub/2006/02/">February 2006 (4)</a></li>
        
    
        
            <li><a href="/pub/2006/01/">January 2006 (4)</a></li>
        
    
        
            <li><a href="/pub/2005/12/">December 2005 (4)</a></li>
        
    
        
            <li><a href="/pub/2005/11/">November 2005 (3)</a></li>
        
    
        
            <li><a href="/pub/2005/10/">October 2005 (2)</a></li>
        
    
        
            <li><a href="/pub/2005/09/">September 2005 (2)</a></li>
        
    
        
            <li><a href="/pub/2005/08/">August 2005 (9)</a></li>
        
    
        
            <li><a href="/pub/2005/07/">July 2005 (8)</a></li>
        
    
        
            <li><a href="/pub/2005/06/">June 2005 (9)</a></li>
        
    
        
            <li><a href="/pub/2005/05/">May 2005 (8)</a></li>
        
    
        
            <li><a href="/pub/2005/04/">April 2005 (7)</a></li>
        
    
        
            <li><a href="/pub/2005/03/">March 2005 (6)</a></li>
        
    
        
            <li><a href="/pub/2005/02/">February 2005 (7)</a></li>
        
    
        
            <li><a href="/pub/2005/01/">January 2005 (6)</a></li>
        
    
        
            <li><a href="/pub/2004/12/">December 2004 (8)</a></li>
        
    
        
            <li><a href="/pub/2004/11/">November 2004 (8)</a></li>
        
    
        
            <li><a href="/pub/2004/10/">October 2004 (5)</a></li>
        
    
        
            <li><a href="/pub/2004/09/">September 2004 (9)</a></li>
        
    
        
            <li><a href="/pub/2004/08/">August 2004 (6)</a></li>
        
    
        
            <li><a href="/pub/2004/07/">July 2004 (8)</a></li>
        
    
        
            <li><a href="/pub/2004/06/">June 2004 (6)</a></li>
        
    
        
            <li><a href="/pub/2004/05/">May 2004 (7)</a></li>
        
    
        
            <li><a href="/pub/2004/04/">April 2004 (8)</a></li>
        
    
        
            <li><a href="/pub/2004/03/">March 2004 (8)</a></li>
        
    
        
            <li><a href="/pub/2004/02/">February 2004 (9)</a></li>
        
    
        
            <li><a href="/pub/2004/01/">January 2004 (7)</a></li>
        
    
        
            <li><a href="/pub/2003/12/">December 2003 (4)</a></li>
        
    
        
            <li><a href="/pub/2003/11/">November 2003 (7)</a></li>
        
    
        
            <li><a href="/pub/2003/10/">October 2003 (8)</a></li>
        
    
        
            <li><a href="/pub/2003/09/">September 2003 (6)</a></li>
        
    
        
            <li><a href="/pub/2003/08/">August 2003 (7)</a></li>
        
    
        
            <li><a href="/pub/2003/07/">July 2003 (9)</a></li>
        
    
        
            <li><a href="/pub/2003/06/">June 2003 (9)</a></li>
        
    
        
            <li><a href="/pub/2003/05/">May 2003 (8)</a></li>
        
    
        
            <li><a href="/pub/2003/04/">April 2003 (8)</a></li>
        
    
        
            <li><a href="/pub/2003/03/">March 2003 (10)</a></li>
        
    
        
            <li><a href="/pub/2003/02/">February 2003 (8)</a></li>
        
    
        
            <li><a href="/pub/2003/01/">January 2003 (8)</a></li>
        
    
        
            <li><a href="/pub/2002/12/">December 2002 (5)</a></li>
        
    
        
            <li><a href="/pub/2002/11/">November 2002 (9)</a></li>
        
    
        
            <li><a href="/pub/2002/10/">October 2002 (7)</a></li>
        
    
        
            <li><a href="/pub/2002/09/">September 2002 (11)</a></li>
        
    
        
            <li><a href="/pub/2002/08/">August 2002 (8)</a></li>
        
    
        
            <li><a href="/pub/2002/07/">July 2002 (8)</a></li>
        
    
        
            <li><a href="/pub/2002/06/">June 2002 (4)</a></li>
        
    
        
            <li><a href="/pub/2002/05/">May 2002 (6)</a></li>
        
    
        
            <li><a href="/pub/2002/04/">April 2002 (6)</a></li>
        
    
        
            <li><a href="/pub/2002/03/">March 2002 (7)</a></li>
        
    
        
            <li><a href="/pub/2002/02/">February 2002 (5)</a></li>
        
    
        
            <li><a href="/pub/2002/01/">January 2002 (8)</a></li>
        
    
        
            <li><a href="/pub/2001/12/">December 2001 (7)</a></li>
        
    
        
            <li><a href="/pub/2001/11/">November 2001 (5)</a></li>
        
    
        
            <li><a href="/pub/2001/10/">October 2001 (9)</a></li>
        
    
        
            <li><a href="/pub/2001/09/">September 2001 (7)</a></li>
        
    
        
            <li><a href="/pub/2001/08/">August 2001 (13)</a></li>
        
    
        
            <li><a href="/pub/2001/07/">July 2001 (8)</a></li>
        
    
        
            <li><a href="/pub/2001/06/">June 2001 (13)</a></li>
        
    
        
            <li><a href="/pub/2001/05/">May 2001 (11)</a></li>
        
    
        
            <li><a href="/pub/2001/04/">April 2001 (9)</a></li>
        
    
        
            <li><a href="/pub/2001/03/">March 2001 (8)</a></li>
        
    
        
            <li><a href="/pub/2001/02/">February 2001 (8)</a></li>
        
    
        
            <li><a href="/pub/2001/01/">January 2001 (8)</a></li>
        
    
        
            <li><a href="/pub/2000/12/">December 2000 (6)</a></li>
        
    
        
            <li><a href="/pub/2000/11/">November 2000 (10)</a></li>
        
    
        
            <li><a href="/pub/2000/10/">October 2000 (10)</a></li>
        
    
        
            <li><a href="/pub/2000/09/">September 2000 (2)</a></li>
        
    
        
            <li><a href="/pub/2000/08/">August 2000 (2)</a></li>
        
    
        
            <li><a href="/pub/2000/07/">July 2000 (5)</a></li>
        
    
        
            <li><a href="/pub/2000/06/">June 2000 (7)</a></li>
        
    
        
            <li><a href="/pub/2000/05/">May 2000 (7)</a></li>
        
    
        
            <li><a href="/pub/2000/04/">April 2000 (3)</a></li>
        
    
        
            <li><a href="/pub/2000/03/">March 2000 (2)</a></li>
        
    
        
            <li><a href="/pub/2000/02/">February 2000 (2)</a></li>
        
    
        
            <li><a href="/pub/2000/01/">January 2000 (2)</a></li>
        
    
        
            <li><a href="/pub/1999/12/">December 1999 (6)</a></li>
        
    
        
            <li><a href="/pub/1999/11/">November 1999 (6)</a></li>
        
    
        
            <li><a href="/pub/1999/10/">October 1999 (5)</a></li>
        
    
        
            <li><a href="/pub/1999/09/">September 1999 (4)</a></li>
        
    
        
            <li><a href="/pub/1999/08/">August 1999 (3)</a></li>
        
    
        
            <li><a href="/pub/1999/07/">July 1999 (2)</a></li>
        
    
        
            <li><a href="/pub/1999/06/">June 1999 (3)</a></li>
        
    
        
            <li><a href="/pub/1999/04/">April 1999 (1)</a></li>
        
    
        
            <li><a href="/pub/1999/03/">March 1999 (1)</a></li>
        
    
        
            <li><a href="/pub/1999/01/">January 1999 (1)</a></li>
        
    
        
            <li><a href="/pub/1998/12/">December 1998 (1)</a></li>
        
    
        
            <li><a href="/pub/1998/11/">November 1998 (1)</a></li>
        
    
        
            <li><a href="/pub/1998/07/">July 1998 (2)</a></li>
        
    
        
            <li><a href="/pub/1998/06/">June 1998 (1)</a></li>
        
    
        
            <li><a href="/pub/1998/03/">March 1998 (1)</a></li>
        
        </ul>
    </div>
</div>
        
    

<div class="widget-powered widget">
    <div class="widget-content">
        <a href="http://www.movabletype.com/"><img src="/mt-static/images/bug-pbmt-white.png" alt="Powered by Movable Type 5.13-en" width="120" height="75" /></a>
    </div>
</div>



    </div>
</div>






                </div>
            </div>


            <div id="footer">
    <div id="footer-inner">
        <div id="footer-content">
            <div class="widget-powered widget">
                <div class="widget-content">
                    Powered by <a href="http://www.movabletype.com/" rel="generator">Movable Type Pro</a>
                </div>
            </div>

            <div class="widget-creative-commons widget">
                <div class="widget-content">
                    This blog is licensed under a <a href="http://creativecommons.org/licenses/by-nc-nd/3.0/">Creative Commons License</a>.
                </div>
            </div>

        </div>
    </div>
</div>



        </div>
    </div>
</body>
</html>
