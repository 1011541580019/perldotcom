<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" id="sixapart-standard">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<meta name="generator" content="Movable Type Pro 5.13-en" />
<link rel="stylesheet" href="/pub/styles.css" type="text/css" />
<link rel="start" href="/pub/" title="Home" />
<link rel="alternate" type="application/atom+xml" title="Recent Entries" href="/pub/atom.xml" />
<script type="text/javascript" src="/pub/mt.js"></script>
<!--
<rdf:RDF xmlns="http://web.resource.org/cc/"
         xmlns:dc="http://purl.org/dc/elements/1.1/"
         xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
<Work rdf:about="/pub/">
<dc:title>Perl.com</dc:title>
<dc:description>news and views of the Perl programming language</dc:description>
<license rdf:resource="http://creativecommons.org/licenses/by-nc-nd/3.0/" />
</Work>
<License rdf:about="http://creativecommons.org/licenses/by-nc-nd/3.0/">
</License>
</rdf:RDF>
-->

<script type="text/javascript">

 var _gaq = _gaq || [];
 _gaq.push(['_setAccount', 'UA-50555-22']);
 _gaq.push(['_trackPageview']);

 (function() {
   var ga = document.createElement('script'); ga.type =
   'text/javascript'; ga.async = true;
   ga.src = ('https:' == document.location.protocol ? 'https://ssl' :
   'http://www') + '.google-analytics.com/ga.js';
   var s = document.getElementsByTagName('script')[0];
   s.parentNode.insertBefore(ga, s);
 })();

</script>
<script type='text/javascript' src='http://partner.googleadservices.com/gampad/google_service.js'></script>
<script type='text/javascript'>
GS_googleAddAdSenseService("ca-pub-4136420132070439");
GS_googleEnableAllServices();
</script>
<script type='text/javascript'>
GA_googleAddSlot("ca-pub-4136420132070439", "Perl_728x90");
</script>
<script type='text/javascript'>GA_googleFetchAds();</script>
    <title>Perl.com: July 2001 Archives</title>


    <link rel="prev" href="/pub/2001/06/" title="June 2001" />
    <link rel="next" href="/pub/2001/08/" title="August 2001" />

</head>
<body id="perl-com" class="mt-archive-listing mt-datebased-monthly-archive layout-wt">
    <div id="container">
        <div id="container-inner">


            <div id="header">
    <div id="header-inner">
        <div id="header-content">
        <span id="top_advert"> 
<!-- Put any landscape advert in here -->
<!-- Perl_728x90 -->
<script type='text/javascript'>
GA_googleFillSlot("Perl_728x90");
</script>
        </span> 



            <div id="header-name"><a href="/pub/" accesskey="1">Perl.com</a></div>
            <div id="header-description">news and views of the Perl programming language</div>




        </div>
    </div>
</div>



            <div id="content">
                <div id="content-inner">


                    <div id="alpha">
                        <div id="alpha-inner">


                            <h1 id="page-title" class="archive-title">July 2001 Archives</h1>





                            
                            <div id="entry-1556" class="entry-asset asset hentry">
    <div class="asset-header">
        <h2 class="asset-name entry-title"><a href="/pub/2001/07/25/onion.html" rel="bookmark">The State of the Onion 5</a></h2>
        <div class="asset-meta">
            <span class="byline">
    
                By <span class="vcard author">Simon Cozens</span> on <abbr class="published" title="2001-07-25T00:00:00-08:00">July 25, 2001 12:00 AM</abbr>
    
            </span>

            
            

        </div>
    </div>
    <div class="asset-content entry-content">

        <div class="asset-body">
            
<p>Larry's State of the Onion presentation this year was, as every year,
completely different from previous years. As he noted, previous talks
have been about chemistry, theology, biology, and music; this year,
for once, Larry actually talked about Perl.</p>

<p>And this year the format was rather different. Based on the success 
of the lightning talks at previous Perl conferences, Larry decided to
adopt this for his presentation - he gave us thirty-three lightning
talks of fifty-five seconds each, with his daughter Heidi ruthlessly
manning the bell. So ruthless, in fact, that Larry had to encourage 
us to laugh quickly to avoid cutting into his talking time.</p>

<h3>Perl 6 and Apocalypses</h3>
<table border="0" align="right" cellpadding="4" cellspacing="0" width="150">
<tr>
<td valign="top" bgcolor="#efefef">
<img src="/pub/2001/07/25/graphics/larry.jpg">
<p class="secondary">Larry Wall during his State of the Onion speech at TPC 5. Larry's time keeper for the lightening rounds was Heidi Alayne Wall. For more on TPC 5 and the O'Reilly Open Source Convention, visit O'Reilly Network's <a href="http://oreillynet.com/oscon2001">conference coverage page</a>.

<p class="smalltext">Photo courtesty D. Story/J. Blanchard/O'Reilly Network</p>

</td></tr></table>


<p>Larry talked about both Perl 5 and Perl 6. He noted that many talented
people were putting dedication and love into Perl 5, and Perl 5 is
doing great. So much for Perl 5.</p>

<p>Perl 6 was obviously the major focus of Larry's talk, with each lightning
talk laying out the major points of an Apocalypse. As before,
Apocalypses mirrored chapters of the Camel book, <a href="http://www.oreilly.com/catalog/pperl3/">Programming Perl</a>.</p>

<p>Larry hinted that he'd already recanted part of the <a href="http://perl.com/pub/a/2001/05/03/wall.html">second Apocalypse</a>; 
the third Apocalypse was due to come out, but Larry got sick. On the
other hand, this gave him a chance to go slowly, and to do it right.</p>

<p>So his lightning talks really began with apocalypse three, about
operators. Larry noted that there had been a number of very specific
proposals, but he wanted to concentrate on generalities. He also
said that he was wavering on the idea of user-defined operators, and
particularly Unicode operators. <code>-&gt;</code> will become <code>.</code> - start accepting
that now. This will mean that the concatenation operator will have to
change, and this will probably become <code>~</code>.</p>

<p>The bell tolled, and so Larry had to move onto talk four - control
structures. To loud applause, he announced that Perl 6 would include a
switch statement; to some bemusement, however, he let on that it would
be called "<code>given</code>" - case statements would be called &quot;<code>when</code>". Another
notable renaming: "<code>local</code>" will become "<code>temp</code>".</p>

<p>Larry reiterated the need for optional type and property declarations;
this isn't the same as typing, but it's a way of specifying metadata
about a variable or subroutine. As you supply Perl with more metadata
about variables, it will gain efficiency in terms of storage and
manipulation. As the bell went, Larry was just explaining how 90% of
code wouldn't get that much faster but...</p>

<h3>Regular Expressions, Formats, Packages and Modules</h3>

<p>Larry's been thinking a lot about direct assignment
to variables from within a regular expressions, but has decided this
isn't the real problem - the real problem is that people want to build
up structures of anonymous hashes or arrays from a regular expression.</p>

<p>There will be set operations on characters classes: for instance, you'll
be able to specify a match of all letters without the vowels. Actually,
this will probably be in Perl 5 as well. There was also time to tell us
that he'd like the <code>/x</code> modifier to be on by default.</p>

<p>The next talk was about subroutines. Prototypes will be extended into a
complete type signature system; the sub keyword would be discarded on
closures - in fact, any curly braces which are not immediately
recognisable will be assumed to be a closure. Parameters to closures
will be "self-identifying", such as <code>$^a</code> and <code>$^b</code>.</p>

<p>Larry said that formats would be a module, so he didn't have
to say anything more about it.</p>
<p>The reference talk opened to the statement that pseudo-hashes must die;
there was loud applause. Larry reiterated that dereferences will be
assumed when a scalar is followed by braces - that is to say, what is
now <code>$foo-&gt;[$a]</code> will be reduced to  <code>$foo[$a]</code> in Perl 6. This will
require prohibiting whitespace before hash subscripts.</p>

<p>In terms of data types, there will be compact arrays; pseudo-hashes
will be replaced by opaque objects with named parameters. The <code>=&gt;</code>
operator will now create a pair type; the range operators will create
a slightly different type of pair, which gets expanded out to a range on
demand.</p>


<p>There will be a distinction between classes
and modules. Within a class or a module, there will be subpackages:
there will be no more need to type out <code>Myclass::SubclassA::SubclassB</code>;
just like Unix has relative pathnames and directories, Perl will have
modules that can be specified as relative namespaces.</p>

<p>On the theme of modules, module names would be extended to include
metadata on the version and the author's name. The default <code>use</code>
statement would allow the version and author's name to be wildcards.
There will also be virtual interface modules, and better automation
of documentation based on module metadata.</p>

<p>Objects should be easy to declare and have accessible metadata.
When you put an attribute onto the module, it will appear as a variable
inside of the class; outside of the class, it can be accessed as a
method. There will also be optional multimethods, and syntax like
<code>Class.bless($ref)</code> to bless a reference into a class.</p>













<h3>Addressing Concerns</h3>

<p>Larry mentioned that overloading was a headache; you hate it in 
languages that have it, and you hate it when languages don't have it.
Sometimes there are gratuitous abuses of overloading, such as C++'s
left-shift operator to add more arguments to a function. The overloading
system will be a lot cleaner, by specifying operators as special method
names. The vtable system will be leveraged to provide overloading on
objects. There will also be overloading hooks in <code>printf</code> so that new
formats can be defined.</p>

<p>Larry said that many of the proposals about tied variables missed the
point; what is tied is the variable, and not the value. Tying needs to
be naturally scoped to the variable's lifetime, and tying needs to be
declared in advance for efficiency.</p>

<p>He also begged for compassion towards programmers when dealing with
Unicode; we don't want to force people to have to deal with Unicode if
they don't want to, and equally we don't want to leave Unicode people
out in the cold. Strings need to be completely polymorphic, with
internal routines able to specify what type of strings they're able to
cope with. Normalization will normally be done at the filehandle level,
and the type system must remember whether or not some data has been
normalized.</p>

<p>The IPC talk asked for "no pain" installation of new protocols; there will be easy mapping of high-level structured data, such as XML-RPC or SOAP,
from the network onto Perl's internal data structures. Perl 6 will
continue to have safe signals. IPv6 will be supported.</p>

<p>The thread model will basically be ithreads, the new model in 5.6.0;
variables may be shared by declaration, but will not be shared by
default. The Pthread model will mean "share everything". Modules ought
to be thread safe by default - they should declare their thread-safety
or otherwise in their metadata.</p>

<p>Perl will have a parser of its own, written in Perl. This will allow us
to bytecompile the parser, and also have the parser modifiable. It'll
also help us port <code>eval</code> to Perl running on small virtual machines. 
Lexical analysis will remain as a one-pass process, and subroutines will
be compiled immediately on parsing.</p>

<p>The command line interface will not dramatically change; only one RFC
concerned it. Larry stressed Perl's role as a glue language, and that it must
cooperate with its environment.</p>

<p>Larry also had a shameful confession; he wrote the Perl debugger, but
hardly ever uses it - he's more a <code>print</code>-statement kinda guy. Hence,
he's happy to delegate the writing of the debugger to other people. He
did, however, point out the heavy dependency a debugger has on the
debugging facilities of the platform it runs on.</p>

<p>He's also punting on the internals, leaving the details of that to
Dan Sugalski, who's talking tomorrow. However, he said that the
internals will be much more modular; they will comprise a software CPU,
and regular expressions will compile down to normal Perl opcodes.
It will implement a variety of garbage collection models, and will use
vtables to despatch operations on values.</p>

<h3>What about CPAN?</h3>
<p>
CPAN got too big to download, and
there's a problem that ISPs never install enough of it for what their
users want. Bundles are a partial solution to this, but of late there
has been more interest in the development of an SDK for Perl.</p>

<p>Tainting will be implemented by the new property method, and sandboxing
will be achieved by using separate interpreter threads.</p>

<p>Perl 6 will attempt to remove some common goofs: Perl 5 has already
stopped taking up huge quantities of memory when you say 
<code>foreach $i (1 .. 1_000_000_000) { ... }</code>;, but Perl 6 will also apply
the same optimization to <code>@big = 1 .. 1_000_000_000;</code>. There'll also
be support for embedding your tests in POD.</p>
<p>Speaking of POD, <code>=begin</code> and <code>=end</code> will work for commenting because
now <code>=end</code> will go back to the previous state rather than going to POD.
Larry wants multiple POD streams, noting that the DATA filehandle is
essentially just another POD stream.</p>

<p>Perl culture has been mostly self-correcting; the Perl 6 announcement 
drove people to work together more strongly and fix up some of the flaws
of the community. However, Larry encouraged everyone to do their part;
newbie friendliness is one thing, but it's important to hold yourself to
higher standards than those to which you hold yourself.</p>

<p>The cleanup of special variables will be an exercise in balancing
cleanup with convenience. For instance <code>$_</code> will obviously be staying;
<code>$(</code>, on the other hand, will go. This allows us to free up <code>$( ... )</code>
for interpolating expressions. Bareword filehandles will go, and error
status variables may be merged.</p>

<p>Built-in functions. For functions with terribly long return lists, such
as <code>stat</code>, Perl will return modules; some subset of the proposed array
operators (<code>merge</code>, <code>partition</code>, <code>flatten</code>, etc.) will be included in
the core. The logical return values from functions such as <code>system</code>
will be made more sensible; <code>select</code> will be removed.</p>

<p>The standard Perl library will be almost entirely removed. The point of
this is to force ISPs to believe that Perl is essentially useless on its
own, and hence they will <strong>need</strong> to install additional modlues.
Pragmatic modules will have more freedom to warp Perl's syntax and
semantics, and will also provide real optimization hints.</p>

<p>Larry suggested that the standard module library could be downloaded
basically on demand; there will be a few modules which support basic
built-in functionality and their documentation. Perl 6 should deal with
I18N and L10N issues, and also support the sort of exception handling
that you would expect from languages of its type.</p>

<h3>"There are 35 seconds left. Any questions?"</h3>

<p>So that's the rudiments of the design of Perl 6. Over the coming months,
we'll see the rest of the Apocalypses, backed up by Exegeses from
Damian, and hopefully, eventually, code from Dan and the rest of the
team. We'll bring you our analysis of how the Perl 6 language is shaping up
when we all get home from the conference!</p>







        </div>



    </div>
    <div class="asset-footer"></div>
</div>


                            
                            <div id="entry-1554" class="entry-asset asset hentry">
    <div class="asset-header">
        <h2 class="asset-name entry-title"><a href="/pub/2001/07/17/mailfiltering.html" rel="bookmark">Mail Filtering with Mail::Audit</a></h2>
        <div class="asset-meta">
            <span class="byline">
    
                By <span class="vcard author">Simon Cozens</span> on <abbr class="published" title="2001-07-17T00:00:00-08:00">July 17, 2001 12:00 AM</abbr>
    
            </span>

            
            

        </div>
    </div>
    <div class="asset-content entry-content">

        <div class="asset-body">
            

<p>Let's face it. <i>procmail</i> is horrid. But for most of us, it's the only sensible way to handle mail filtering. I used to tolerate <i>procmail</i>, with its grotesque syntax and its less-than-helpful error messages, because it was the only way I knew to separate out my mail. One day, however, I decided that I'd been told &quot;delivery failed, couldn't get lock&quot; or similar garbage for the very last time, and decided to sit down and write a <i>procmail</i> replacement.</p>

<p>That's when it dawned on me that what I really disliked about <i>procmail</i> was the recipe format. I didn't want to handle my mail with a collection of colons, zeroes, and single-letter commands that made <tt>sendmail.cf</tt> look like a Shakespearean sonnet; I wanted to program my mail routing in a nice, high-level language. Something like Perl, for instance.</p>

<p>The result is the astonishingly simple Mail::Audit module. In this article, we'll examine what we can do with Mail::Audit and how we can use it to create mail filters. We'll also look at the News::Gateway module for turning mailing lists into newsgroups and back again.</p>

<h3>What Is It?</h3>

<p>Mail::Audit itself isn't a mail filter - it's a toolkit that makes it very easy for you to build mail filters. You write a program that describes what should happen to your mail, and this replaces your <i>procmail</i> command in your <tt>.forward</tt> or <tt>.qmail</tt> file.</p>

<p>Mail::Audit provides the functionality for extracting mail headers, bouncing, accepting, rejecting, forwarding, and filtering incoming mail.</p>

<h3>A Very Simple Mail Filter</h3>

<p>Here's the simplest filter program we can make with Mail::Audit.</p>

<pre>
    use Mail::Audit;
    my $incoming = Mail::Audit-&gt;new;
    $incoming-&gt;reject;
</pre>

<p>If you save this as <tt>~/bin/chuckmail</tt>, then you can put the following in a <tt>.forward</tt> file:</p>

<pre>
    |~/bin/chuckmail
</pre>

<p>or in a <tt>.qmail</tt> file:</p>

<pre>
    preline ~/bin/chuckmail
</pre>

<p>Every mail message you receive will now pass through this program. The mail comes into the program via standard input, and the <tt>new()</tt> method takes it from there and turns it into a Mail::Audit object:</p>

<pre>
    my $incoming = Mail::Audit-&gt;new;
</pre>

<p>Next, we bounce it as undeliverable:</p>

<pre>
    $incoming-&gt;reject;
</pre>

<p>We could even get fancy, and supply a reason with the bounce:</p>

<pre>
$incoming-&gt;reject(&lt;&lt;EOF);
    The local user was silly enough to leave chuckmail as his
    mail filter.  Too bad you can't mail him to let him know.
EOF
</pre>

<p>This reason will be relayed back to the sender as part of the bounce message.</p>

<h3>Separating Mail Into Folders</h3>

<p>The one thing most people use <i>procmail</i> for is to separate mail out into several mail folders. Here's an example of how we'd do this:</p>

<pre>
    use Mail::Audit;
    my $item = Mail::Audit-&gt;new;

    if ($item-&gt;from =~ /perl5-porters/) {
        $item-&gt;accept(&quot;/home/simon/mail/p5p&quot;)
    }

    $item-&gt;accept;
</pre>

<p>Now any mail with <tt>perl5-porters</tt> in the <tt>From:</tt> line will be added to the file <tt>mail/p5p</tt> under my home directory. Any other mail will be accepted into my inbox as normal.</p>

<p>Two things to note here:</p>

<ul>
<li>Once the mail has been filed to <tt>mail/p5p</tt> via <tt>accept()</tt>, it leaves the program. Game over, end of story. The same goes for the other methods such as <tt>reject()</tt>, <tt>pipe()</tt>, and <tt>bounce()</tt>.</li>
<li>The last line in the program should probably be an <tt>accept()</tt> call; mail that reaches the end of the program without being deposited in a mailbox or rejected will be silently ignored. (This may change to an implicit <tt>accept()</tt> in a later version, to be more <i>procmail</i>-like.)</li>
</ul>

<p>If you've got a few mailing lists or people you want to filter, you could do this:</p>

<pre>
  use Mail::Audit;
  my $item    = Mail::Audit-&gt;new;
  my $maildir = &quot;/home/simon/mail/&quot;;

  my %lists = (
      perl5-porters    =&gt; &quot;p5p&quot;,
      helixcode        =&gt; &quot;gnome&quot;,
      uclinux          =&gt; &quot;uclinux&quot;,
      'infobot\.org'   =&gt; &quot;infobot&quot;,
      '@dion\.ne\.jp'  =&gt; &quot;yamachan&quot;
  );

  for my $pattern (keys %lists) {
      $item-&gt;accept($maildir.$lists{$pattern})
          if $item-&gt;from =~ /$pattern/ 
             or $item-&gt;to =~ /$pattern/;
  }

  $item-&gt;accept;
</pre>
<p>This time, we perform a regular expression match to see if either the <tt>From:</tt> line or the <tt>To:</tt> line match any of the patterns in our hash keys, and if they do, direct the mail to the corresponding folder. Since we're using ordinary Perl regular expressions, we can do this sort of thing:</p>

<pre>
  '\bxxx.*\.com$'  =&gt; &quot;spam&quot;
</pre>

<p>(And you'd be surprised at quite how much junk mail that one traps.)</p>

<p>Here's another simple but remarkably effective spamtrap recipe:</p>

<pre>
  $item-&gt;accept(&quot;questionable&quot;)
      if $item-&gt;from !~ /simon/i and $item-&gt;cc !~ /simon/i;
</pre>

<p>We check the <tt>From:</tt> and <tt>CC:</tt> headers for my name, and if it's not in either - the mail probably isn't to me. This one only makes sense after we've filtered out mailing list messages, which could validly be sent from a subscriber to a generic list address.</p>














<h3>Mail and News</h3>

<p>I much prefer reading mailing lists as newsgroups; while a good mail client like <i>mutt</i> can display mail as threaded discussions, I personally prefer navigating in a newsreader. So, how do we gate mailing lists to newsgroups and back? Russ Allbery's News::Gateway module helps do just that - it provides a program called <i>listgate</i> which takes an incoming mailing list message, reformats it as a valid news article, and then posts it to the news server. We can plug this into our mail filter quite easily; assuming we've got the group <tt>lists.p5p</tt> set up on the local news server and we've configured listgate appropriately, we can just say:</p>

<pre>
  $item-&gt;pipe(&quot;listgate p5p&quot;) if $item-&gt;from =~ /perl5-porters/;
</pre>

<p>Again, if we've got multiple groups, we can use a hash to correlate patterns to groups as we did with mailing lists above.</p>

<p>So much for getting incoming mail to news - what about getting posted articles back into the mailing list? The key to this is in the newsgroup moderation system - when you post to a moderated newsgroup, the article is mailed to a moderator for approval. If we set the moderator of <tt>lists.p5p</tt> to the list address, we can get our outgoing posts sent to the list. In <tt>/usr/news/etc/moderators</tt>, you'd say</p>

<pre>
    lists.p5p:  perl5-porters@perl.org
</pre>

<p>Very easy. The only problem is that it doesn't work. Mail messages and news articles have a slightly different format, and some mailing list managers will reject mail messages that look like news articles. So we need to send our message through a clean-up phase first. Instead of sending it to <tt>perl5-porters@perl.org</tt>, we'll instead send it to <tt>news-outgoing@localhost</tt>:</p>

<pre>
    lists.*:    news-outgoing@localhost
</pre>

<p>Mail arriving at that account needs to go through another Perl program to clean up and dispatch the outgoing article, and that looks like this:</p>

<pre>
    #!/usr/bin/perl
    use News::Gateway;
    my $gw=News::Gateway-&gt;new(0);
    $gw-&gt;modules( 'newstomail', 'headers');
    $gw-&gt;config_line(&quot;newstomail /home/simon/bin/news2mail.h&quot;);
    $gw-&gt;config_line(&quot;header newsgroups drop&quot;);
    $gw-&gt;config_line(&quot;header organisation drop&quot;);
    $gw-&gt;config_line(&quot;header nntp-posting-host drop&quot;);
    $gw-&gt;read(*STDIN) or die $!;
    $gw-&gt;apply();
    $gw-&gt;mail();
</pre>

<p>This reads an article from standard input, drops the <tt>Newsgroups</tt>, <tt>Organisation</tt>, and <tt>NNTP-Posting-Host</tt> headers, reformats it as a mail message using the configuration file <tt>/home/simon/bin/news2mail.h</tt> to find the address, and then sends it. That config file is just a list of newsgroups and the addresses they belong to:</p>

<pre>
    lists.p5p perl5-porters@perl.org
    lists.tlug tlug@tlug.gr.jp
    lists.advocacy advocacy@perl.org
    lists.linux-kernel linux-kernel@vger.rutgers.edu
    lists.perl-friends perl-friends@perlsupport.com
</pre>

<p>So here's the recipe for filtering news to mail and back again:</p>

<p>&#149; Incoming messages</p>

<blockquote>
<p>will be trapped by a rule in your mail filter, and be piped to <tt>listgate</tt> via a line like</p>

<pre>
    $item-&gt;pipe(&quot;listgate p5p&quot;)
		if $item-&gt;from =~ /perl5-porters/;
</pre>

<p><tt>listgate</tt> will then post them to your news server, to the group <tt>lists.p5p</tt>.</p>

</blockquote>

<p>&#149; Outgoing articles</p>

<blockquote>

<p>will be sent to the moderator address, <tt>news-outgoing@localhost</tt> for cleanup. The cleanup program will drop unnecessary headers, reformat as a mail message, and then look at the configuration file to determine where to send them on. They'll be sent to the mailing list, and sometime later will be returned to you by mail, to appear in the newsgroup as above.</p>

</blockquote>














<h3>A Complete Filter</h3>

<p>Here, to show off exactly what I do with Mail::Audit, is a suitably anonymized and annotated version of the filter I currently use to process my incoming mail.</p>

<pre>
    #!/usr/bin/perl
    use Mail::Audit;
    $folder = &quot;/home/simon/mail/&quot;;
</pre>

<p>Anything that actually reaches me is going to be logged so that I can <tt>tail -f</tt> a summary of incoming mail to one of my terminals.</p>

<pre>
    open (LOG, &quot;&gt;/home/simon/.audit_log&quot;);
</pre>

<p>Read in the new mail message, and extract the important headers from it:</p>

<pre>
    my $item = Mail::Audit-&gt;new;
    my $from = $item-&gt;from();
    study $from;
    my $to = $item-&gt;to();
    my $cc = $item-&gt;cc();
    my $subject = $item-&gt;subject();
    chomp($from, $to, $subject);
</pre>

<p>If I'm likely to be at the office, I appreciate a copy of all mail I receive, in case there's something I need to deal with immediately. So I need <i>time-controlled</i> filtering. Try doing this with <i>procmail</i>:</p>

<pre>
    my ($hour, $wday) = (localtime)[2,6];
    if ($wday !=0 and $wday !=6         # Not Saturday/Sunday
        and $hour &gt; 9 and $hour &lt; 18) { # Between 9am and 6pm
        print LOG &quot;$subject: $from: Bouncing to work\n&quot;;
        $item-&gt;resend('simon@theoffice.com');
        # resend is the only action
        # which doesn't end the program.
    }
</pre>

<p>One of my users didn't have their own email address for a while, so they had their friends send mail to me instead. Now they have their own address, so the mail is bounced across to them:</p>

<pre>
    $item-&gt;bounce('ei@somewhere.com') if $subject =~ /^For Ei:/;
</pre>

<p>I maintain two FAQs: the perl5-porters FAQ and the Tokyo high speed connectivity FAQ. The mail comes to different email addresses, but it all ends up at my box. They need to go in separate folders.</p>

<pre>
    $item-&gt;accept(&quot;$folder/p5p-faq&quot;)   if $to=~ /p5p-faq/;
    $item-&gt;accept(&quot;$folder/tokyo-faq&quot;) if $to=~ /faq/;
</pre>

<p>I get some mail in Greek which needs to be processed with <tt>metamail</tt> to sort out the character sets. The pipe method squirts the mail to a separate program:</p>

<pre>
    $item-&gt;pipe(&quot;metamail -B -x &gt; $folder/greek&quot;)
				if $from =~/hri\.org$/;
</pre>

<p>Some people I definitely want to hear from, so they get accepted at this stage to save time:</p>

<pre>
    for (qw(goodguy dormouse locust)) {
        if ($from =~ /$_/) {
            print LOG &quot;$from:$subject:Exception, 
				accepting into inbox\n&quot;;
            $item-&gt;accept;
        }
    }
</pre>

<p>Some people I very definitely do not want to hear from:</p>

<pre>
    for (qw(badguy nasty enemy)) {
        if ($from =~ /$_/) {
            print LOG &quot;$from:$subject:Dumped\n&quot;;
            $item-&gt;reject(&quot;Go away! Stop emailing me!&quot;);
        }
    }
</pre>

<p>Some people or mailing lists I currently just don't have time for, so they get silently ignored:</p>

<pre>
    for (qw(freshmeat.net microsoft news\@myhost cron)) {
        if ($from =~ /$_/) {
            print LOG &quot;$from:$subject:Ignored\n&quot;;
            $item-&gt;ignore;
        }
    }
</pre>

<p>Some mailing lists I want to stay as lists:</p>

<pre>
    my %lists = (
        &quot;pound.perl.org&quot;	=&gt; &quot;purl&quot;,
        &quot;helixcode&quot;      	=&gt; &quot;gnome&quot;,
        &quot;uclinux&quot;        	=&gt; &quot;uclinux&quot;,
        &quot;infobot&quot;        	=&gt; &quot;infobot&quot;,
        &quot;european-&quot;      	=&gt; &quot;yapc&quot;,
        &quot;tpm\@otherside&quot; 	=&gt; &quot;tpm&quot;,
        &quot;hellenic&quot;       	=&gt; &quot;greeknews&quot;,
    );
    for my $what (keys %lists) {
        next unless $from =~ /$what/i or 
			$to =~ /$what/i or $cc =~/$what/i;
        my $where = $lists{$what};
        print LOG &quot;$from:$subject:List, 
			accepting to folder $where\n&quot;;
        $item-&gt;accept($folder.$where);
    }
</pre>	

<p>And some I want to pipe to <tt>listgate</tt> as newsgroups:</p>

<pre>
    my %gated = (
        &quot;tlug&quot;	=&gt; &quot;tlug&quot;,
        &quot;advocacy&quot;	=&gt; &quot;advocacy&quot;,
        &quot;security-sig&quot;	=&gt; &quot;security&quot;,
        &quot;iss.net&quot;	=&gt; &quot;security&quot;,
        &quot;securityfocus&quot;	=&gt; &quot;security&quot;,
        &quot;perl5-porters&quot;	=&gt; &quot;p5p&quot;,
        &quot;linux-kernel&quot;	=&gt; &quot;linux-kernel&quot;,
        &quot;perlsupport&quot;	=&gt; &quot;perl-friends&quot;,
    );

    for my $what (keys %gated) {
        next unless $from =~ /$what/i or 
			$to =~ /$what/i or $cc =~/$what/i;
        my $where=$gated{$what};
        print LOG &quot;$from:$subject:Gated to lists.$where\n&quot;;
        $item-&gt;pipe(&quot;/usr/local/bin/listgate $where&quot;);
    }
</pre>

<p>Some spammers just don't give up, so we actually reject their messages. We do this based on subject, which is a bit risky but seems to work:</p>

<pre>
    for (&quot;Invest&quot;, &quot;nude asian&quot;))  {
        $item-&gt;reject(&quot;No! Go away!&quot;)
				if $subject=~/\b$_\b/;
    }
</pre>














<p>Before we let the article in to the inbox, there's a long list of patterns at the end of the program which match known spam senders. We check the incoming mail against this list, and save it for analysis and reporting:</p>

<pre>
    while (&lt;DATA&gt;) {
        chomp;
        next unless $from =~ /$_/i or $to =~ /$_/i;
        print LOG &quot;$from:$subject:Spam?\n&quot;;
        $item-&gt;accept($folder.&quot;spam&quot;);
    }
</pre>

<p>Now our final check for mail which doesn't appear to be for us:</p>

<pre>
    if ($item-&gt;from !~ /simon/i and $item-&gt;cc !~ /simon/i) {
        print LOG &quot;$from:$subject:Badly addressed mail\n&quot;;
        $item-&gt;accept(&quot;questionable&quot;)
    }
</pre>

<p>Finally, we let the mail in:</p>

<pre>
    print LOG &quot;INCOMING MAIL:$from:$subject:
			Accepting to inbox\n&quot;;
    $item-&gt;accept();
</pre>

<h3>Caveats</h3>

<p>I'm perfectly happy to trust Mail::Audit with all my incoming email. For a while it was running alongside <i>procmail</i>, but now it rules the roost. However, there are some things which you do need to take care about if you want to run it yourself.</p>

<p>Mail::Audit has been tested on <tt>qmail</tt> and <tt>postfix</tt> - it should work fine on other MTAs (Message Transfer Agents), so long as they believe that <tt>exit 100</tt>; means reject. If they don't, you can override the <tt>reject</tt> method like this:</p>

<pre>
    $item = Mail::Audit-&gt;new(
            reject =&gt; sub { exit 67; }
    );
</pre>

<p>It also assumes that the default mailbox is <tt>/var/spool/mail/name</tt> where <tt>name</tt> is user ID of the current user. If this isn't the case, (I believe <tt>mh</tt> doesn't work like this) say <tt>accept(&quot;Mailbox&quot;)</tt> or override <tt>accept</tt> with a subroutine of your own.</p>

<p>Finally, Mail::Audit isn't sophisticated. It's little other than a wrapper around Mail::Internet. While it's probably perfectly fine for most filters you want to write, don't expect it to do everything for you.</p>

<h3>Conclusion</h3>

<p>Mail::Audit and News::Gateway are both available from CPAN; together they allow you to very easily construct mail filters and newsgroup gateways in Perl. It's a great way to filter your mail with Perl, and an excellent replacement for moldy old <i>procmail</i>.</p>

<p class="smalltext"><i>Copyright
The Perl Journal. Reprinted with permission from CPM Media LLC. All rights reserved.</p>


        </div>



    </div>
    <div class="asset-footer"></div>
</div>


                            
                            <div id="entry-1562" class="entry-asset asset hentry">
    <div class="asset-header">
        <h2 class="asset-name entry-title"><a href="/pub/2001/07/p5pdigest/20010716.html" rel="bookmark">This Week on p5p 2001/07/16</a></h2>
        <div class="asset-meta">
            <span class="byline">
    
                By <span class="vcard author">Simon Cozens</span> on <abbr class="published" title="2001-07-16T00:00:00-08:00">July 16, 2001 12:00 AM</abbr>
    
            </span>

            
            

        </div>
    </div>
    <div class="asset-content entry-content">

        <div class="asset-body">
            <h3><a name="Notes">Notes</a></h3>
<table width="150" border="0" cellspacing="0" cellpadding="4" align="right">
<tr> 
<td width="150" valign="top" height="4" bgcolor="#6699cc"></td></tr> 
<tr>
<td bgcolor="#efefef">
<p class="headline" align="center">This Week on P5P
</p>
<p class="smalltext">
&#149; <a href="#572_is_out">5.7.2 is out!</a><br /><br />
&#149; <a href="#Many_threading_fixes">Many threading fixes</a><br /><br />
&#149; <a href="#package">package;</a><br /><br />
&#149; <a href="#SUPER_debate_rages_on">SUPER:: debate rages on</a><br /><br />
&#149; <a href="#Various">Various</a>
</td></tr> <tr><td width="150" valign="top" height="4" bgcolor="#6699cc"> </td></tr></table>
<p>
  
Please send corrections and additions to perl-thisweek-YYYYMM@simon-cozens.org 
where YYYYMM is the current year and month. Changes and additions to the 
perl5-porters biographies are particularly welcome.
</p>

<p>
A somewhat abridged summary this week, since I'm out and on the road.
Today Boston, tomorrow Montreal - Wednesday, the world!
<h3><a name="572_is_out">5.7.2 is out!</a></h3>

</p>

<p>

Jarkko released 
<a href="http://www.cpan.org/src/perl-5.7.2.tar.gz">Perl 5.7.2</a> on Friday the 13th, tempting fate a little.
</p>

<p>
5.7.2 has an odd-numbered subversion and so it's a development release,
use it at your peril.
</p>

<p>
Jarkko says: 
<blockquote></p>

</p><pre>
    Perl 5.7.2 can be considered to be the virtual Release Candidate
    Zero for the Perl 5.8.0, it is just not called a Release Candidate.
    It is in pretty good shape, it is just that it is not *quite* yet
    ready to be a major release.  No large changes are expected between
    now and 5.8.0.
</blockquote><h3><a name="Many_threading_fixes">Many threading fixes</a></h3>

</pre>

<p>

Artur Bergman put in a lot of work to move PMOPs into the pad; 
<code>PL_regex_padav</code> will now give you a padlist of regexes. He also made Perl use
re-entrant C library calls where available - workarounds for
<code>localtime</code> and 
<code>gmtime</code> are used when Perl is configured with 
<code>-Dusereentrant</code>. There's also a per-interpreter memory buffer which helps
out with the re-entrant stuff. (No, I'm not sure how.)
</p>

<p>
Artur notes that Win32 and Digital Unix are already re-entrant
due to sane C libraries, but other C runtimes may need 
<code>-Dusereentrant</code>. 
</p>

<p>
Abhijit also wrote 
<code>re_dup</code>, a cloning function for regular expressions, and there have
been discussions of deep cloning functions as well.
<h3><a name="package">package;</a></h3>

</p>

<p>

The &quot;super-strict&quot; 
<code>package;</code> construction - used for turning off the default package - has been
judged to be confusing, buggy as hell and a pain in the neck. As 
such, it's being ripped out - Abhijit Menon-Sen is seeing to this.
<h3><a name="SUPER_debate_rages_on">SUPER:: debate rages on</a></h3>

</p>

<p>

Oh well, I tried to quickly brush off the discussion of 
<code>SUPER::</code> last week, but it didn't work: 60 or so messages were wasted, uh, spent
 on this interminable argument, which essentially boils down to &quot;
<code>SUPER::</code> is resolved at compiled time, not run time. This is wrong. Oh, no it
isn't. Oh yes it is.&quot; Great.
<h3><a name="Various">Various</a></h3>

</p>

<p>

Russ Allbery released a new version of the 
<a href="http://search.cpan.org/search?mode=dist&query=podlators">podlators</a> and 
<a href="http://search.cpan.org/search?mode=module&query=Term::ANSIColor">Term::ANSIColor</a>.
</p>

<p>
Sadayuki Tomohiro produced a bunch of very useful 
<code>Encode</code> fixes, which unfortunately just missed 5.7.2.
</p>

<p>
Jeff Pinyan spent ages perfecting a patch to warn on 
<code>q//o</code>, and then realised this was a bad idea. Roughly the same thing happened
for his idea of 
<code>Scalar::Utils::curse</code>, which was more complex than it might first appear. Oh, and Larry
didn't like it the last time someone tried this. Schwern used the
<code>curse</code> patch to take the opportunity to encourage people to use 
<code>Test::More</code> when writing new test suites. Jonathan Stowe added an option to 
<code>h2xs</code> to produce 
<code>Test::More</code>-aware test suites automatically.
</p>

<p>
Until next week I remain, your humble and obedient servant,
</p>

<hr>

<a href="mailto:simon@brecon.co.uk">Simon Cozens</a>




        </div>



    </div>
    <div class="asset-footer"></div>
</div>


                            
                            <div id="entry-1552" class="entry-asset asset hentry">
    <div class="asset-header">
        <h2 class="asset-name entry-title"><a href="/pub/2001/07/10/crypto.html" rel="bookmark">Symmetric Cryptography in Perl</a></h2>
        <div class="asset-meta">
            <span class="byline">
    
                By <span class="vcard author">Abhijit Menon-Sen</span> on <abbr class="published" title="2001-07-10T00:00:00-08:00">July 10, 2001 12:00 AM</abbr>
    
            </span>

            
            

        </div>
    </div>
    <div class="asset-content entry-content">

        <div class="asset-body">
            

<p>Having purchased the $250 cookie recipe from Neiman-Marcus, Alice wants to
send it to Bob, but keep it away from Eve, who snoops on everyone's
network traffic from the cubicle down the hall.</p>
<p>How can Perl help her?</p>

<h3><a name="ciphers">Ciphers</a></h3>
<p>Cryptographic algorithms, or <em>ciphers</em>, offer Alice one way to protect
her data. By encrypting the recipe before sending it over the network,
she can render it useless to anyone but Bob, who alone possesses the
secret information required to decrypt it.</p>
<p>Ciphers were once closely guarded secrets, but relying on the
secrecy of an algorithm is a risky proposition. If your security were
somehow compromised, adversaries could read all of your past messages,
and (if you ever discovered the breach) you must find an entirely
different algorithm to use in future.</p>
<p>Modern ciphers, usually publicly known and widely studied, rely on the
secrecy of a <em>key</em> instead. They encrypt the same plaintext differently
for each key; to decrypt a ciphertext, you must know the key used to
produce it. New keys are easy to generate, so the compromise of a single
key is a smaller problem. Although messages encrypted with the stolen
key are rendered readable, the algorithm itself can be reused.</p>
<p>Algorithms that use the same key for both encryption and decryption are
called <em>symmetric ciphers</em>. To use such an algorithm, Alice and Bob
must agree on a key to use before they can exchange messages. Since
decryption depends only on the knowledge of this key, they must ensure
that they share the key by a <em>secure channel</em> that Eve cannot access
(Alice could whisper the key into Bob's ear over dinner, for example).</p>
<p>Most well-known symmetric ciphers are <em>block ciphers</em>. The plaintext to
be encrypted must be split into fixed-length blocks (usually 64 or 128
bits long) and fed to the cipher one at a time. The resulting blocks (of
the same length) are concatenated to form the ciphertext.</p>
<p>The ciphers in widespread use today vary in strength, key length, block
size and their approach to encrypting data. Some of the popular ciphers
(IDEA, Twofish, Rijndael) are implemented by eponymous modules in the
Crypt:: namespace on the CPAN (Crypt::IDEA and so on).</p>
<p>To decide which cipher to use for a particular application, one must
consider the strength and speed required, and the computational resources
available. The decision cannot be made without research, but IDEA is
often considered the best practical choice for a general purpose cipher.</p>

<h3><a name="keys">Keys</a></h3>
<p>Symmetric ciphers usually use randomly generated keys (typically between
64 and 256 bits in length), and computers are notoriously bad at truly
random number generation. Fortunately, many modern systems have some
support for the generation of cryptographically secure random numbers,
ranging from expensive hardware to device drivers that gather entropy
from the timing delay between interrupts.</p>
<p>Crypt::Random, available from the CPAN, is a convenient interface to the
<code>/dev/random</code> device on many Unix systems. Once installed, it is 
simple to use:</p>
<pre>
    use Crypt::Random qw( makerandom );</pre>
<pre>
    $key = makerandom( Size =&gt; 128, Strength =&gt; 1);</pre>
<p>For cryptographic key generation, the <code>Strength</code> parameter should
always be 1. The <code>Size</code> in bits of the desired key depends on the
cipher you want to use the key with. Typical symmetric key sizes range
from 128 to 256 bits.</p>

<h3><a name="how can i use these in perl">How Can I Use These in Perl?</a></h3>
<p>The <code>Crypt</code> modules all support the same simple interface: <code>new($key)</code>
creates a cipher object, and the <code>encrypt()</code> and <code>decrypt()</code> methods
operate on single blocks of data. The responsibility for key generation
and sharing, providing suitable blocks, and the transmission of the
ciphertext, lies with the user. In the examples below, we will use the
Crypt::Twofish module. Twofish is a free, unpatented 128-bit block
cipher with a 128, 192, or 256-bit key.</p>
<pre>
    use Crypt::Twofish;</pre>
<pre>
    # Create a new Crypt::Twofish object with the 128-bit key generated
    # above.
    $cipher = Crypt::Twofish-&gt;new($key);</pre>
<pre>
    # Encrypt a block full of 0s...
    $ciphertext = $cipher-&gt;encrypt(pack &quot;H*&quot;, &quot;00&quot;x16);</pre>
<pre>
    # And then decrypt the result.
    print unpack &quot;H*&quot;, $cipher-&gt;decrypt($ciphertext);</pre>
<p>The implementation raises an important issue: What does one do with the
second chunk of an 18-byte file? Twofish cannot operate on anything less
than a 16-byte block, so <em>padding</em> must be added to the end of the last
block to make it 16 bytes long. NULs (\000) are usually used to pad the
block, but the value used doesn't matter, because the padding is removed
after the ciphertext is decrypted.</p>
<p>Alice can now use this code to encrypt her recipe:</p>
<pre>
    # Assume that $key contains a previously-generated key, and that
    # PLAINTEXT and CIPHERTEXT are filehandles opened for reading and
    # writing respectively.</pre>
<pre>
    $cipher = Crypt::Twofish-&gt;new($key);</pre>
<pre>
    while (read(PLAINTEXT, $block, 16)) {
        $len   = length $block;
        $size += $len;</pre>
<pre>
        # Add padding if necessary
        $block .= &quot;\000&quot;x(16-$len) if $len &lt; 16;</pre>
<pre>
        $ciphertext .= $cipher-&gt;encrypt($block);
    }</pre>
<pre>
    # Record the size of the plaintext, so that the recipient knows how
    # much padding to remove.
    print CIPHERTEXT &quot;$size\n&quot;;
    print CIPHERTEXT $ciphertext;</pre>
<p>The output of this program can be safely sent across the network to Bob,
perhaps as an e-mail attachment. Bob, having received the secret key by
some other means, can then use the following code to decrypt the
message:</p>
<pre>
    $cipher = Crypt::Twofish-&gt;new($key);</pre>
<pre>
    $size = &lt;CIPHERTEXT&gt;;</pre>
<pre>
    while (read(CIPHERTEXT, $ct, 16)) {
        $pt .= $cipher-&gt;decrypt($ct);
    }</pre>
<pre>
    # Write only $size bytes of the output; ignore padding.
    print PLAINTEXT substr($pt, 0, $size);</pre>
<p>This is really all we need for symmetric cryptography in Perl. Using a
different cipher is simply a matter of installing another module and
changing the ``Twofish'' above. From a cryptographic perspective, however,
there are still some problems we must consider.</p>




<h3><a name="cipher modes">Cipher Modes</a></h3>
<p>The code above uses the Twofish cipher in Electronic Code Book (ECB)
mode, meaning that <code>n</code>th ciphertext block depends only on the key
and the <code>n</code>th plaintext block. For a particular key, one could build an
exhaustive table (or Code Book) of plaintext blocks and their ciphertext
counterparts. Then, instead of actually encrypting the plaintext, one
could simply look at the relevant entries in the table to find the
ciphertext.</p>
<p>Because of the highly repetitive nature of most texts, plaintext blocks
and their corresponding blocks in the ciphertext tend to be repeated
quite often. Further, it is often possible to make informed guesses
about parts of the plaintext (Eve knows, for example, that Alice's
messages all have a long Tolkien quote in the signature).</p>












<p>Given enough patience and ciphertext, Eve can start to build a code
book that maps ciphertext blocks to plaintext ones. Then, without
knowing either the algorithm or the key, she could simply look up the
relevant blocks in the intercepted ciphertext and write down large
parts of the original plaintext!</p>
<p>Several new cipher modes have been invented to address this problem. One
of the most generally useful ones is Cipher Block Chaining. <em>CBC</em>
starts by generating a random block (called an Initializ,ation Vector, or
<em>IV</em>) and encrypting it. The first plaintext block is XORed with the
encrypted IV before being encrypted. Thereafter, each block is XORed
with the ciphertext of the block preceding it, and then encrypted.</p>
<p>Here, each ciphertext block depends on the preceding ciphertext block,
and the plaintext blocks so far. Thus, the blocks must be decrypted in
order, and none of the patterns displayed by ECB are present. The IV
itself does not need to be kept secret, and is usually transmitted with
the ciphertext like <code>$size</code> above.</p>
<p>Decryption of the ciphertext proceeds in the opposite order. The first
ciphertext block is decrypted and XORed with the IV to form the first
plaintext block, and each ciphertext block thereafter is XORed with the
previous one to form a plaintext block. Other modes are similar in
intent, but vary in detail, including the way errors in transmission
affect the ciphertext, and the amount of feedback or dependency on
previous blocks.</p>
<p>Alice and Bob could alter their code to perform cipher block chaining,
but the handy Crypt::CBC module can save them the trouble. The module,
available from the CPAN, is used in conjunction with a symmetric cipher
module (like Crypt::Twofish). It handles padding, IV generation and all
other details. The user only needs to specify a key, and the data to be
encrypted or decrypted.</p>
<p>Thus, Alice could just do:</p>
<pre>
    use Crypt::CBC;
    $cipher = new Crypt::CBC ($key, 'Twofish');
    undef $/; $plaintext = &lt;PLAINTEXT&gt;;
    print CIPHERTEXT $cipher-&gt;encrypt($plaintext);</pre>
<p>And Bob could do:</p>
<pre>
    use Crypt::CBC;
    $cipher = new Crypt::CBC ($key, 'Twofish');
    undef $/; $ciphertext = &lt;CIPHERTEXT&gt;;
    print PLAINTEXT $cipher-&gt;decrypt($ciphertext);</pre>
<p>Much simpler!</p>
<p>
<hr>
<h1><a name="asymmetric cryptography">Asymmetric Cryptography</a></h1>
<p>Asymmetric (or public-key) ciphers use a pair of mathematically related
keys, and the algorithms are so designed that data encrypted with one
half of the key pair can only be decrypted by the other. Bob can
generate a key pair and keep one half secret, while publishing the other
half. Alice can then encrypt the recipe with Bob's public key, knowing
that it can only be decrypted with the secret half. Although this
eliminates the need to share keys over a secure channel, it has its
problems, too. For one, most public key encryption schemes
require much longer keys (often 2048 bits or more) and are much slower.</p>
<p>The <code>Crypt</code> namespace contains modules for public key cryptography as
well. <code>Crypt::RSA</code> is a portable implementation of the (now free) RSA
algorithm, one of the most widely studied public-key encryption schemes.
There are interfaces to various versions of PGP (<code>Crypt::PGP2</code>,
<code>Crypt::PGP5</code>, <code>Crypt::GPG</code>), as well as implementations of public-key
based signature algorithms (<code>Crypt::DSA</code>).</p>
<p>
<hr>
<h1><a name="cryptanalysis">Cryptanalysis</a></h1>
<p>Unfortunately, our implicit assumption that the ciphertext is useless to
Eve is not always true. Depending on the information and resources that
are available to her, she can try various means to retrieve the recipe.
The simplest strategy is to try and guess the key Alice used. This is
known as a <em>brute-force attack</em>, and involves repeatedly generating
random keys and trying to decrypt the ciphertext with each one.</p>
<p>The effectiveness of this approach depends on the size of the key: the
longer it is, the more possible keys there are, and the more guesses
will be required, on average, to find the right one. Thus, the only
possible defense is to use a key long enough to make a key search computationally impractical.</p>
<p>How long is a safe key? DES with 56-bit keys was recently cracked in a
little less than a day, but the 128-bit keyspace (range of possible
keys) is <code>4 * 10**21</code> times larger still. Although computing power is
becoming cheaper, it seems likely that 128-bit keys will be safe from
brute-force attacks for many years to come.</p>
<p>Of course, there are far more sophisticated attacks that they may be
vulnerable to. As we saw in the description of ECB, cryptanalysts can
often exploit patterns in the plaintext (long signatures, repeated
phrases) or ciphertext (repeated blocks) to great advantage, or they may
look for weaknesses (or exploit known ones) in the algorithm. Often, a
combination of such techniques reduces the potential keyspace enough
that a brute-force attack becomes practical.</p>
<p>Cryptanalysis and cryptographic techniques advanced hand-in-hand; new
ciphers are designed to withstand old attacks, and newer attacks are
attempted all the time. This makes it very important to stay abreast of
current advances in cryptographic technology if you are serious about
protecting your data for long periods of time.</p>
<p>
<hr>
<h1><a name="further resources">Further Resources</a></h1>
<dl>
<dt><strong><a name="item_google%2Ecom">google.com</a></strong><br>
<dd>
The Great God Google knows enough about cryptography-related material to
keep you occupied for a considerable amount of time.
<p></p>
<dt><strong><a name="item_perl%2Dcrypto%2Dsubscribe%40perl%2Eorg"><a href="mailto:perl-crypto-subscribe@perl.org">perl-crypto-subscribe@perl.org</a></a></strong><br>
<dd>
The perl-crypto mailing list, although not very active at the moment, is
intended for discussion of all aspects (both user and developer level)
of cryptography with Perl.
<p></p>
<dt><strong><a name="item_Crypt%3A%3ATwofish">Crypt::Twofish</a></strong><br>
<dd>
The Crypt::Twofish module, which has benefited from the inputs of
several people, is a good example of how to write a portable cipher
implementation.
<p></p></dl>
        </div>



    </div>
    <div class="asset-footer"></div>
</div>


                            
                            <div id="entry-1560" class="entry-asset asset hentry">
    <div class="asset-header">
        <h2 class="asset-name entry-title"><a href="/pub/2001/07/p5pdigest/20010709.html" rel="bookmark">This Week on p5p 2001/07/09</a></h2>
        <div class="asset-meta">
            <span class="byline">
    
                By <span class="vcard author">Simon Cozens</span> on <abbr class="published" title="2001-07-09T00:00:00-08:00">July  9, 2001 12:00 AM</abbr>
    
            </span>

            
            

        </div>
    </div>
    <div class="asset-content entry-content">

        <div class="asset-body">
            <h3><a name="Notes">Notes</a></h3>

<table width="150" border="0" cellspacing="0" cellpadding="4" align="right">
<tr> 
<td width="150" valign="top" height="4" bgcolor="#6699cc"></td></tr> 
<tr>
<td bgcolor="#efefef">
<p class="headline" align="center">This Week on P5P
</p>
<p class="smalltext">
&#149; <a href="#No_580_Yet">No 5.8.0 Yet</a><br /><br />
&#149; <a href="#New_Modules">New Modules</a><br /><br />
&#149; <a href="#Numbers_numbers_numbers">Numbers, numbers, numbers</a><br /><br />
&#149; <a href="#PerlIO_considered_evil">PerlIO considered evil</a><br /><br />
&#149; <a href="#Asynchronous_Callbacks">Asynchronous Callbacks</a><br /><br />
&#149; <a href="#Various">Various</a>
</td></tr> <tr><td width="150" valign="top" height="4" bgcolor="#6699cc"> </td></tr></table>

<p>
  
Please send corrections and additions to perl-thisweek-YYYYMM@simon-cozens.org 
where YYYYMM is the current year and month. Changes and additions to the 
perl5-porters biographies are particularly welcome.
</p>

<p>
This was a reasonably busy week, seeing just over 400 messages. I say
that every week, don't I?</p>

<h3><a name="No_580_Yet">No 5.8.0 Yet</a></h3>

<p>

<a href="http://simon-cozens.org/writings/whos-who.html#HIETANIEMI">Jarkko</a> sadly announced that 5.8.0 wasn't going to happen before the Perl
Conference, but 5.7.2 is imminent:
<blockquote>

I think it's time for me to give up the fantasy that 5.8.0 will happen
before the Perl Conference.  The stars just refuse to align properly,
too many loose ends, too many delays, too many annoying mysterious
little problems, too little testing of CPAN modules.  Luckily, nothing
is majorly broken, and I think that I've more or less achieved what I
set out to do with Perl, so I still hope to be able wrap something up
before TPC and call it 5.7.2 (it must happen next week or it will not
happen), and soon after the conference put out the Release Candidate 1
for 5.8.0, and then keep cracking the whip till we are happy with what
we've got.
</blockquote></p>



<h3><a name="New_Modules">New Modules</a></h3>



<p>
These aren't really very new, but they may have slipped through the
net and you haven't noticed them yet, and since they're interesting,
you might want to have a look...
</p>

<p>
<code>I18N::LangTags</code>
 detects and manipulates RFC3066 language tags; 
<code>Locale::Maketext</code> is extremely useful for localizing text; 
<code>Unicode::UCD</code> is a neat interface to the Unicode Character Database; 
<code>Encode</code> is coming on strong, and can now read IBM ICU character tables;
Mark-Jason Dominus' 
<code>Memoize</code> module is now part of the core.</p>
<h3><a name="Numbers_numbers_numbers">Numbers, numbers, numbers</a></h3>


<p>

Remember last week's weird Amdahl UTS bug, where 
<a href="http://simon-cozens.org/writings/whos-who.html#CLARK">Nicholas Clark </a> was convinced UTS C was doing a decrement statement twice? He found the
problem - the decrement statement shouldn't have been there at all...
</p>

<p>
This prompted him to find a bug in 
<code>grok_number</code>; this surprised me a little, because I didn't know that 
<code>grok_number</code> even existed. All of the useful, platform-independent code which deals
with numeric operations - casting between different sizes, converting
binary, hex, and octal numbers, recognising numbers in strings, and so
on, has been moved to 
<code>numeric.c</code>. Take a look at it, there's a load of handy stuff in there.
</p>

<p>
Hal Morris, our UTS wizard, also pointed out some unpleasant casting
assumptions, which needed a patch:
<blockquote></p>

<p>

<code>UV_MAX</code> must NOT be defined as 
<code>(unsigned long){whatever}</code> for UTS, because then comparisons
with double will not work correctly (there is no problem with 
<code>(unsigned)</code> typecasts, only with 
<code>(unsigned long)</code>)
</blockquote></p>

<p>

<code>grok_number</code> again came in handy on QNX, when Norton Allen found that 
<code>strtoul</code> wasn't setting 
<code>errno</code> correctly on overflow. It's sad when we have to start reimplementing
people's broken C libraries, but this is the price of portability.
<h3><a name="PerlIO_considered_evil">PerlIO considered evil</a></h3>

</p>

<p>

<a href="http://simon-cozens.org/writings/whos-who.html#ZACHAREVICH">Ilya</a> found a bug in PerlIO, then found another bug while attempting
to demonstrate it. The original bug was:
<blockquote>
The *actual* problem is that char-by-char input requires DUPLICATE pressing
of ENTER key for this key to be seen by Perl.  Debugging this problem
(via Term::ReadKey test suite) shows the following logic:


<p>
  pp_getc() calls  is_eof() which does getc/ungetc
            calls  getc()
</p>

<p>
  [BTW, I see no logic in this sequence of events.]
</p>

<p>
The problem is that ungetc() can't unget &quot;\n&quot; if this \n is the first char
in the buffer, and quietly drops &quot;\n&quot; to the floor.
</blockquote></p>

<p>
Ilya had a lot of invective set aside for PerlIO, which we need not go
into. Needless to say, he did not provide an alternative implementation
of a multi-layered standard IO system as a patch. Or indeed any patch at
all.
</p>

<p>
Vadim Konovalov did provide a simple patch to clean something up, but then
<a href="http://simon-cozens.org/writings/whos-who.html#DOUGHERTY">Andy</a> and 
<a href="http://simon-cozens.org/writings/whos-who.html#ING-SIMMONS">Nick</a> both showed that it didn't help at all, the generated code
being the same and some compilers not being able to cope with lvalue casts,
which Nick had carefully removed and Vadim's patch reintroduced. Guess Nick
might actually know what he's doing after all.
<h3><a name="Asynchronous_Callbacks">Asynchronous Callbacks</a></h3>

</p>

<p>

David Lloyd asked how do safely do asynchronous callbacks from C to Perl.
Bejamin Stuhl suggested hacking the core to introduce some checks during
the inter-opcode 
<code>PERL_ASYNC_CHECK</code>, and suggested that Perl 5.8.x had a public way of registering inter-opcode
callbacks. David Lloyd replied that PHP/Zend already had this, and you
could even implement a signal checking add-on module without any core
hacking. Paul Johnson went one further, and suggested using a pluggable
<code>runops</code> routine. Surprisingly, this has actually been implemented but nobody really
knows about it; 
<code>Devel::Cover</code> apparently makes use of it. Of course, the problem is that only one thing
can use a custom op loop at a time, so David suggested writing an XS
module that allowed other modules to add callbacks. I hope that happens.
</p>

<p>
Artur Bergman popped up and, predictably, suggested using ithreads.</p>
<h3><a name="Various">Various</a></h3>



<p>

Rudi Farkas found a weird one on Win32 - on that platform,
executableness (the 
<code>-x</code> test) is determined by the filename being examined. For instance, 
<code>foo.bat</code> is classed as executable, but 
<code>foo.bar</code> is not, even if they contain exactly the same data. This rather curious
design decision leads to the fact that if you call 
<code>stat</code> with a filename, the execute bit is set depending on the extension. If,
on the other hand, you call 
<code>fstat</code> with a filehandle, Windows can't retrieve the filename and test the
extension, so it silently sets the execute bit to zero, no matter what
it gets fed. This is Bad, and means that 
<code>-x _</code> on Windows is unpredictable. Radi provided a suggested workaround, but
nobody cared enough about fixing something so obviously braindead to
produce a patch.
</p>

<p>
Mike Schwern fixed up 
<code>MakeMaker</code> to stop producing extraneous 
<code>-I...</code>s when building extensions, and also found that the XS version of 
<code>Cwd</code> won't do much good as a separate CPAN module, since it relies on the
 core function 
<code>sv_getcwd</code>, which only appears in 5.7.1. Oops. Oh, and speaking of 
<code>Cwd</code>, Ilya patched it up a bit for OS/2, while noting that its results were
untainted on that platform.
</p>

<p>
Ilya also fixed a glaring debugger bug (oh, the irony) prompting Jarkko
to lament the lack of a test suite. Robin fixed up a couple of weird,
weird bugs in 
<code>B::Deparse</code>. 
</p>

<p>
Jonathan Stowe upgraded 
<code>pl2pm</code> to be warnings and strict clean. I'm not sure why.
</p>

<p>
Philip Newton patched a score of typos. Norton Allen updated the QNX
documentation and provided a couple of other fixes.
</p>

<p>
Piers Cawley found something that looked like a bug in 
<code>SUPER::</code> but was assured that it wasn't; Randal won the day with a reference
to Smalltalk.
</p>

<p>
Abhijit Menon-Sen (look out for this guy...) made 
<code>mkdir</code> warn if it was given a non-octal literal, since that generally doesn't do
what people want, and after prompting from Gisle, did the same for 
<code>umask</code> and 
<code>chmod</code>. Unfortunately, he forgot about constant folding...
</p>

<p>
Until next week I remain, your humble and obedient servant,
</p>

<hr>

<a href="mailto:mjd-perl-thisweek-200107+@simon-cozens.org">Simon Cozens</a>





        </div>



    </div>
    <div class="asset-footer"></div>
</div>


                            
                            <div id="entry-1564" class="entry-asset asset hentry">
    <div class="asset-header">
        <h2 class="asset-name entry-title"><a href="/pub/2001/07/p6pdigest/20010703.html" rel="bookmark">This Fortnight in Perl 6 (17 - 30 June 2001)</a></h2>
        <div class="asset-meta">
            <span class="byline">
    
                By <span class="vcard author">Bryan Warnock</span> on <abbr class="published" title="2001-07-03T00:00:00-08:00">July  3, 2001 12:00 AM</abbr>
    
            </span>

            
            

        </div>
    </div>
    <div class="asset-content entry-content">

        <div class="asset-body">
            <p>

<table width="190" border="0" cellspacing="4" cellpadding="0" align="right">
<tr> 
<td width="190" valign="top" height="4" bgcolor="#6699cc"></td></tr> 
<tr>
<td bgcolor="#ffffff">
<p class="headline" align="center">This Week
</p>
<p class="smalltext">
<a href="#Perl_Doesnt_Suck">Perl Doesn't Suck</a>
<p class="smalltext">
<a href="#Multiple_Classifications">Multiple Classifications</a>
<p class="smalltext">
<a href="#Once_Inherited_Twice_Shy">Once Inherited, Twice Shy</a>
<p class="smalltext">
<a href="#ClassObject">Class::Object</a>
<p class="smalltext">
<a href="#The_Internal_String_API">The Internal String API</a>
<p class="smalltext">
<a href="#Miscellany">Miscellany</a>
<p class="smalltext">
<a href="#Last_Words">Last Words</a>
</td></tr> <tr><td width="190" valign="top" height="4" bgcolor="#6699cc"> </td></tr></table>

You can subscribe to an email version of this summary by sending an empty
message to 
<a href="mailto:perl6-digest-subscribe@netthink.co.uk">perl6-digest-subscribe@netthink.co.uk</a>.
</p>

<p>
Please send corrections and additions to 
<a href="mailto:bwarnock@capita.com">bwarnock@capita.com</a>.
</p>

<p>
The lists have been very light recently.  During the last two weeks of
June, three of the mailing lists received a mere 142 messages across 20
different threads.  40 different authors contributed.  Only 5 threads
generated much traffic.  Eventually, I'll come up with a better way of
reporting these meaningless metrics.</p>

<h3><a name="Perl_Doesnt_Suck">Perl Doesn't Suck</a></h3>

</p>

<p>

Adam Turoff 
<a href="http://archive.develooper.com/perl6-meta@perl.org/msg00939.html">provided</a> a detailed summary of some recent battles against 
<a href="http://java.sun.com/">The Big Bean</a>:
<blockquote>

Now, at the end of the day, I have no fewer than five JVMs installed,
all completely different implementations of two Java standards.  As a
Perl programmer, I find this abhorrent.  Installing any version of Perl
release in the last 7 years is no different from installing any other
release: download, extract, ./configure -des, make, make test, make
install.  Done.
</blockquote></p>

<p>
Elaine Ashton, however, 
<a href="http://archive.develooper.com/perl6-meta@perl.org/msg00943.html">
disagreed</a>, to a point:
<blockquote>
I don't believe I was saying that. My point was that you had a bad
experience installing Java on FreeBSD and have declared that it sucks to
install it. Unsurprisingly, I have never had a problem installing or
supporting Java on Solaris but there are plenty of things to grumble about
Perl sometimes, especially if you deploy multiple versions and
configurations across multiple platforms and multiple versions of those
platforms.
</blockquote></p>

<p>
Michael Schwern
<a href="http://archive.develooper.com/perl6-meta@perl.org/msg00945.html">pointed out</a> that Solaris is &quot;Sun's Blessed Platform&quot;, and it shouldn't be surprising
that Java should install easily there.  The discussion then touched a bit
on distributions, licensing, support roles, and, yes, even George Carlin.
<h3><a name="Once_Inherited_Twice_Shy">Once Inherited, Twice Shy</a></h3>


<h4><a name="Multiple_Classifications">Multiple Classifications</a></h4>



<p>
David Whipp 
<a href="http://archive.develooper.com/perl6-language@perl.org/msg07621.html">asked</a> if
<code>bless</code> could take, and
<code>ref</code> return, a list, allowing for a cleaner multiple-inheritance model for
objects in Perl.  Dan Sugalski 
<a href="http://archive.develooper.com/perl6-language@perl.org/msg07624.html">simplified</a> the request to object-based vice class-based inheritance, and then
<a href="http://archive.develooper.com/perl6-language@perl.org/msg07631.html">provided</a> some potential trade-offs.
</p>

<p>
Damian, of course,
<a href="http://archive.develooper.com/perl6-language@perl.org/msg07625.html">submitted</a> code to fake it in Perl 5.  He did muse about an
<code>ISA</code> property, though, which would act like
<code>@ISA</code>, but at the object level.
<h4><a name="ClassObject">Class::Object</a></h4>

Michael &quot;Class::Object&quot; Schwern 
<a href="http://archive.develooper.com/perl6-language@perl.org/msg07663.html">asked</a> why all this (Class::Object) had to be (Class::Object) in the core
(Class::Object).  Dan Sugalski
<a href="http://archive.develooper.com/perl6-language@perl.org/msg07665.html">opined</a>:
<blockquote>Doing it properly in a module is significantly more of a pain than doing it 
in the core. Faking it with a module means a fair amount of (reasonably 
slow) perl code, doing it in the core requires a few extra lines of C code 
in the method dispatch opcode function.
</blockquote></p>

<p>
To which, of course, Michael Class::Objected:
<blockquote>I've already done it, it was easy.  Adding in an object-based
inheritance system should be just as easy, I just need an interface.
$obj-&gt;parents(@other_objs) is a little clunky.
</p>

<p>

...Look at Class::Object!  Its really, really thin.  Benchmark it, its no
slower than regular objects.
http://www.pobox.com/~schwern/src/Class-Object-0.01.tar.gz
</blockquote></p>

<p>
[The Golden Troll Award goes to Dan Brien for
<a href="http://archive.develooper.com/perl6-language@perl.org/msg07679.html">this gem</a>.]
<h3><a name="The_Internal_String_API">The Internal String API</a></h3>

</p>

<p>

Dan Sugalski
<a href="http://archive.develooper.com/perl6-internals@perl.org/msg03221.html">initiated</a> discussion on the internal API for strings:
<blockquote></p>

<p>
Since we're going to try and take a shot at being encoding-neutral in the 
core, we're going to need some form of string API so the core can actually 
manipulate string data. I'm thinking we'll need to be able to at least do 
this with string:
</p>

<ul><li>Convert from and to UTF-32
</li><li>lengths in bytes, characters, and possibly glyphs
</li><li>character size (with the variable length ones reporting in negative numbers)
</li><li>get and set the locale (This might not be the spot for this)
</li><li>normalize (a noop for non-Unicode data)
</li><li>Get the encoding name
</li><li>Do a substr operation by character and glyph
</li></ul></p>
</blockquote>

<p>
David Nicol 
<a href="http://archive.develooper.com/perl6-internals@perl.org/msg03233.html">suggested</a> implementing strings as a tree, vice a contiguous memory block.  After some
pondering, this seemed to
<a href="http://archive.develooper.com/perl6-internals@perl.org/msg03236.html">grow on</a> Dan, and he is awaiting a yea-or-nay from Larry.  Copy-On-Write for Strings
will also be
<a href="http://archive.develooper.com/perl6-internals@perl.org/msg03242.html">implemented</a>, although there was no mention of a potential key signature.</p>

<h3><a name="Miscellany">Miscellany</a></h3>


<p>

Simon Cozens
<a href="http://archive.develooper.com/perl6-language@perl.org/msg07602.html">released </a> an updated version of his Perl 6 emulator.
</p>

<p>
Marcel Grunauer
<a href="http://archive.develooper.com/perl6-language@perl.org/msg07667.html">announced</a> a Proof-of-Concepts page for Perl 6, which contains info and links to
Perl 5 modules that may provide a glimpse of things to come.
</p>

<p>
There were more
<a href="http://archive.develooper.com/perl6-internals@perl.org/msg03247.html">complaints</a> about operator choices.  (Specifically, 
<code>~</code> for string concatenation, and 
<code>.</code> (the dot) for dereference (vice 
<code>-></code>).)
<h3><a name="Last_Words">Last Words</a></h3>
<p>There's but three weeks till <a href="http://conferences.oreilly.com/perl">TPC 5.0 kicks off in San Diego</a>.  
</p>

<hr>

<a href="mailto:bwarnock@capita.com">Bryan C. Warnock</a>








        </div>



    </div>
    <div class="asset-footer"></div>
</div>


                            
                            <div id="entry-1550" class="entry-asset asset hentry">
    <div class="asset-header">
        <h2 class="asset-name entry-title"><a href="/pub/2001/07/03/nat.html" rel="bookmark">People Behind Perl: Nathan Torkington</a></h2>
        <div class="asset-meta">
            <span class="byline">
    
                By <span class="vcard author">Simon Cozens</span> on <abbr class="published" title="2001-07-03T00:00:00-08:00">July  3, 2001 12:00 AM</abbr>
    
            </span>

            
            

        </div>
    </div>
    <div class="asset-content entry-content">

        <div class="asset-body">
            
<p>
So you use Perl, and you probably know that it was brought to you by
"Larry Wall and a cast of thousands". But do you know these people that
make up the Perl development team? Every month, we're going to be
featuring an interview with a Perl Porter so you can get to know the
people behind Perl. This time, Simon Cozens, www.perl.com editor, talks
to Nathan Torkington, a long-time Perl developer and a mainstay of the
Perl community. 
</p>

<h3>Who are you and what do you do?</h3>

<p>
I'm Nathan Torkington.  My day job is a book editor for O'Reilly and
Associates.  Before that I was a trainer, working for Tom
Christiansen.  Perl folks might know me as co-author (with Tom) of The
Perl Cookbook, the schedule planner for The Perl Conference (and this
year the Open Source Convention), or as the project manager for perl6.
</p>

<h3> How long have you been programming Perl? </h3>

<p>
Since the early 90s.  I forget exactly when I first started
programming in Perl.  I think it was toward the end of 1992, when I
was working with gopher and the early web.  Back in those days we
didn't talk about "the web", we were just trying to set up a
Campus-Wide Information Service.  I took the plunge and pushed for
(and got) the www as the basis for the CWIS, even though Gopher was
more mature and had more stuff on it.
</p>

<p>
Using the CERN httpd and line mode browser, I worked on interfacing a
bunch of data sources to the web.  Perl was, of course, the language
for that.  I did work with SGML, comma separated files, and even used
oraperl once or twice (I feared and loathed Oracle, though, it was only
once or twice!).
</p>

<p>
So I got into Perl with the web.  When I moved to the US in 1996, I
worked as a systems administrator at an ISP.  There I rapidly became
the Perl guy, writing admin scripts and CGI applications for in-house
and customers.  When I left in 1998, we were using mod_perl and had
a bunch of good Perl programmers.
</p>

<h3> What, if anything, did you program before learning Perl?</h3>
<p>
I first learned Commodore BASIC when I was 8 or 9, then 6502
assembler.  I learned Pascal on the IBM PC, as well as C and 8086
assembler.  At university they taught us Pascal again, then Modula-2
or Modula-3 (whichever it was, it was with a MetroWerks Mac IDE that
kept crashing).  Through Pascal, and their eventual reteaching of C, I
got the hang of pointers (yes, I wasn't a very GOOD assembly language
programmer if it took me about six years to learn pointers and realize
why my programs would sometimes die).
</p>
<h3> What got you into Perl?</h3>
<p>
The web.  After I'd written a few programs, I really enjoyed it.  The
language was fun, and the culture good.  It was so thrilling to be
able to do something in 5 minutes and 20 lines that used to take two
days in C.  In some ways I miss that fun--over the years (and
especially writing the Cookbook) I've learned so much about how to do
things in Perl that there's not much discovery of fun new features any
more.  And I'm so used to being able to do things in 5 minutes and 20
lines that I'm no longer delighted when I can do so--I <b>expect</b> it!
</p>
<h3> Why do you still prefer Perl? </h3>

<p>
It can do everything I want to do, and I already know it.  If I wasn't
a Perl programmer, I'd probably be happy in Ruby or Python.  But so
long as there's Perl, I see no reason to become as familiar with those
languages as I am with Perl.
</p>

<p>
That's not to say I think everyone should program exclusively in Perl.
My friend Jules was the one who learned a lot of languages.  He was
writing extensions for Microsoft COBOL in 1992, and has done
significant projects in C++ and Java.  He works at a contracting
company where the projects don't always lend themselves to Perl.  I'm
totally cool with that.
</p>

<h3> What sort of things do you do with Perl now? What was the last Perl
program you wrote? </h3>

<p>
When I became a trainer, I was glad to stop being a full-time
programmer.  Since then I've begun to miss using Perl.  These days I
only write utilities and basic web applications.  For instance, the
last few projects I've written have been:
</p>
<ul>

 <li>A small web-based database system for keeping track of the books
   I'm editing--author addresses, status, number of chapters to go,
   etc.  That was a CGI program with home-grown templates and a
   DBM database.</li>

 <li> Some small tools to unmangle Framemaker files for the Perl
   Conference proceedings.</li>

 <li>A translation of a Python PDF-generating library to Perl.  That's
   incomplete, because I struck Python code I need to research.</li>
</ul>
<h3> What coaxed you into the development side of Perl?</h3>
<p>
The feeling that I should know more about it.  In some ways it's
probably insecurity--"sure, you know all stuff about the Perl
language, but can you tell an SV from an SUV?"  So I started probing
at the fringes of the internals.
</p>

<h3> Do you remember your first patch?</h3>

My first (and probably only ;-) real patch was to comment
<tt>toke.c</tt>, the tokenizer. The code that works out where
double-quoted strings and regular expressions end was a lot of fun (and
by fun I mean "pain") to work out. Although I know a lot of low level
(data structures) and high level principles about how the internals work
(compile to op tree, interpret), I'm still missing a lot of the middle
ground that would actually enable me to <b>fix</b> bugs.

<h3> What do you usually do for Perl development now?</h3>

Nothing, I'm a manager :-) I'm slowly herding Larry towards
finishing
the Apocalypses, and from that will spring perl 6.  For Perl 5 I'm
more behind the scenes.  I'm often asked to nag or poke or otherwise
get results from others.

<h3> Talking of Perl 6, how do you think the project's
going so far?</h3>

<p>
Last year I'd naively hoped that we'd have an alpha for TPC, but
that's not happening.  Instead, we have the start of Larry's
pronouncements.  And while perl6 has been slower than we expected,
perl5 has received a shot in the arm!  Jarkko's patching like a
madman, there are new internals hackers springing up, and there are
cool new modules (<code>SOAP::Lite</code>, <code>Inline</code>,
<code>Attributes::*</code>, <code>Filter::Simple</code>,
etc.) coming out every week.
</p>

<p>
That's not to say that we're all blocked on Larry, though. We know the
large shape (and a lot of the details) of how the internals will work.
Dan's specing those out in <a href="http://dev.perl.org/pdd/">Perl
Design Documents</a>, and your fair self has implemented a few of the
projected perl6 syntactic features with patches to Perl 5. (You can
download the <a href="http://simon-cozens.org/hacks/perl6.tar.gz">Perl
6 emulator</a> and play about with Perl 6.) If you haven't already seen
Marcel Grunauer's page of Perl6-like modules, <a
href="http://www.codewerk.com/perl6/"> check it out!</a> 
</p>

<p>
So there's a lot of activity in perl6 as well as in perl5.
</p>

<h3> Finally, what's the best thing about Perl, and what's the worst
     thing about it?</h3>

<p>
Best thing?  The way that it values programmer fun as much as anything
else.  Perl delights in being a language that is supposed to be fun.
Having seen many people burn out, fun is a good thing.  Fun is what
keeps you sane, keeps you interested, keeps you going.
</p>

<p>
What's the worst thing?  Probably the internals.  They're ugly and
resemble nothing so much as a Lovecraftian horror.  We really want
perl6 to have much nicer innards.  Ideally it'll be almost as simple
to program in perl6 innards as it is to program in perl6 itself.
That's one of the main reasons to have perl6--a cleaner core.
</p>



        </div>



    </div>
    <div class="asset-footer"></div>
</div>


                            
                            <div id="entry-1558" class="entry-asset asset hentry">
    <div class="asset-header">
        <h2 class="asset-name entry-title"><a href="/pub/2001/07/p5pdigest/20010702.html" rel="bookmark">This Week on p5p 2001/07/02</a></h2>
        <div class="asset-meta">
            <span class="byline">
    
                By <span class="vcard author">Simon Cozens</span> on <abbr class="published" title="2001-07-02T00:00:00-08:00">July  2, 2001 12:00 AM</abbr>
    
            </span>

            
            

        </div>
    </div>
    <div class="asset-content entry-content">

        <div class="asset-body">
            <h3><a name="Notes">Notes</a></h3>

<table width="150" border="0" cellspacing="0" cellpadding="4" align="right">
<tr> 
<td width="150" valign="top" height="4" bgcolor="#6699cc"></td></tr> 
<tr>
<td bgcolor="#efefef">
<p class="headline" align="center">
This week on P5P</p>
</p>
<p class="smalltext">
&#149; <a href="#Notes">Notes</a><br />
&#149; <a href="#Module_Versioning_and_Testing">Module Versioning and Testing</a><br />
&#149; <a href="#Carpentry">Carpentry</a><br />
&#149; <a href="#Regex_Capture_to_variable">Regex Capture-to-variable</a><br />
&#149; <a href="#Perl_on_S390">Perl on S390</a><br />
&#149; <a href="#UTS_Amdahl">UTS Amdahl</a><br />
&#149; <a href="#Various">Various</a>

</td></tr> <tr><td width="150" valign="top" height="4" bgcolor="#6699cc"> </td></tr></table>


<p>
  
Please send corrections and additions to perl-thisweek-YYYYMM@simon-cozens.org 
where YYYYMM is the current year and month. Changes and additions to the 
perl5-porters biographies are particularly welcome.
</p>

<p>
This was a reasonably normal week, seeing the usual 500 or so messages.
</p>

<p>
Many thanks again to Leon for last week's summary.
<h3><a name="Module_Versioning_and_Testing">Module Versioning and Testing</a></h3>

</p>

<p>

There's a move on to make the modules under 
<code>ext/</code> free-standing: that is, to be able to say
</p>

<p>
   cd ext/File/Glob
</p>

<p>
   make dist
</p>

<p>
and get a bundle that can be uploaded to CPAN or otherwise distributed.
The only problem with this is tests. Currently the tests are kept under 
<code>t/</code> of the main root of the Perl source tree, and are run when a 
<code>make test</code> is done there. To make the modules freestanding, you'd have to move
the tests to 
<code>ext/Foo/Bar/t/</code> and have the main 
<code>make test</code> also traverse the extension subdirectories and run the tests there. But
then, of course, there's another problem. Can you spot it?
</p>

<p>
<code>make test</code>
 is run from an uninstalled Perl, which needs explicit hints about where
to find the Perl library. Hence, the tests in 
<code>t/</code> directly wibble 
<code>@INC</code>. This wouldn't work if we're making the modules freestanding, or if we
move the tests to 
<code>ext/Foo/Bar/t/</code>. So the trick, which nobody's done yet, is to move the tests to the
right place, change the main 
<code>make test</code>  to recurse extension subdirectories, but also to propagate an
environment variable telling the module where to find the library. (
<code>PERL5LIB</code> is what you want for this.) That would be a nice little task for
someone...
</p>

<p>
Speaking of testing, 
<a href="http://simon-cozens.org/writings/whos-who.html#SCHWERN">Schwern</a> got 
<code>Test::Simple</code> and 
<code>Test::More</code> added to the core, bringing the first All Your Base reference into the
Perl source tree.
Oh, and <b>how</b> many different testing mechanisms?
</p>

<p><a href="http://simon-cozens.org/writings/whos-who.html#HOUSTON">Robin Houston</a>
 incremented 
<code>B::Deparse</code>'s version number and added some change notes.  Here's what's
improved since 5.6.1:
</p>

</p><pre>
    Changes between 0.60 and 0.61 (mostly by Robin Houston) 
    - many bug-fixes 
    - support for pragmas and 'use' 
    - support for the little-used $[ variable 
    - support for __DATA__ sections 
    - UTF8 support 
    - BEGIN, CHECK, INIT and END blocks 
    - scoping of subroutine declarations fixed 
    - compile-time output from the input program can be suppressed, so that the 
      output is just the deparsed code. (a change to O.pm in fact) 
    - our() declarations 
    - *all* the known bugs are now listed in the BUGS section 
    - comprehensive test mechanism (TEST -deparse)
</pre>

<p>
The new test mechanism is great: it runs the standard Perl test suite
through 
<code>B::Deparse</code> and then back through Perl again to ensure the deparsed code still
passes the tests. And, as a testament to the work that's been done on
<code>B::Deparse</code>, they mostly do pass.
</p>

<p>
Schwern also bumped up 
<code>ExtUtils::Manifest</code>, which caused Jarkko to appeal for a script which checks two Perl
source trees to find updated versions of modules without a version
change. Larry Shatzer provided one, and Jarkko used it to update
the versions in the current tree. Schwern also put 
<code>Cwd</code> on CPAN, and found a weird dynamic loading bug with the XS version
 of 
<code>Cwd</code>. Oh, and noted that after his benchmarking, there's no significant
performance loss between 5.6.1 without PerlIO and bleadperl with it.
<h3><a name="Carpentry">Carpentry</a></h3>

</p>

<p>

<a href="http://simon-cozens.org/writings/whos-who.html#GUY">Mike Guy</a> partially fixed a problem whereby when a magic variable like 
<code>$1</code> is passed as a subroutine parameter, 
<code>carp</code> and the debugger don't see it properly. Tony Bowden took the
opportunity to ask for either more or less documentation for 
<code>longmess</code> and 
<code>shortmess</code> depending on whether or not they were meant to be internal to
<code>Carp</code>. Tony wrote a documentation patch himself.
</p>

<p>
Schwern asked for a better name for those functions, perhaps more in
line with the carp/croak/cluck theme. Jarkko suggested 
<code>yodel</code> and 
<code>yelp</code> which Schwern implemented. 
</p>
<p>
<a href="http://simon-cozens.org/writings/whos-who.html#KOENIG">Andreas</a>
 had a quick bitch about Schwern's, uh, idiosyncratic naming style:
<blockquote></p>

<p>
Your style of naming things is just plain sick:
</p>

<p>
AnyLoader does anything but interface to any loader.
Ima::DBI has something to do with DBI, but nothing with Ima.
D::oh is the only really funny one. But it's from 1999 and getting
old.
Sex: I still don't know if it is fun or what.
Bone::Easy? Same here.
Semi::Semicolon? Same here.
</p>

<p>
And now yodle!
</blockquote></p>

<p>
Unfair, though, since 
<code>yodel</code> and 
<code>yelp</code> weren't his...
</p>

<p>
However, Hugo objected to 
<code>yodel</code>/
<code>yelp</code> because the other verbs write to standard error, hence &quot;speaking&quot;
 whereas 
<code>longmess</code> and 
<code>shortmess</code> don't actually &quot;say&quot; anything. Jarkko agreed, and there the matter
rested. (Modulo Rich Lafferty's suggestion of &quot;flame&quot; for objections in
a written medium...)
<h3><a name="Regex_Capture_to_variable">Regex Capture-to-variable</a></h3>

</p>

<p>

Jeffrey Friedl (he of the Regexp book) came up with an interesting
patch which adds the new special variable 
<code>$^N</code> for the most-recently assigned bracket match. This is different from
<code>$+</code> which is the highest numbered match; that's to say, given
</p>

</p><pre>
    /(foo(bar))/
</pre>

<p>
then 
<code>$+</code> is equivalent to 
<code>$2</code>, whereas 
<code>$^N</code> is equivalent to the bracket match for the last closing bracket; that
 is, 
<code>$1</code>. This essentially allows you to do capture-to-variable, like this:
</p>

</p><pre>
    (?:(\d+)(?{ $phone_number = $^N }))
</pre>

<p>
without having to worry about which number bracket the match was.
(Especially useful if you have to change your regexp around.) Whether
this makes regular expressions cleaner or dirtier, I'll leave up to
you... However, Jeffrey also noted that you can use regexp overloading
(my, that's an obscure feature - look at 
<code>re.pm</code>) to make such syntax as
</p>

</p><pre>
    (?<$phone_number>\d+)
</pre>

<p>
work. Now that's cool.
</p>

<p>
Phillip Newton added a nmenomic: 
<code>$^N</code> is the most recently closed Nested parenthesis.
<h3><a name="Perl_on_S390">Perl on S390</a></h3>

</p>

<p>

Hal Morris got Perl going on Linux/390, with only one test failing. Good
news for the new generation of mainframe hackers.
</p>

<p>
There's mixed news for the old-timers, though; Peter Prymmer has got it
down to 10 test failures, but one of the tests completely hangs Perl.
Apparently 
<code>study</code> under OS/390 is best avoided. He also started some investigation of a
<code>Bigint</code> bug, under the direction of Tels and John Peacock, but left for his
holidays and the discussion moved to the 
<code>perl-mvs</code> mailing list.
<h3><a name="UTS_Amdahl">UTS Amdahl</a></h3>

</p>

<p>

Oh, and talking of weird platforms, UTS. Hal (who's actually from UTS
Global, so much kudos there) has been testing out recent Perl builds on
UTS, and turning up some ... take a deep breath ... icky numeric
conversion issues. 
</p>

<p>
<a href="http://simon-cozens.org/writings/whos-who.html#CLARK">Nicholas Clark</a>
 was convinced they (well, some of them at least) were due to UTS C
going through a 
<code>foo--</code> statement twice, but Hal pointed out he didn't expect UTS C to be
quite that braindead. On the other hand, Nick's analysis looked
convincing...
</p>

<p>
Hal also fixed up 
<code>hints/uts.sh</code> so that UTS now configures and builds nicely at least.
<h3><a name="Various">Various</a></h3>

</p>

<p>

David Wheeler found a known but really, really weird bug with lexical
arrays; if you do:
</p>

</p><pre>
    my @a = foo(); my @b = foo();
    sub foo { $x = 0; my @ary; push @ary, "hi" if $x; push @ary, "ho"; return @ary }
</pre>

<p>
<code>@a</code>
 gets &quot;ho&quot; as you'd expect, but 
<code>@b</code> gets &quot;ho&quot;,&quot;ho&quot;. Ronald Kimball told him Not To Do That, Then.
</p>

<p>
Peter Prymmer noted that Perl on VMS was bailing out during the test
suite, leading to lots of bogus failures. This only happens if none of
the DBM libraries (GDBM, DB_File, NDBM or SDBM) were built. As the first
three require external libraries that VMS doesn't have and the last one
is currently broken, it's no wonder Perl is bailing out. The fix is to
work out why SDBM has stopped building on VMS. Peter also produced a lot
of other VMS and HPUX reports.
</p>
<p>
<a href="http://simon-cozens.org/writings/whos-who.html#DOUGHERTY">Andy </a>
 was pleasantly surprised to note that the promised &quot;binary
compatibility with 5.005&quot; actually works even in bleadperl. Perhaps we
need to break more things.
</p>

<p>
John Peacock asked a portability question for XS bit-twiddling; he's
trying to adapt a math library which depends on casting two numbers to a
long and adding them together to avoid overflow. Jarkko's
fantastic architecture experience was brought to bear as he revealed
that Cray Unicos has 
<code>long == short == int == double</code>. Oh, and type casting has issues too, so you have to use a union.
Nicholas Clark suggested the old trick of comparing the operands of an
addition with the result; if the result is smaller than either of the
operands, you've overflowed, so you add a carry and off you go. 
</p>

<p>
The news that GCC 3.0 was out brought a rush of people testing Perl out
with it; I got it through on Linux with all tests successful, as did
H. Merijn Brand on HPUX, but with rather a lot more warnings. This was
because HPUX messed up the test for 
<code>__attribute__</code> due to using a HP linker instead of a GNU one. Merijn and Jarkko got
this fixed up.
</p>

<p>
Artur continued his iThreads quest; he renamed the &quot;shared&quot; attribute to
&quot;static&quot;, (and then again to &quot;unique&quot; after objections) presumably to
free it up for an attribute which actually does share variables between
interpreters, and also added a function which cloned the Perl host. 
He said that 
<code>threads-0.01</code>, the new threading module, will be released to CPAN when 5.7.2 hits
the road. (Which Jarkko keeps hinting will be very, very, very soon
now.) He also complained bitterly when Marcel Grunauer tried to document
<code>attributes.pm</code> as useful, despite the fact that Marcel has some really very cool
modules on CPAN based on it...
</p>

<p>
Marcel also found, and Radu Greab fixed, an insiduous bug in 
<code>split</code>, whereby if the default whitespace pattern was used for one iteration
of a loop, it would be used for all succeeding ones; the 
<code>PMf_WHITE</code> flag for the regular expression was being set but never
unset. Urgh.

</p>
<p>
<a href="http://simon-cozens.org/writings/whos-who.html#ZAKHAREVICH">Ilya</a>
 produced some rough changes documentation for OS/2, as well as some
 other little patches. Norton Allen provided some QNX updates.
</p>
<p>
<a href="http://simon-cozens.org/writings/whos-who.html#NEWTON">Phillip Newton</a>
 documented the neat 
</p>

</p><pre>
    $count = () = function()
</pre>

<p>
idiom for counting the number of return values from an operation. That
was something I hadn't seen before; you learn something new every day...
Until next week I remain, your humble and obedient servant,
</p>
<hr size="1" noshade />

<p><i>
<csfield name="id_author" after=" " hrefaction="pub"></p>





        </div>



    </div>
    <div class="asset-footer"></div>
</div>




                            <div class="content-nav">
                                <a href="/pub/2001/06/">&laquo; June 2001</a> |
                                <a href="/pub/">Main Index</a> |
                                <a href="/pub/archives.html">Archives</a>
                                | <a href="/pub/2001/08/">August 2001 &raquo;</a>
                            </div>


                        </div>
                    </div>


                    <div id="beta">
    <div id="beta-inner">


    
    <div class="widget-what-is-perl widget">
    <div class="widget-content widget-content-what-is-perl">
       Visit the home of the  Perl programming language: <a href="http://www.perl.org/">Perl.org</a
    </div>
</div>
<div class="widget-find-out-more widget-archives widget">
    <div class="widget-content">
        <ul>
            <li><a href="http://www.perl.org/get.html">Download</a></li>
            <li><a href="http://perldoc.perl.org/">Documentation</a></li>
            <li><a href="http://blogs.perl.org/">Perl Bloggers</a></li>
            <li><a href="http://news.perlfoundation.org/">Foundation News</a></li>
        </ul>
    </div>
</div><div class="widget-tcpc widget">
<h3 class="widget-header">Sponsored by</h3>
    <div class="widget-content">
        <a href="http://training.perl.com/" alt="Perl Training" target="_blank"><img src="/i/tcpc.png" width="150" height="50"></a>
    </div>
</div>

<div class="widget-syndication widget">
    <div class="widget-content">
        <ul>
            <li><img src="/mt-static/images/status_icons/feed.gif" alt="Subscribe to feed" width="9" height="9" /> <a href="/pub/atom.xml">Subscribe to this website's feed</a></li>

        </ul>
    </div>
</div>
<div class="widget-archive-monthly widget-archive widget">
    <h3 class="widget-header">Monthly <a href="/pub/archives.html">Archives</a></h3>
    <div class="widget-content">
        <ul>
        
            <li><a href="/pub/2014/02/">February 2014 (1)</a></li>
        
    
        
            <li><a href="/pub/2014/01/">January 2014 (1)</a></li>
        
    
        
            <li><a href="/pub/2013/10/">October 2013 (1)</a></li>
        
    
        
            <li><a href="/pub/2013/01/">January 2013 (1)</a></li>
        
    
        
            <li><a href="/pub/2012/12/">December 2012 (1)</a></li>
        
    
        
            <li><a href="/pub/2012/11/">November 2012 (1)</a></li>
        
    
        
            <li><a href="/pub/2012/10/">October 2012 (2)</a></li>
        
    
        
            <li><a href="/pub/2012/08/">August 2012 (2)</a></li>
        
    
        
            <li><a href="/pub/2012/06/">June 2012 (11)</a></li>
        
    
        
            <li><a href="/pub/2012/05/">May 2012 (18)</a></li>
        
    
        
            <li><a href="/pub/2012/04/">April 2012 (17)</a></li>
        
    
        
            <li><a href="/pub/2012/02/">February 2012 (1)</a></li>
        
    
        
            <li><a href="/pub/2011/12/">December 2011 (1)</a></li>
        
    
        
            <li><a href="/pub/2011/09/">September 2011 (1)</a></li>
        
    
        
            <li><a href="/pub/2011/08/">August 2011 (2)</a></li>
        
    
        
            <li><a href="/pub/2011/06/">June 2011 (1)</a></li>
        
    
        
            <li><a href="/pub/2011/05/">May 2011 (3)</a></li>
        
    
        
            <li><a href="/pub/2011/04/">April 2011 (1)</a></li>
        
    
        
            <li><a href="/pub/2011/03/">March 2011 (1)</a></li>
        
    
        
            <li><a href="/pub/2011/02/">February 2011 (1)</a></li>
        
    
        
            <li><a href="/pub/2011/01/">January 2011 (1)</a></li>
        
    
        
            <li><a href="/pub/2010/11/">November 2010 (1)</a></li>
        
    
        
            <li><a href="/pub/2010/10/">October 2010 (2)</a></li>
        
    
        
            <li><a href="/pub/2010/09/">September 2010 (1)</a></li>
        
    
        
            <li><a href="/pub/2010/08/">August 2010 (3)</a></li>
        
    
        
            <li><a href="/pub/2010/07/">July 2010 (2)</a></li>
        
    
        
            <li><a href="/pub/2010/04/">April 2010 (2)</a></li>
        
    
        
            <li><a href="/pub/2010/03/">March 2010 (4)</a></li>
        
    
        
            <li><a href="/pub/2008/05/">May 2008 (1)</a></li>
        
    
        
            <li><a href="/pub/2008/04/">April 2008 (2)</a></li>
        
    
        
            <li><a href="/pub/2008/03/">March 2008 (1)</a></li>
        
    
        
            <li><a href="/pub/2008/02/">February 2008 (1)</a></li>
        
    
        
            <li><a href="/pub/2008/01/">January 2008 (1)</a></li>
        
    
        
            <li><a href="/pub/2007/12/">December 2007 (2)</a></li>
        
    
        
            <li><a href="/pub/2007/09/">September 2007 (1)</a></li>
        
    
        
            <li><a href="/pub/2007/08/">August 2007 (1)</a></li>
        
    
        
            <li><a href="/pub/2007/07/">July 2007 (1)</a></li>
        
    
        
            <li><a href="/pub/2007/06/">June 2007 (1)</a></li>
        
    
        
            <li><a href="/pub/2007/05/">May 2007 (1)</a></li>
        
    
        
            <li><a href="/pub/2007/04/">April 2007 (1)</a></li>
        
    
        
            <li><a href="/pub/2007/03/">March 2007 (1)</a></li>
        
    
        
            <li><a href="/pub/2007/02/">February 2007 (1)</a></li>
        
    
        
            <li><a href="/pub/2007/01/">January 2007 (1)</a></li>
        
    
        
            <li><a href="/pub/2006/12/">December 2006 (1)</a></li>
        
    
        
            <li><a href="/pub/2006/11/">November 2006 (2)</a></li>
        
    
        
            <li><a href="/pub/2006/10/">October 2006 (1)</a></li>
        
    
        
            <li><a href="/pub/2006/09/">September 2006 (1)</a></li>
        
    
        
            <li><a href="/pub/2006/08/">August 2006 (1)</a></li>
        
    
        
            <li><a href="/pub/2006/07/">July 2006 (1)</a></li>
        
    
        
            <li><a href="/pub/2006/06/">June 2006 (1)</a></li>
        
    
        
            <li><a href="/pub/2006/05/">May 2006 (1)</a></li>
        
    
        
            <li><a href="/pub/2006/04/">April 2006 (1)</a></li>
        
    
        
            <li><a href="/pub/2006/03/">March 2006 (1)</a></li>
        
    
        
            <li><a href="/pub/2006/02/">February 2006 (4)</a></li>
        
    
        
            <li><a href="/pub/2006/01/">January 2006 (4)</a></li>
        
    
        
            <li><a href="/pub/2005/12/">December 2005 (4)</a></li>
        
    
        
            <li><a href="/pub/2005/11/">November 2005 (3)</a></li>
        
    
        
            <li><a href="/pub/2005/10/">October 2005 (2)</a></li>
        
    
        
            <li><a href="/pub/2005/09/">September 2005 (2)</a></li>
        
    
        
            <li><a href="/pub/2005/08/">August 2005 (9)</a></li>
        
    
        
            <li><a href="/pub/2005/07/">July 2005 (8)</a></li>
        
    
        
            <li><a href="/pub/2005/06/">June 2005 (9)</a></li>
        
    
        
            <li><a href="/pub/2005/05/">May 2005 (8)</a></li>
        
    
        
            <li><a href="/pub/2005/04/">April 2005 (7)</a></li>
        
    
        
            <li><a href="/pub/2005/03/">March 2005 (6)</a></li>
        
    
        
            <li><a href="/pub/2005/02/">February 2005 (7)</a></li>
        
    
        
            <li><a href="/pub/2005/01/">January 2005 (6)</a></li>
        
    
        
            <li><a href="/pub/2004/12/">December 2004 (8)</a></li>
        
    
        
            <li><a href="/pub/2004/11/">November 2004 (8)</a></li>
        
    
        
            <li><a href="/pub/2004/10/">October 2004 (5)</a></li>
        
    
        
            <li><a href="/pub/2004/09/">September 2004 (9)</a></li>
        
    
        
            <li><a href="/pub/2004/08/">August 2004 (6)</a></li>
        
    
        
            <li><a href="/pub/2004/07/">July 2004 (8)</a></li>
        
    
        
            <li><a href="/pub/2004/06/">June 2004 (6)</a></li>
        
    
        
            <li><a href="/pub/2004/05/">May 2004 (7)</a></li>
        
    
        
            <li><a href="/pub/2004/04/">April 2004 (8)</a></li>
        
    
        
            <li><a href="/pub/2004/03/">March 2004 (8)</a></li>
        
    
        
            <li><a href="/pub/2004/02/">February 2004 (9)</a></li>
        
    
        
            <li><a href="/pub/2004/01/">January 2004 (7)</a></li>
        
    
        
            <li><a href="/pub/2003/12/">December 2003 (4)</a></li>
        
    
        
            <li><a href="/pub/2003/11/">November 2003 (7)</a></li>
        
    
        
            <li><a href="/pub/2003/10/">October 2003 (8)</a></li>
        
    
        
            <li><a href="/pub/2003/09/">September 2003 (6)</a></li>
        
    
        
            <li><a href="/pub/2003/08/">August 2003 (7)</a></li>
        
    
        
            <li><a href="/pub/2003/07/">July 2003 (9)</a></li>
        
    
        
            <li><a href="/pub/2003/06/">June 2003 (9)</a></li>
        
    
        
            <li><a href="/pub/2003/05/">May 2003 (8)</a></li>
        
    
        
            <li><a href="/pub/2003/04/">April 2003 (8)</a></li>
        
    
        
            <li><a href="/pub/2003/03/">March 2003 (10)</a></li>
        
    
        
            <li><a href="/pub/2003/02/">February 2003 (8)</a></li>
        
    
        
            <li><a href="/pub/2003/01/">January 2003 (8)</a></li>
        
    
        
            <li><a href="/pub/2002/12/">December 2002 (5)</a></li>
        
    
        
            <li><a href="/pub/2002/11/">November 2002 (9)</a></li>
        
    
        
            <li><a href="/pub/2002/10/">October 2002 (7)</a></li>
        
    
        
            <li><a href="/pub/2002/09/">September 2002 (11)</a></li>
        
    
        
            <li><a href="/pub/2002/08/">August 2002 (8)</a></li>
        
    
        
            <li><a href="/pub/2002/07/">July 2002 (8)</a></li>
        
    
        
            <li><a href="/pub/2002/06/">June 2002 (4)</a></li>
        
    
        
            <li><a href="/pub/2002/05/">May 2002 (6)</a></li>
        
    
        
            <li><a href="/pub/2002/04/">April 2002 (6)</a></li>
        
    
        
            <li><a href="/pub/2002/03/">March 2002 (7)</a></li>
        
    
        
            <li><a href="/pub/2002/02/">February 2002 (5)</a></li>
        
    
        
            <li><a href="/pub/2002/01/">January 2002 (8)</a></li>
        
    
        
            <li><a href="/pub/2001/12/">December 2001 (7)</a></li>
        
    
        
            <li><a href="/pub/2001/11/">November 2001 (5)</a></li>
        
    
        
            <li><a href="/pub/2001/10/">October 2001 (9)</a></li>
        
    
        
            <li><a href="/pub/2001/09/">September 2001 (7)</a></li>
        
    
        
            <li><a href="/pub/2001/08/">August 2001 (13)</a></li>
        
    
        
            <li><a href="/pub/2001/07/">July 2001 (8)</a></li>
        
    
        
            <li><a href="/pub/2001/06/">June 2001 (13)</a></li>
        
    
        
            <li><a href="/pub/2001/05/">May 2001 (11)</a></li>
        
    
        
            <li><a href="/pub/2001/04/">April 2001 (9)</a></li>
        
    
        
            <li><a href="/pub/2001/03/">March 2001 (8)</a></li>
        
    
        
            <li><a href="/pub/2001/02/">February 2001 (8)</a></li>
        
    
        
            <li><a href="/pub/2001/01/">January 2001 (8)</a></li>
        
    
        
            <li><a href="/pub/2000/12/">December 2000 (6)</a></li>
        
    
        
            <li><a href="/pub/2000/11/">November 2000 (10)</a></li>
        
    
        
            <li><a href="/pub/2000/10/">October 2000 (10)</a></li>
        
    
        
            <li><a href="/pub/2000/09/">September 2000 (2)</a></li>
        
    
        
            <li><a href="/pub/2000/08/">August 2000 (2)</a></li>
        
    
        
            <li><a href="/pub/2000/07/">July 2000 (5)</a></li>
        
    
        
            <li><a href="/pub/2000/06/">June 2000 (7)</a></li>
        
    
        
            <li><a href="/pub/2000/05/">May 2000 (7)</a></li>
        
    
        
            <li><a href="/pub/2000/04/">April 2000 (3)</a></li>
        
    
        
            <li><a href="/pub/2000/03/">March 2000 (2)</a></li>
        
    
        
            <li><a href="/pub/2000/02/">February 2000 (2)</a></li>
        
    
        
            <li><a href="/pub/2000/01/">January 2000 (2)</a></li>
        
    
        
            <li><a href="/pub/1999/12/">December 1999 (6)</a></li>
        
    
        
            <li><a href="/pub/1999/11/">November 1999 (6)</a></li>
        
    
        
            <li><a href="/pub/1999/10/">October 1999 (5)</a></li>
        
    
        
            <li><a href="/pub/1999/09/">September 1999 (4)</a></li>
        
    
        
            <li><a href="/pub/1999/08/">August 1999 (3)</a></li>
        
    
        
            <li><a href="/pub/1999/07/">July 1999 (2)</a></li>
        
    
        
            <li><a href="/pub/1999/06/">June 1999 (3)</a></li>
        
    
        
            <li><a href="/pub/1999/04/">April 1999 (1)</a></li>
        
    
        
            <li><a href="/pub/1999/03/">March 1999 (1)</a></li>
        
    
        
            <li><a href="/pub/1999/01/">January 1999 (1)</a></li>
        
    
        
            <li><a href="/pub/1998/12/">December 1998 (1)</a></li>
        
    
        
            <li><a href="/pub/1998/11/">November 1998 (1)</a></li>
        
    
        
            <li><a href="/pub/1998/07/">July 1998 (2)</a></li>
        
    
        
            <li><a href="/pub/1998/06/">June 1998 (1)</a></li>
        
    
        
            <li><a href="/pub/1998/03/">March 1998 (1)</a></li>
        
        </ul>
    </div>
</div>
        
    

<div class="widget-powered widget">
    <div class="widget-content">
        <a href="http://www.movabletype.com/"><img src="/mt-static/images/bug-pbmt-white.png" alt="Powered by Movable Type 5.13-en" width="120" height="75" /></a>
    </div>
</div>



    </div>
</div>






                </div>
            </div>


            <div id="footer">
    <div id="footer-inner">
        <div id="footer-content">
            <div class="widget-powered widget">
                <div class="widget-content">
                    Powered by <a href="http://www.movabletype.com/" rel="generator">Movable Type Pro</a>
                </div>
            </div>

            <div class="widget-creative-commons widget">
                <div class="widget-content">
                    This blog is licensed under a <a href="http://creativecommons.org/licenses/by-nc-nd/3.0/">Creative Commons License</a>.
                </div>
            </div>

        </div>
    </div>
</div>



        </div>
    </div>
</body>
</html>
