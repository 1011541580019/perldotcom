<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" id="sixapart-standard">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<meta name="generator" content="Movable Type Pro 5.13-en" />
<link rel="stylesheet" href="/pub/styles.css" type="text/css" />
<link rel="start" href="/pub/" title="Home" />
<link rel="alternate" type="application/atom+xml" title="Recent Entries" href="/pub/atom.xml" />
<script type="text/javascript" src="/pub/mt.js"></script>
<!--
<rdf:RDF xmlns="http://web.resource.org/cc/"
         xmlns:dc="http://purl.org/dc/elements/1.1/"
         xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
<Work rdf:about="/pub/2004/02/19/plucene.html">
<dc:title>Find What You Want with Plucene</dc:title>
<dc:description> For the past few months, my former employers and I have been working on a port of the Java Lucene search engine toolkit. On the February 3rd, Plucene was released to the world, implementing almost all of the functionality...</dc:description>
<dc:creator>Simon Cozens</dc:creator>
<dc:date>2004-02-19T00:00:00-08:00</dc:date>
<license rdf:resource="http://creativecommons.org/licenses/by-nc-nd/3.0/" />
</Work>
<License rdf:about="http://creativecommons.org/licenses/by-nc-nd/3.0/">
</License>
</rdf:RDF>
-->

<script type="text/javascript">

 var _gaq = _gaq || [];
 _gaq.push(['_setAccount', 'UA-50555-22']);
 _gaq.push(['_trackPageview']);

 (function() {
   var ga = document.createElement('script'); ga.type =
   'text/javascript'; ga.async = true;
   ga.src = ('https:' == document.location.protocol ? 'https://ssl' :
   'http://www') + '.google-analytics.com/ga.js';
   var s = document.getElementsByTagName('script')[0];
   s.parentNode.insertBefore(ga, s);
 })();

</script>
<script type='text/javascript' src='http://partner.googleadservices.com/gampad/google_service.js'></script>
<script type='text/javascript'>
GS_googleAddAdSenseService("ca-pub-4136420132070439");
GS_googleEnableAllServices();
</script>
<script type='text/javascript'>
GA_googleAddSlot("ca-pub-4136420132070439", "Perl_728x90");
</script>
<script type='text/javascript'>GA_googleFetchAds();</script>
    
    <link rel="prev bookmark" href="/pub/2004/02/p6pdigest/20040215.html" title="This week on Perl 6, week ending 2004-02-15" />
    <link rel="next bookmark" href="/pub/2004/02/p6pdigest/20040222.html" title="This week on Perl 6, week ending 2004-02-22" />
    
    
    <title>Find What You Want with Plucene - Perl.com</title>
</head>
<body id="perl-com" class="mt-entry-archive layout-wt">
    <div id="container">
        <div id="container-inner">


            <div id="header">
    <div id="header-inner">
        <div id="header-content">
        <span id="top_advert"> 
<!-- Put any landscape advert in here -->
<!-- Perl_728x90 -->
<script type='text/javascript'>
GA_googleFillSlot("Perl_728x90");
</script>
        </span> 



            <div id="header-name"><a href="/pub/" accesskey="1">Perl.com</a></div>
            <div id="header-description">news and views of the Perl programming language</div>




        </div>
    </div>
</div>



            <div id="content">
                <div id="content-inner">


                    <div id="alpha">
                        <div id="alpha-inner">


                            <div id="entry-876" class="entry-asset asset hentry">
                                <div class="asset-header">
                                    <h1 id="page-title" class="asset-name entry-title">Find What You Want with Plucene</h1>
                                    <div class="asset-meta">
                                        <span class="byline">

                                            By <span class="vcard author">Simon Cozens</span> on <abbr class="published" title="2004-02-19T00:00:00-08:00">February 19, 2004 12:00 AM</abbr>

                                        </span>


                                    </div>
                                </div>
                                <div class="asset-content entry-content">

                                    <div class="asset-body">
                                        
<!-- sidebar begins -->
<!-- don't move sidebars -->
<!-- sidebar ends -->

<p>
For the past few months, my <a href="http://www.kasei.com">former
employers</a> and I have been working on a port of the Java <a href="http://jakarta.apache.org/lucene/">Lucene</a> search engine
toolkit.
</p>



<p>
On the February 3rd, <a href="http://search.cpan.org/perldoc?Plucene">Plucene</a> was released
to the world, implementing almost all of the functionality of the Java
equivalent. Satisfied with a job done, I parted company with Kasei to
pursue some projects of my own -- about which I'm sure you'll be hearing
more later.
</p>


<p>Very soon after, the phone rang,
and it turned out that someone actually wanted to use this Plucene thing; they needed to add a search engine to a web-based book that they had produced,
and had some pretty complex requirements that meant that the usual tools -- HTDig,
Glimpse and friends -- couldn&#39;t quite do the job.
Could I come around and write a Plucene-based search engine for them?</p>

<p>Well, this turned out to have its challenges,
and these turned out to make an interesting introduction to using Plucene,
so I decided to share them with you.
I won&#39;t tell you how to do all of the complicated things we had to do for this custom engine,
but I should give you enough to get your own Plucene indexes up and running.</p>

<h3><a name="Making_it_easy_&#45;_Plucene::Simple" id="Making_it_easy_-_Plucene::Simple">Making It Easy: Plucene::Simple</a></h3>

<p>The easiest way to use Plucene is through the <code>Plucene::Simple</code> module.
To write our index, we say:</p>

<pre><code>    use Plucene::Simple;

    my $index = Plucene::Simple&#45;&#62;open( &#34;/var/plucene/site&#34; );
    for my $id (keys %documents) {
        $index&#45;&#62;add($id =&#62; $documents{$id});
    }
    $index&#45;&#62;optimize;</code></pre>

<p>But what goes in our <code>%documents</code> hash?</p>

<p>One difference between Plucene and other search systems like HTDig is that Plucene only provides a toolkit; it doesn&#39;t provide a complete indexer to suck up a directory of files, for instance. You have to make your own representation of the content of a document, and then add that to the index. For instance, we want to end up with a hash like this:</p>

<pre><code> %documents = (
    &#34;chapter5.html&#34; =&#62; { chapter =&#62; 5,
                         title =&#62; &#34;In which Piglet meets a Heffalump&#34;,
                         content =&#62; &#34;One day, when Christopher Robin...&#34;,
                       }
 );</code></pre>

<p>This means that we can&#39;t simply index the book by providing a list of files to a command-line program. We have to actually write some code.</p>

<p>Some people may think this is a problem, but I see it as an opportunity. For instance, most web pages these days (this one included) are surrounded in a template with banners, titles, and navigation bars down the side. These things are static and appear on every page, so can only harm search engine results; we don&#39;t want to index them. Our indexing code can look at the structure of the document, extract some metadata from it, and construct a hash reference that represents just the important bits of content.</p>

<p>The HTML files I had to deal with looked a bit like this:</p>

<pre><code>    &#60;head&#62;
        &#60;meta name=&#34;chapter&#34; value=&#34;...&#34;&#62;
        &#60;!&#45;&#45; other useful metadata here &#45;&#45;&#62;
        &#60;title&#62; ... &#60;/title&#62;
    &#60;/head&#62;
    &#60;div id=&#34;navigation&#34;&#62;...&#60;/div&#62;
    &#60;div id=&#34;content&#34;&#62;...&#60;/div&#62;</code></pre>

<p>I wanted to extract what was in the <code>meta</code> tags, the <code>title</code>, and everything in the <code>content</code> div. One of the nicest ways to do this in Perl is with the <a href="http://search.cpan.org/perldoc?HTML::TreeBuilder"><code>HTML::TreeBuilder</code></a>, which allows us to &#34;dig down&#34; for the elements that we want to find:</p>

<pre><code>    use HTML::TreeBuilder;
    my $tree = HTML::TreeBuilder&#45;&#62;new&#45;&#62;parse_file(&#34;chapter1.html&#34;);
    my $document = { chapter =&#62; 1 };

    my $title_tag = $tree&#45;&#62;look_down( _tag =&#62; &#34;title&#34; );
    $document&#45;&#62;{<!-- -->title} = $title_tag&#45;&#62;as_text;

    my $content_tag = $tree&#45;&#62;look_down( _tag =&#62; &#34;div&#34;, id =&#62; &#34;content&#34; );
    $document&#45;&#62;{content} = $content_tag&#45;&#62;as_text;</code></pre>

<p>It also allows us to extract attributes from tags:</p>

<pre><code>    for my $tag ($tree&#45;&#62;look_down( _tag =&#62; &#34;meta&#34;)) {
        $document{$tag&#45;&#62;attr(&#34;name&#34;)} = $tag&#45;&#62;attr(&#34;content&#34;);
    }</code></pre>

<p>Now we have the salient parts of the chapter extracted as a hash reference, and we can add this to our index, keyed by the filename:</p>

<pre><code>    $index&#45;&#62;add( &#34;chapter1.html&#34; =&#62; $document );</code></pre>

<p>To do this for a whole directory tree of files, we can use the wonderful <a href="http://search.cpan.org/perldoc?File::Find::Rule"><code>File::Find::Rule</code></a> module:</p>

<pre><code>    for my $filename (File::Find::Rule&#45;&#62;file
                      &#45;&#62;name( qr/^(?!index).*\.html/ )&#45;&#62;in(&#34;.&#34;)) {
        print &#34;Processing $filename...\n&#34;;
        $writer&#45;&#62;writer( $filename =&#62; file2hash($filename) );
    }
    $index&#45;&#62;optimize;</code></pre>

<p>This finds all files underneath the current directory called <code>*.html</code> that don&#39;t start with the characters <code>index</code>. (We needed some special treatment on the index of the book itself, since providing search results to pages in the index would not be helpful.)</p>

<h3><a name="Running_the_Search" id="Running_the_Search">Running the Search</a></h3>

<p>The search part of the operation is now pretty easy. We have a CGI script or equivalent that gets the search query string, and then we say:</p>

<pre><code>    use Plucene::Simple;

    my (@ids, $error);
    if (!$query) {
        $error = &#34;Your search term was empty&#34;;
    } else {
        $index = Plucene::Simple&#45;&#62;open( &#34;/var/plucene/site&#34; );
        @ids = $index&#45;&#62;search($query);
    }</code></pre>

<p>and this returns the list of filenames that matched the query. Because I tend to use Template Toolkit for pretty much everything these days, it became:</p>

<pre><code>    my $t = Template&#45;&#62;new();
    $t&#45;&#62;process(&#34;searchResult.html&#34;, {
        query   =&#62; $query,
        results =&#62; \@ids,
        error   =&#62; $error,
    });</code></pre>

<p>And the relevant part of the template is:</p>

<pre><code>    [% IF error %]
       &#60;H2&#62; Search had errors &#60;/H2&#62;
       &#60;FONT COLOR=&#34;#ff0000&#34;&#62; [% error %] &#60;/FONT&#62;
    [% ELSE %]
       &#60;H2&#62; Search results for [% query %] &#60;/H2&#62;
        [% IF results.size &#62; 0 %]
            &#60;OL&#62;
              [% FOR result = results %]
              &#60;LI&#62;
                  &#60;A HREF=&#34;/[% filename %]&#34;&#62; [% filename %] &#60;/A&#62;
              &#60;/LI&#62;
              [% END %]
            &#60;/OL&#62;
        [% ELSE %]
            &#60;P&#62;No results found&#60;/P&#62;
        [% END %]
    [% END %]</code></pre>

<p>However, this isn&#39;t very pretty, for a couple of reasons. The first reason is that we&#39;re linking the result to a filename, rather than displaying something friendly like the name of the chapter. The second is that when you get results from a web search engine, you generally also expect to see some context for the terms that you&#39;ve just searched for, so you know how the terms appear on the page.</p>

<p>We can&#39;t easily solve the first problem with <code>Plucene::Simple</code>, so we&#39;ll come back to it. But contextualizing search results is something we can do.</p>

<h3><a name="Contextualising_results" id="Contextualising_results">Contextualizing Results</a></h3>

<p>The <a href="http://search.cpan.org/perldoc?Text::Context"><code>Text::Context</code></a> module was written to solve a similar contextualizing problem; it takes a bunch of keywords and a source document, and produces a paragraph&#45;sized chunk of text highlighting where the keywords occur.</p>

<p>Since it works by trying to subdivide the text into paragraphs, it&#39;s helpful to have a text&#45;only version of the document available. If we don&#39;t, we can use <code>HTML::TreeBuilder</code> again to produce them:</p>

<pre><code>    sub snippet {
        my $filename = shift;
        use HTML::Tree;
        my $tree = HTML::TreeBuilder&#45;&#62;new();
        $tree&#45;&#62;parse_file(DOCUMENT_ROOT . &#34;/&#34; . $filename)
            or die &#34;Couldn&#39;t parse file&#34;;
        my $content;
        my($div) = $tree&#45;&#62;look_down(&#34;_tag&#34;,&#34;div&#34;, &#34;id&#34;, &#34;content&#34;);
        for my $p ($div&#45;&#62;look_down(sub { shift&#45;&#62;tag() =~ /^(h\d+|p)/i })) {
            $content . = $p&#45;&#62;as_text.&#34;\n\n&#34;;
        }</code></pre>

<p>This looks for headings and paragraphs and extracts the text from them. Now we can split the search query into individual terms, and then call our <code>Text::Context</code> module to get a snippet to pass to the templater:</p>

<pre><code>        my @terms = split /\s+/, $query;
        my $snippet = Text::Context&#45;&#62;new($stuff, @terms)&#45;&#62;as_html();
        return $snippet;
    }</code></pre>

<p>So far, so good! Then, of course, the specifications changed ...</p>

<h3><a name="Plucene_Components" id="Plucene_Components">Plucene Components</a></h3>

<p>One of the things that makes a good search engine into a great search engine is the ability to automatically search for variations and inflections of the terms. For instance, if you search for &#34;looking good,&#34; you should also find documents that contain &#34;looked good,&#34; &#34;looks good,&#34; and so on.</p>

<p>There are two ways to deal with this; the way HTDig chooses is to replace the &#34;looking&#34; with &#34;(look OR looked OR looks OR looking),&#34; but this isn&#39;t particularly efficient or comprehensive.</p>

<p>A second way is to index the words a little differently; filtering them through a stemmer which takes off the suffixes, so that all of the above collapse to &#34;look.&#34; <a href="http://search.cpan.org/perldoc?Lingua::Stem::En::stem"><code>Lingua::Stem::En::stem</code></a> does this, but we can&#39;t plug it into <code>Plucene::Simple</code> directly. To do this, we need to slip under the covers of <code>Plucene::Simple</code> and meddle with the Plucene API itself.</p>

<p>Before we see how to do this, let&#39;s look at the various components of Plucene.</p>

<p>The indexing part of the process is handled by <code>Plucene::Index::Writer</code>; this takes in <code>Plucene::Document</code> objects, and uses a <code>Plucene::Analysis::Analyzer</code> subclass to break up the text of the document into tokens. The default analyzer as used by <code>Plucene::Simple</code> is <code>Plucene::Analysis::SimpleAnalyzer</code>, which breaks up words on non&#45;letter boundaries and then forces them to lowercase them. The broken&#45;up tokens are put into <code>Plucene::Index::Term</code> to have a field associated with them; for instance, in our example:</p>

<pre><code>    &#60;TITLE&#62;In which Pooh goes visiting and gets into a tight place&#60;/HEAD&#62;</code></pre>

<p>will be turned by our <code>HTML::TreeBuilder</code> munging into</p>

<pre><code>    {
    title =&#62; &#34;In which Pooh goes visiting and gets into a tight place&#34;
    }</code></pre>

<p>and <code>Plucene::Simple</code> turns this into a <code>Plucene::Document::Field</code>:</p>

<pre><code>    bless {name =&#62; &#34;title&#34;,
    string =&#62; &#34;In which Pooh goes visiting and gets into a tight place&#34;},
    &#34;Plucene::Document::Field&#34;</code></pre>

<p>and then into a set of <code>Plucene::Index::Term</code> objects like so:</p>

<pre><code>    bless { field =&#62; &#34;title&#34;, text =&#62; &#34;in&#34; }, &#34;Plucene::Document::Term&#34;
    bless { field =&#62; &#34;title&#34;, text =&#62; &#34;which&#34; }, &#34;Plucene::Document::Term&#34;
    bless { field =&#62; &#34;title&#34;, text =&#62; &#34;pooh&#34; }, &#34;Plucene::Document::Term&#34;
    bless { field =&#62; &#34;title&#34;, text =&#62; &#34;goes&#34; }, &#34;Plucene::Document::Term&#34;
    bless { field =&#62; &#34;title&#34;, text =&#62; &#34;visiting&#34; }, &#34;Plucene::Document::Term&#34;
    ...</code></pre>

<p>Then various classes write out the terms and their frequencies into the index.</p>

<p>When we come to searching, the <code>Plucene::Search::IndexSearcher</code> acts as the top-level classes. It calls a <code>Plucene::QueryParser</code> to turn the query into a set of <code>Plucene::Search::Query</code> objects: this allows Plucene to differentiate between phrase queries such as <code>&#34;looks good&#34;</code>, negated queries (<code>looks &#45;good</code>), queries in different fields (<code>looks title:good</code>), and so on.</p>

<p>This <code>QueryParser</code>, in turn, uses the same analyzer as the indexer to break up the search terms into tokens. This is because if our indexer has seen <code>BORN2run</code> and turned it into two tokens, <code>born</code> and <code>run</code>, and then we do a search on <code>BORN2run</code>, we aren&#39;t going to find it unless we transform the search terms to <code>born</code> and <code>run</code> in the same way.</p>

<h3><a name="Using_the_Porter_Analyzer" id="Using_the_Porter_Analyzer">Using the Porter Analyzer</a></h3>

<p>We need to replace the <code>SimpleAnalyzer</code> with an analyzer that filters through <code>Lingua::Stem::En</code>. Thankfully, here&#39;s one I prepared earlier: <code>Plucene::Plugin::Analyzer::Porter</code>. However, since <code>Plucene::Simple</code> doesn&#39;t allow us to change analyzers, we have to do everything manually.</p>

<p>First, we produce a <code>Plucene::Index::Writer</code>, with the appropriate analyzer:</p>

<pre><code>    my $writer = Plucene::Index::Writer&#45;&#62;new(
        &#34;/var/plucene/site&#34;,
        Plucene::Plugin::Analyzer::PorterAnalyzer&#45;&#62;new(),
        1 # Create the index from scratch
    );</code></pre>

<p>Next we have to build up the <code>Plucene::Document</code> ourselves, instead of just feeding a hash of attributes to <code>Plucene::Simple&#45;&#62;add</code>.</p>

<pre><code>  my $doc = Plucene::Document&#45;&#62;new();
  $doc&#45;&#62;add(Plucene::Document::Field&#45;&#62;Keyword(filename =&#62; $filename));

  my $title_tag = $tree&#45;&#62;look_down( _tag =&#62; &#34;title&#34; );
  $doc&#45;&#62;add(Plucene::Document::Field&#45;&#62;Text( title =&#62; $title_tag&#45;&#62;as_text ));

  for my $tag ($tree&#45;&#62;look_down( _tag =&#62; &#34;meta&#34;)) {
      $document{$tag&#45;&#62;attr(&#34;name&#34;)} = $tag&#45;&#62;attr(&#34;content&#34;);
  }

  my $content_tag = $tree&#45;&#62;look_down( _tag =&#62; &#34;div&#34;, id =&#62; &#34;content&#34; );
  $doc&#45;&#62;add(Plucene::Document::Field&#45;&#62;UnStored( title =&#62; $content_tag&#45;&#62;as_text ));</code></pre>

<p>You&#39;ll notice that there are three different constructors for <code>Plucene::Document::Field</code> objects -- the <code>Keyword</code> is stored and can be retrieved, but isn&#39;t broken up into tokens; this is used for things like filenames, where you want to get them back from the index verbatim. Fields constructed using <code>Text</code> can be retrieved, but are also broken up into tokens for searching in the index. <code>UnStored</code> text can&#39;t be retrieved, but is indexed, so we use this for the content, the main bulk of the book.</p>

<p>This will also solve our problem with the English description of the link, since it will allow us to retrieve the title field for a search hit.</p>

<p>Once we have our document object, we can add it into the index:</p>

<pre><code>    $writer&#45;&#62;add($doc);</code></pre>

<p>Now that we have the text filtered through the Porter stemmer, the tokens indexed will look like &#34;<code>in which pooh goe visit</code>.&#34; Now we need to make sure that the same filter is used in searching, which means we also have to rewrite the search code to use this analyzer. First, we open the index for searching:</p>

<pre><code>    my $searcher = Plucene::Search::IndexSearcher&#45;&#62;new( &#34;/var/plucene/site&#34; );</code></pre>

<p>Now we parse the query, specifying that any unqualified terms should be sought in the <code>content</code> field:</p>

<pre><code>    my $parser = Plucene::QueryParser&#45;&#62;new({
            analyzer =&#62; Plucene::Plugin::PorterAnalyzer&#45;&#62;new(),
            default  =&#62; &#34;content&#34;
        });
    my $parsed = $parser&#45;&#62;parse($query);</code></pre>

<p>Finally, we declare a <code>Plucene::Search::HitCollector</code>; this is a callback which is called every time a search hit is found. We use it to populate an array of information about hits:</p>

<pre><code>    my @docs;
    my $hc       = Plucene::Search::HitCollector&#45;&#62;new(
        collect =&#62; sub {
            my ($self, $doc, $score) = @_;
            my $res = eval { $searcher&#45;&#62;doc($doc) };
            push @docs, $res if $res;
        });</code></pre>

<p>And we do the search:</p>

<pre><code>    $searcher&#45;&#62;search_hc($parsed, $hc);</code></pre>

<p>This fills <code>@docs</code> with <code>Plucene::Document</code> objects; from these, we want to extract the filename and the title fields, to pass to the templates:</p>

<pre><code>    @results = map {{ 
        filename =&#62; $_&#45;&#62;get(&#34;filename&#34;)&#45;&#62;string,
        title =&#62; $_&#45;&#62;get(&#34;title&#34;)&#45;&#62;string,
    }} @docs;

    for (@results) {
        $_&#45;&#62;{snippet} = snippet($_&#45;&#62;{filename})
    }</code></pre>

<p>Now we can put together a more impressive display for each result:</p>

<pre><code>    &#60;LI&#62;
    &#60;BLOCKQUOTE&#62;
    [% result.snippet %]
    &#60;/BLOCKQUOTE&#62;
    &#60;P&#62;In &#60;A HREF=&#34;/[% result.filename %]&#34;&#62; [% result.title %]&#60;/A&#62;&#60;/P&#62;</code></pre>

<p>This ends up looking like the following:</p>


<h3> Search results for &quot;bears build&quot; </h3>
<blockquote>
It's a very funny thought that, if <b>Bears</b> were Bees,
they'd <b>build</b> their nests are the bottom of trees.
</blockquote>
<p>In <i>We are introduced</i></p>


<p>Which looks quite nice and professional. Except for one slight matter.</p>

<p>Suppose we had looked for <code>bear builds</code>. We&#39;d still match the same bit of text, thanks to stemming. However, the exact words that we&#39;re looking for aren&#39;t in that bit of text, so the contextualizer won&#39;t do the right thing. What we need, then, is a version of <code>Text::Context</code> that knows about Porter stemming. Thankfully, <a href="http://search.cpan.org/perldoc?Text::Context::Stemmer"><code>Text::Context::Stemmer</code></a> steps into the breach.</p>

<p>We have a web search engine that understands Porter stemming. The first part of my job is done.</p>

<h3><a name="And_everything_else" id="And_everything_else">And Everything Else</a></h3>

<p>There are plenty of other things we can do with Plucene: use the metadata to restrict the search to particular chapters, for instance; filter out stop words with the <code>Plucene::Analysis::StopFilter</code>; restrict the search to a series of dates, using the <code>Plucene::Document::DateSerializer</code> module, and so on.</p>

<p>Plucene is a general-purpose search engine; while the <code>Plucene::Simple</code> interface to it allows you to get a good search tool up and running very quickly, that&#39;s very much only the tip of the iceberg. By getting into the Plucene API itself, we can build a complex, customized search engine for any application.</p>

                                    </div>


                                </div>
                                <div class="asset-footer">


                                    <div class="entry-tags">
                                        <h4>Tags<span class="delimiter">:</span></h4>
                                        <ul>
                                            <li><a href="javascript:void(0)" onclick="location.href='http://www.perl.com/mt-search.cgi?IncludeBlogs=2&amp;tag=plucene%20lucene%20search&amp;limit=20';return false;" rel="tag">plucene lucene search</a></li>
                                        </ul>
                                    </div>

                                </div>
                            </div>


                    
                    


                        </div>
                    </div>


                    <div id="beta">
    <div id="beta-inner">


    
    <div class="widget-what-is-perl widget">
    <div class="widget-content widget-content-what-is-perl">
       Visit the home of the  Perl programming language: <a href="http://www.perl.org/">Perl.org</a
    </div>
</div>
<div class="widget-find-out-more widget-archives widget">
    <div class="widget-content">
        <ul>
            <li><a href="http://www.perl.org/get.html">Download</a></li>
            <li><a href="http://perldoc.perl.org/">Documentation</a></li>
            <li><a href="http://blogs.perl.org/">Perl Bloggers</a></li>
            <li><a href="http://news.perlfoundation.org/">Foundation News</a></li>
        </ul>
    </div>
</div><div class="widget-tcpc widget">
<h3 class="widget-header">Sponsored by</h3>
    <div class="widget-content">
        <a href="http://training.perl.com/" alt="Perl Training" target="_blank"><img src="/i/tcpc.png" width="150" height="50"></a>
    </div>
</div>

<div class="widget-syndication widget">
    <div class="widget-content">
        <ul>
            <li><img src="/mt-static/images/status_icons/feed.gif" alt="Subscribe to feed" width="9" height="9" /> <a href="/pub/atom.xml">Subscribe to this website's feed</a></li>

        </ul>
    </div>
</div>
<div class="widget-archive-monthly widget-archive widget">
    <h3 class="widget-header">Monthly <a href="/pub/archives.html">Archives</a></h3>
    <div class="widget-content">
        <ul>
        
            <li><a href="/pub/2014/02/">February 2014 (1)</a></li>
        
    
        
            <li><a href="/pub/2014/01/">January 2014 (1)</a></li>
        
    
        
            <li><a href="/pub/2013/10/">October 2013 (1)</a></li>
        
    
        
            <li><a href="/pub/2013/01/">January 2013 (1)</a></li>
        
    
        
            <li><a href="/pub/2012/12/">December 2012 (1)</a></li>
        
    
        
            <li><a href="/pub/2012/11/">November 2012 (1)</a></li>
        
    
        
            <li><a href="/pub/2012/10/">October 2012 (2)</a></li>
        
    
        
            <li><a href="/pub/2012/08/">August 2012 (2)</a></li>
        
    
        
            <li><a href="/pub/2012/06/">June 2012 (11)</a></li>
        
    
        
            <li><a href="/pub/2012/05/">May 2012 (18)</a></li>
        
    
        
            <li><a href="/pub/2012/04/">April 2012 (17)</a></li>
        
    
        
            <li><a href="/pub/2012/02/">February 2012 (1)</a></li>
        
    
        
            <li><a href="/pub/2011/12/">December 2011 (1)</a></li>
        
    
        
            <li><a href="/pub/2011/09/">September 2011 (1)</a></li>
        
    
        
            <li><a href="/pub/2011/08/">August 2011 (2)</a></li>
        
    
        
            <li><a href="/pub/2011/06/">June 2011 (1)</a></li>
        
    
        
            <li><a href="/pub/2011/05/">May 2011 (3)</a></li>
        
    
        
            <li><a href="/pub/2011/04/">April 2011 (1)</a></li>
        
    
        
            <li><a href="/pub/2011/03/">March 2011 (1)</a></li>
        
    
        
            <li><a href="/pub/2011/02/">February 2011 (1)</a></li>
        
    
        
            <li><a href="/pub/2011/01/">January 2011 (1)</a></li>
        
    
        
            <li><a href="/pub/2010/11/">November 2010 (1)</a></li>
        
    
        
            <li><a href="/pub/2010/10/">October 2010 (2)</a></li>
        
    
        
            <li><a href="/pub/2010/09/">September 2010 (1)</a></li>
        
    
        
            <li><a href="/pub/2010/08/">August 2010 (3)</a></li>
        
    
        
            <li><a href="/pub/2010/07/">July 2010 (2)</a></li>
        
    
        
            <li><a href="/pub/2010/04/">April 2010 (2)</a></li>
        
    
        
            <li><a href="/pub/2010/03/">March 2010 (4)</a></li>
        
    
        
            <li><a href="/pub/2008/05/">May 2008 (1)</a></li>
        
    
        
            <li><a href="/pub/2008/04/">April 2008 (2)</a></li>
        
    
        
            <li><a href="/pub/2008/03/">March 2008 (1)</a></li>
        
    
        
            <li><a href="/pub/2008/02/">February 2008 (1)</a></li>
        
    
        
            <li><a href="/pub/2008/01/">January 2008 (1)</a></li>
        
    
        
            <li><a href="/pub/2007/12/">December 2007 (2)</a></li>
        
    
        
            <li><a href="/pub/2007/09/">September 2007 (1)</a></li>
        
    
        
            <li><a href="/pub/2007/08/">August 2007 (1)</a></li>
        
    
        
            <li><a href="/pub/2007/07/">July 2007 (1)</a></li>
        
    
        
            <li><a href="/pub/2007/06/">June 2007 (1)</a></li>
        
    
        
            <li><a href="/pub/2007/05/">May 2007 (1)</a></li>
        
    
        
            <li><a href="/pub/2007/04/">April 2007 (1)</a></li>
        
    
        
            <li><a href="/pub/2007/03/">March 2007 (1)</a></li>
        
    
        
            <li><a href="/pub/2007/02/">February 2007 (1)</a></li>
        
    
        
            <li><a href="/pub/2007/01/">January 2007 (1)</a></li>
        
    
        
            <li><a href="/pub/2006/12/">December 2006 (1)</a></li>
        
    
        
            <li><a href="/pub/2006/11/">November 2006 (2)</a></li>
        
    
        
            <li><a href="/pub/2006/10/">October 2006 (1)</a></li>
        
    
        
            <li><a href="/pub/2006/09/">September 2006 (1)</a></li>
        
    
        
            <li><a href="/pub/2006/08/">August 2006 (1)</a></li>
        
    
        
            <li><a href="/pub/2006/07/">July 2006 (1)</a></li>
        
    
        
            <li><a href="/pub/2006/06/">June 2006 (1)</a></li>
        
    
        
            <li><a href="/pub/2006/05/">May 2006 (1)</a></li>
        
    
        
            <li><a href="/pub/2006/04/">April 2006 (1)</a></li>
        
    
        
            <li><a href="/pub/2006/03/">March 2006 (1)</a></li>
        
    
        
            <li><a href="/pub/2006/02/">February 2006 (4)</a></li>
        
    
        
            <li><a href="/pub/2006/01/">January 2006 (4)</a></li>
        
    
        
            <li><a href="/pub/2005/12/">December 2005 (4)</a></li>
        
    
        
            <li><a href="/pub/2005/11/">November 2005 (3)</a></li>
        
    
        
            <li><a href="/pub/2005/10/">October 2005 (2)</a></li>
        
    
        
            <li><a href="/pub/2005/09/">September 2005 (2)</a></li>
        
    
        
            <li><a href="/pub/2005/08/">August 2005 (9)</a></li>
        
    
        
            <li><a href="/pub/2005/07/">July 2005 (8)</a></li>
        
    
        
            <li><a href="/pub/2005/06/">June 2005 (9)</a></li>
        
    
        
            <li><a href="/pub/2005/05/">May 2005 (8)</a></li>
        
    
        
            <li><a href="/pub/2005/04/">April 2005 (7)</a></li>
        
    
        
            <li><a href="/pub/2005/03/">March 2005 (6)</a></li>
        
    
        
            <li><a href="/pub/2005/02/">February 2005 (7)</a></li>
        
    
        
            <li><a href="/pub/2005/01/">January 2005 (6)</a></li>
        
    
        
            <li><a href="/pub/2004/12/">December 2004 (8)</a></li>
        
    
        
            <li><a href="/pub/2004/11/">November 2004 (8)</a></li>
        
    
        
            <li><a href="/pub/2004/10/">October 2004 (5)</a></li>
        
    
        
            <li><a href="/pub/2004/09/">September 2004 (9)</a></li>
        
    
        
            <li><a href="/pub/2004/08/">August 2004 (6)</a></li>
        
    
        
            <li><a href="/pub/2004/07/">July 2004 (8)</a></li>
        
    
        
            <li><a href="/pub/2004/06/">June 2004 (6)</a></li>
        
    
        
            <li><a href="/pub/2004/05/">May 2004 (7)</a></li>
        
    
        
            <li><a href="/pub/2004/04/">April 2004 (8)</a></li>
        
    
        
            <li><a href="/pub/2004/03/">March 2004 (8)</a></li>
        
    
        
            <li><a href="/pub/2004/02/">February 2004 (9)</a></li>
        
    
        
            <li><a href="/pub/2004/01/">January 2004 (7)</a></li>
        
    
        
            <li><a href="/pub/2003/12/">December 2003 (4)</a></li>
        
    
        
            <li><a href="/pub/2003/11/">November 2003 (7)</a></li>
        
    
        
            <li><a href="/pub/2003/10/">October 2003 (8)</a></li>
        
    
        
            <li><a href="/pub/2003/09/">September 2003 (6)</a></li>
        
    
        
            <li><a href="/pub/2003/08/">August 2003 (7)</a></li>
        
    
        
            <li><a href="/pub/2003/07/">July 2003 (9)</a></li>
        
    
        
            <li><a href="/pub/2003/06/">June 2003 (9)</a></li>
        
    
        
            <li><a href="/pub/2003/05/">May 2003 (8)</a></li>
        
    
        
            <li><a href="/pub/2003/04/">April 2003 (8)</a></li>
        
    
        
            <li><a href="/pub/2003/03/">March 2003 (10)</a></li>
        
    
        
            <li><a href="/pub/2003/02/">February 2003 (8)</a></li>
        
    
        
            <li><a href="/pub/2003/01/">January 2003 (8)</a></li>
        
    
        
            <li><a href="/pub/2002/12/">December 2002 (5)</a></li>
        
    
        
            <li><a href="/pub/2002/11/">November 2002 (9)</a></li>
        
    
        
            <li><a href="/pub/2002/10/">October 2002 (7)</a></li>
        
    
        
            <li><a href="/pub/2002/09/">September 2002 (11)</a></li>
        
    
        
            <li><a href="/pub/2002/08/">August 2002 (8)</a></li>
        
    
        
            <li><a href="/pub/2002/07/">July 2002 (8)</a></li>
        
    
        
            <li><a href="/pub/2002/06/">June 2002 (4)</a></li>
        
    
        
            <li><a href="/pub/2002/05/">May 2002 (6)</a></li>
        
    
        
            <li><a href="/pub/2002/04/">April 2002 (6)</a></li>
        
    
        
            <li><a href="/pub/2002/03/">March 2002 (7)</a></li>
        
    
        
            <li><a href="/pub/2002/02/">February 2002 (5)</a></li>
        
    
        
            <li><a href="/pub/2002/01/">January 2002 (8)</a></li>
        
    
        
            <li><a href="/pub/2001/12/">December 2001 (7)</a></li>
        
    
        
            <li><a href="/pub/2001/11/">November 2001 (5)</a></li>
        
    
        
            <li><a href="/pub/2001/10/">October 2001 (9)</a></li>
        
    
        
            <li><a href="/pub/2001/09/">September 2001 (7)</a></li>
        
    
        
            <li><a href="/pub/2001/08/">August 2001 (13)</a></li>
        
    
        
            <li><a href="/pub/2001/07/">July 2001 (8)</a></li>
        
    
        
            <li><a href="/pub/2001/06/">June 2001 (13)</a></li>
        
    
        
            <li><a href="/pub/2001/05/">May 2001 (11)</a></li>
        
    
        
            <li><a href="/pub/2001/04/">April 2001 (9)</a></li>
        
    
        
            <li><a href="/pub/2001/03/">March 2001 (8)</a></li>
        
    
        
            <li><a href="/pub/2001/02/">February 2001 (8)</a></li>
        
    
        
            <li><a href="/pub/2001/01/">January 2001 (8)</a></li>
        
    
        
            <li><a href="/pub/2000/12/">December 2000 (6)</a></li>
        
    
        
            <li><a href="/pub/2000/11/">November 2000 (10)</a></li>
        
    
        
            <li><a href="/pub/2000/10/">October 2000 (10)</a></li>
        
    
        
            <li><a href="/pub/2000/09/">September 2000 (2)</a></li>
        
    
        
            <li><a href="/pub/2000/08/">August 2000 (2)</a></li>
        
    
        
            <li><a href="/pub/2000/07/">July 2000 (5)</a></li>
        
    
        
            <li><a href="/pub/2000/06/">June 2000 (7)</a></li>
        
    
        
            <li><a href="/pub/2000/05/">May 2000 (7)</a></li>
        
    
        
            <li><a href="/pub/2000/04/">April 2000 (3)</a></li>
        
    
        
            <li><a href="/pub/2000/03/">March 2000 (2)</a></li>
        
    
        
            <li><a href="/pub/2000/02/">February 2000 (2)</a></li>
        
    
        
            <li><a href="/pub/2000/01/">January 2000 (2)</a></li>
        
    
        
            <li><a href="/pub/1999/12/">December 1999 (6)</a></li>
        
    
        
            <li><a href="/pub/1999/11/">November 1999 (6)</a></li>
        
    
        
            <li><a href="/pub/1999/10/">October 1999 (5)</a></li>
        
    
        
            <li><a href="/pub/1999/09/">September 1999 (4)</a></li>
        
    
        
            <li><a href="/pub/1999/08/">August 1999 (3)</a></li>
        
    
        
            <li><a href="/pub/1999/07/">July 1999 (2)</a></li>
        
    
        
            <li><a href="/pub/1999/06/">June 1999 (3)</a></li>
        
    
        
            <li><a href="/pub/1999/04/">April 1999 (1)</a></li>
        
    
        
            <li><a href="/pub/1999/03/">March 1999 (1)</a></li>
        
    
        
            <li><a href="/pub/1999/01/">January 1999 (1)</a></li>
        
    
        
            <li><a href="/pub/1998/12/">December 1998 (1)</a></li>
        
    
        
            <li><a href="/pub/1998/11/">November 1998 (1)</a></li>
        
    
        
            <li><a href="/pub/1998/07/">July 1998 (2)</a></li>
        
    
        
            <li><a href="/pub/1998/06/">June 1998 (1)</a></li>
        
    
        
            <li><a href="/pub/1998/03/">March 1998 (1)</a></li>
        
        </ul>
    </div>
</div>
        
    

<div class="widget-powered widget">
    <div class="widget-content">
        <a href="http://www.movabletype.com/"><img src="/mt-static/images/bug-pbmt-white.png" alt="Powered by Movable Type 5.13-en" width="120" height="75" /></a>
    </div>
</div>



    </div>
</div>






                </div>
            </div>


            <div id="footer">
    <div id="footer-inner">
        <div id="footer-content">
            <div class="widget-powered widget">
                <div class="widget-content">
                    Powered by <a href="http://www.movabletype.com/" rel="generator">Movable Type Pro</a>
                </div>
            </div>

            <div class="widget-creative-commons widget">
                <div class="widget-content">
                    This blog is licensed under a <a href="http://creativecommons.org/licenses/by-nc-nd/3.0/">Creative Commons License</a>.
                </div>
            </div>

        </div>
    </div>
</div>



        </div>
    </div>
</body>
</html>
