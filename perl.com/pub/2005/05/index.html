<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" id="sixapart-standard">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<meta name="generator" content="Movable Type Pro 5.13-en" />
<link rel="stylesheet" href="/pub/styles.css" type="text/css" />
<link rel="start" href="/pub/" title="Home" />
<link rel="alternate" type="application/atom+xml" title="Recent Entries" href="/pub/atom.xml" />
<script type="text/javascript" src="/pub/mt.js"></script>
<!--
<rdf:RDF xmlns="http://web.resource.org/cc/"
         xmlns:dc="http://purl.org/dc/elements/1.1/"
         xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
<Work rdf:about="/pub/">
<dc:title>Perl.com</dc:title>
<dc:description>news and views of the Perl programming language</dc:description>
<license rdf:resource="http://creativecommons.org/licenses/by-nc-nd/3.0/" />
</Work>
<License rdf:about="http://creativecommons.org/licenses/by-nc-nd/3.0/">
</License>
</rdf:RDF>
-->

<script type="text/javascript">

 var _gaq = _gaq || [];
 _gaq.push(['_setAccount', 'UA-50555-22']);
 _gaq.push(['_trackPageview']);

 (function() {
   var ga = document.createElement('script'); ga.type =
   'text/javascript'; ga.async = true;
   ga.src = ('https:' == document.location.protocol ? 'https://ssl' :
   'http://www') + '.google-analytics.com/ga.js';
   var s = document.getElementsByTagName('script')[0];
   s.parentNode.insertBefore(ga, s);
 })();

</script>
<script type='text/javascript' src='http://partner.googleadservices.com/gampad/google_service.js'></script>
<script type='text/javascript'>
GS_googleAddAdSenseService("ca-pub-4136420132070439");
GS_googleEnableAllServices();
</script>
<script type='text/javascript'>
GA_googleAddSlot("ca-pub-4136420132070439", "Perl_728x90");
</script>
<script type='text/javascript'>GA_googleFetchAds();</script>
    <title>Perl.com: May 2005 Archives</title>


    <link rel="prev" href="/pub/2005/04/" title="April 2005" />
    <link rel="next" href="/pub/2005/06/" title="June 2005" />

</head>
<body id="perl-com" class="mt-archive-listing mt-datebased-monthly-archive layout-wt">
    <div id="container">
        <div id="container-inner">


            <div id="header">
    <div id="header-inner">
        <div id="header-content">
        <span id="top_advert"> 
<!-- Put any landscape advert in here -->
<!-- Perl_728x90 -->
<script type='text/javascript'>
GA_googleFillSlot("Perl_728x90");
</script>
        </span> 



            <div id="header-name"><a href="/pub/" accesskey="1">Perl.com</a></div>
            <div id="header-description">news and views of the Perl programming language</div>




        </div>
    </div>
</div>



            <div id="content">
                <div id="content-inner">


                    <div id="alpha">
                        <div id="alpha-inner">


                            <h1 id="page-title" class="archive-title">May 2005 Archives</h1>





                            
                            <div id="entry-776" class="entry-asset asset hentry">
    <div class="asset-header">
        <h2 class="asset-name entry-title"><a href="/pub/2005/05/p6pdigest/20050526.html" rel="bookmark">This Week in Perl 6, May 18 - 24, 2005</a></h2>
        <div class="asset-meta">
            <span class="byline">
    
                By <span class="vcard author">Piers Cawley</span> on <abbr class="published" title="2005-05-27T00:00:00-08:00">May 27, 2005 12:00 AM</abbr>
    
            </span>

            
            

        </div>
    </div>
    <div class="asset-content entry-content">

        <div class="asset-body">
            
<!-- sidebar begins -->
<!-- don't move sidebars-->
<!-- sidebar ends --> 

<p>Note to self: It's generally not a good idea to go installing Tiger on the
day you return from holiday. It's especially not a good idea to fail to check
that it didn't completely and utterly radish your Postfix configuration. And
your Emacs. And the backing store for your website. And a bunch of other stuff.
It's an especially bad idea not to have backups of things like your aliases
file...</p>

<p>Nor is it a good idea to get preoccupied with all these joys and completely
forget that you should be writing the Perl 6 summary.</p>

<p>Ahem.</p>

<p>I'm very, very sorry.</p>

<p>So, on with the show.</p>

<h3>This Week in perl6-compiler</h3>

<h4><a
href="http://groups.google.com/groups?threadm=20050518205201.GA70318@aut.dyndns.org"><code>Inline::Pugs</code></a></h4>

<p>Autrijus announced the availability of <a
href="http://search.cpan.org/perldoc?Inline::Pugs">Inline::Pugs</a>. If you've
ever wanted to mix up Perl's 5 and 6 in one program, your prayers have been
answered. Just grab Pugs and Inline and you're set. Brian Ingerson made things
even more delightfully evil:</p>

<pre><code>#!perl
use pugs;
sub postfix:&lt;!&gt; { [*] 1..$_ }
sub sum_factorial { [+] 0..$_! }
no pugs;
print sum_factorial(3); # 21</code></pre>

<h4><a
href="http://groups.google.com/groups?threadm=20050520154253.GA3870@aut.dyndns.org">Experimental
Coroutine Support</a></h4>

<p>Autrijus announced that Pugs now has an experimental implementation of
coroutines. It's almost certainly not final, but it's good enough for
exploration and feedback purposes.</p>

<h4><a
href="http://groups.google.com/groups?threadm=20050520190606.GB16763@woobling.org">Graphing
Tool for PerlGuts Illustrated</a></h4>

<p>Yuval Kogman asked what tool generated the &quot;pretty diagrams&quot; in PerlGuts
Illustrated because he wanted to use it for diagrams in a forthcoming PugsGuts
Illustrated. Ingy said that Gisle had hand hacked PostScript based on initial
diagrams drawn on graph paper. After some discussion, the plan seems to be that
Yuval will just draw diagrams, scan them, and bung them into the Pugs
repository. He'll rely on the <a href="http://www.lazyweb.org/">LazyWeb</a> to
turn them into beautiful scalable graphics.</p>

<h4><a
href="http://groups-beta.google.com/group/perl.perl6.compiler/browse_thread/thread/d6c1550edc339757/53af7c2c05de2e04">Perl
Development Server</a></h4>

<p>Okay everyone, repeat after me: &quot;Juerd is a star!&quot;</p>

<p>You may ask me why, and I shall tell you.</p>

<p>Juerd and his cosponsors, Twistspace, will make a Perl 6 development server
available over the internet to any Perl 6 developers who are working on
&quot;everything that improves Perl 6 development&quot;. If you've been put off working
on Pugs by the hassles of getting Haskell working on your machine, or if you
have the kind of bandwidth that makes svn updates a painful prospect, worry no
longer. Just sign up for a development account.</p>

<p>There was much rejoicing and suggesting of hostnames. Rather bizarrely,
there was also discussion of the etymology of &quot;sipuli&quot; (Finnish for &quot;onion&quot;, in
case you were wondering).</p>

<h4><a
href="http://groups.google.com/groups?threadm=20050523214341.GA27266@aut.dyndns.org">Two
Releases in One Day</a></h4>

<p>Autrijus announced the release of Pugs 6.2.4. About half an hour later he
announced the release of Pugs 6.2.5.</p>

<h4><a
href="http://groups.google.com/groups?threadm=42931D93.4020304@hohum.me.uk"><code>Undef</code>
Issues</a></h4>

<p>Adrian Taylor thought he'd found some issues with Perl 6's understanding of
<code>undef</code>. It turned out that he'd found some issues with his own
understanding of same.</p>

<h4><a
href="http://groups.google.com/groups?threadm=198C085F-4F22-4848-9620-1B3BC4EC0428@ebi.ac.uk">Method/Attribute
Chaining</a></h4>

<p>Alex Gutteridge found some weirdness with the chaining of autogenerated
attribute methods (I wonder if the same weirdness occurs with hand rolled
attribute methods). So far it remains unfixed, but given the speed of Pugs
development I doubt it'll stay that way for long.</p>

<h3>Meanwhile, in perl6-internals</h3>

<h4><a
href="http://groups.google.com/groups?threadm=20050517141532.GA35977@aut.dyndns.org">Parrot
as an Extension Language</a></h4>

<p>Colin Adams continued to have problems using Parrot as an extension language
for Eiffel. It turns out that interfacing between statically strongly typed
languages and Parrot isn't easy.</p>

<h4><a
href="http://groups.google.com/groups?threadm=Pine.LNX.4.58.0505172312220.4578@localhost.localdomain">Fixing
<em>t/src/manifest.t</em></a></h4>

<p>Dino Morelli reported problems with <em>t/src/manifest.t</em> and wondered
how some of the failures came about. J&uuml;rgen B&ouml;mmels thought that the
problem was an overzealous test--the original version of which simply ensured
that version control and the <em>MANIFEST</em> were in sync. He provided his
suggested version of a less eager, but still svn compatible test. Further
discussion thrashed out the various different use cases for manifest
checking.</p>

<h4><a
href="http://groups-beta.google.com/group/perl.perl6.internals/browse_thread/thread/af56efd05563633c/7dcb91f0f59f5772">More
<em>t/p6rules</em> Tests</a></h4>

<p>Dino Morelli posted a bunch of tests for the Perl 6 rules. Well, he did once
he'd done battling his mailer's somewhat bizarre choice of MIME type for his
test files. Remember, if you're about to attach a <em>.t</em> file to a message
you send to the list, make sure your mailer doesn't declare it to be an
<code>application/x-troff</code> file--<code>text/plain</code> is your
friend.</p>

<p>Then someone applied his patches.</p>

<h4><a
href="http://groups.google.com/groups?threadm=428DEF0E.3040304@toetsch.at">Stressing
the Hash</a></h4>

<p>Leo asked for some stress and bench mark tests for hashes because he was in
the process of redoing <em>src/hash.c</em>. Bob Rogers provided one.</p>

<h4><a
href="http://groups.google.com/groups?threadm=428F0933.8060200@toetsch.at">In
Other News, PyPy Gets an Initial Release</a></h4>

<p>Leo crossposted the announcement of PyPy 0.6, a Python implementation
written in Python. It's not bootstrapping yet, but it's getting there...</p>

<h4><a
href="http://groups.google.com/groups?threadm=rt-3.0.11-35944-113457.6.35375312685319@perl.org">PIR
Compilers Broken</a></h4>

<p>Will Coleda had some problems with his TCL in PIR implementation.  It
turns Nick Glencross helped to track down the problems with the snippet he
posted. I'm not sure whether his fix is extendable to work with the real
ParTCL.</p>

<h4><a
href="http://groups.google.com/groups?threadm=Pine.LNX.4.44.0505241423110.17298-100000@booger.sixgeeks.org">MMD</a></h4>

<p>While working on mod_parrot, Jeff Horwitz ran into an issue with Multi
Method Dispatch (MMD). In particularly he didn't seem to be able to declare a
multimethod that accepted an arbitrary PMC. Leo asked for a <em>.t</em> file so
he could explore the issue further, which Jeff provided.</p>

<h4><a
href="http://groups.google.com/groups?threadm=4292895C.5000301@coleda.com">State
of ParTCL</a></h4>

<p>Will Coleda posted a summary of the current state of ParTCL. By the sound of
things, it's getting there.</p>

<h3>Meanwhile, in perl6-language</h3>

<h4><a href="http://www.nntp.perl.org/group/perl.perl6.language/21315">Virtual
Methods</a></h4>

<p>Whilst noting that Perl 6 doesn't really need to be able to declare methods
as virtual in the same way as C++, since one can simply use the handy
<code>...</code> to do the job, Aaron Sherman noted that there was a case for
something similar when declaring &quot;stub&quot; methods that Roles could override. The
idea being that you would implement an initial behaviour that you could further
decorate by a Role. Except, as Luke pointed out, the Roles system as currently
defined treats all such methods as overridable.</p>

<p>Aaron wasn't sure that this was such a good idea and produced code to
illustrate why.</p>

<h4><a href="http://www.nntp.perl.org/group/perl.perl6.language/21316">Default
Precedence of User-Defined infix ops</a></h4>

<p>Ingo Blechschmidt pointed out that user defined infix operators work in Pugs
now. He wondered what their default precedence should be and how to define the
precedence explicitly. Luke came forth with an answer, Sam Vilain asked an evil
question, and Damian Conway suggested that, given how drastically precedence
weirdness can mess with a programmer's head, there shouldn't be a default
precedence at all, and if there were, it should be looser than
<code>infix:&lt;+&gt;</code>. I agree with Damian.</p>

<h4><a
href="http://www.nntp.perl.org/group/perl.perl6.language/21323"><code>1,(2,3),4)[2]</code></a></h4>

<p>Argh! My head hurts!</p>

<p>However, if you're not sure <a
href="http://www.nntp.perl.org/group/perl.perl6.language/21377">how context
works in Perl 6</a>, Juerd provided a really good summary later in the
thread</p>

<h4><a href="http://www.nntp.perl.org/group/perl.perl6.language/21330">Reduce Metaoperator on an Empty List</a></h4>

<p>Matt Fowles wondered how the shiny new reduce metaoperator worked given an
empty list. Various suggestions were forthcoming, but I lean towards Randal's
<code>inject</code> solution--but I'm a Smalltalk fan, so there's no surprise
there. Personally, I reckon that the metaoperator version should just return
undef given an empty list.  If you want anything clever you should eschew the
syntactic sugar and use <code>inject</code> or something like it. It seems that
the consensus leans towards using an <code>identity</code> attribute on the
infix operator.</p>

<p>BTW, what happens when you apply <code>[/]</code> to a list with one
element?</p>

<h4><a href="http://www.nntp.perl.org/group/perl.perl6.language/21347">Complex
Arithmetic</a></h4>

<p>Doing complex arithmetic right in a programming language is tricky.  Edward
Cherlin wondered if Perl 6 should follow what seems to be the consensus among
programming languages that care about this sort of thing and use the shared
definitions used by APL, Common LISP, and Ada. Luke thought it might be better
to leave this to C6PAN. (This is the discerning language designer's equivalent
to paying no attention to the man behind the curtain methinks).</p>

<h4><a href="http://www.nntp.perl.org/group/perl.perl6.language/21350">Syntax
for Specifying Role Parameters</a></h4>

<p>Ingo Blechschmidt wondered if the syntax for specifying role parameters
should be the same as the standard subroutine signature syntax (with a slightly
modified proposed meaning for <code>:</code>). Thomas Sandla&szlig; had some
related suggestions to add. Nothing from any of the design team yet.</p>

<h4><a
href="http://www.nntp.perl.org/group/perl.perl6.language/21351"><code>./method</code></a></h4>

<p>Martin Kuel can't make himself like <code>./method</code> as a shortcut for
<code>$whatever_you_call_self_this_week.method</code>. Frankly, I can't blame
him, but then I continue to think that the originally specified semantics of
<code>.method</code> (calls method on <code>$_</code>, whether in a method or a
sub, or anywhere else for that matter) are fine.</p>

<h4><a
href="http://www.nntp.perl.org/group/perl.perl6.language/21355"><code>uniq</code></a></h4>

<p>Ingo wondered why <code>uniq</code> wasn't in the current draft of Synopsis
29. He also wondered if its default comparator should be <code>=:=</code>. It
turns out that there's rather more to the semantics of <code>uniq</code> than
you'd expect; Damian's &quot;hyper correct&quot; implementation blew my mind.</p>

<h4><a
href="http://www.nntp.perl.org/group/perl.perl6.language/21363"><code>s/.../{
$junction }/</code></a></h4>

<p>Junctions? In substitutions? What is Ingo thinking? Warnock applies.</p>

<h4><a href="http://www.nntp.perl.org/group/perl.perl6.language/21371">Argument
Type Checking</a></h4>

<p>Joshua Gatcomb sought reassurance that</p>

<pre><code>sub foo (Int $bar) { say $bar }
foo 'hello';</code></pre>

<p>would do the right thing, namely throw an exception. Luke reassured him.</p>

<h4><a href="http://www.nntp.perl.org/group/perl.perl6.language/21375">How to
Create a New Meta Operator</a></h4>

<p>Ingo's obviously been in a very wondering mood this week. This time he
wondered if he could create a new meta operator in the obvious (to anyone who's
read Apocalypse 12 carefully) way. What? You've not read Apocalypse 12
carefully? Shame on you! Like this:</p>

<pre><code>sub infix_circumfix_meta_operator:{'-&gt;', '&lt;-'} (Code &amp;op, $left, $right)
{ op $left + 1, $right + 1 }

say 2 -&gt;+&lt;- 3; # 7</code></pre>

<p>Luke thought so, but threw in his own question about how we'd specify meta
operators that only work on particular classes of operators.</p>

<h4><a href="http://www.nntp.perl.org/group/perl.perl6.language/21376">How to
Invoke a Method Reference</a></h4>

<p>Continuing to mine his wondering vein, Ingo asked how to invoke method
references. Juerd thought it'd work pretty much as it does in Perl 5.</p>

<h4><a href="http://www.nntp.perl.org/group/perl.perl6.language/21392">Junctive
and Higher-Order Types</a></h4>

<p>Sam Vilain's question about converting a Haskellish chunk of code into Perl
6 went Warnocked.</p>

<h4><a
href="http://www.nntp.perl.org/group/perl.perl6.language/21393"><code>foo(1: 2:
3: 4:)</code></a></h4>

<p>I was <em>so</em> tempted to use &quot;Multimethod colonoscopy&quot; as the heading
for this section. Aren't you glad I resisted?</p>

<p>Autrijus has started to implement multi-level invocants in MMDs. He asked a
bunch of sanity check questions before proceeding. Luke and Damian provided the
sanity.</p>

<h4><a href="http://www.nntp.perl.org/group/perl.perl6.language/21402">Lazy
Context</a></h4>

<p>Borrowing Ingo's wondering hat, Yuval Kogman had questions about the
semantics of laziness. Laziness is one of many features of Perl 6 that's
reasonably easy to understand from the point of view of the user, but which is
a big old can of worms from the point of view of the implementer. I think I
understood Yuval's proposed semantics/implementation, but it stumps me when it
comes to summarizing it. People seemed to like it though.</p>

<h4><a
href="http://www.nntp.perl.org/group/perl.perl6.language/21412">Declaration of
<code>my()</code> Variables Using Symbolic Referentiation</a></h4>

<p>Snatching back his wondering hat, Ingo asked a question I didn't understand
about declaring <code>my</code> variables using symbolic referentiation.
Frankly, I don't even understand the subject. The consensus of those responding
seemed to be that what Ingo wanted to do was pretty silly in the first
place.</p>

<h4><a href="http://www.nntp.perl.org/group/perl.perl6.language/21425">Explicit
Laws about Whitespace in Rules</a></h4>

<p>Jeff &quot;japhy&quot; Pinyan wanted to know what the rules were about permitting
whitespace in rules. In particular, was it legal to write <code>\c [CHARACTER
NAME]</code>, or must he write <code>\c[CHARACTER NAME]</code>.  Damian reckons
only the second is legal.</p>

<h3>And We're Done</h3>

<p>That's it for another week. Tune in at the same time next week when Mr.
Fowles will entertain you all with his interpretation of the coming week's
events. I'll be back here the week after that.</p>

<p>If you find these summaries useful or enjoyable, please consider
contributing to the Perl Foundation to help support the development of
Perl.</p>

<ul>

<li><a href="http://donate.perl-foundation.org/">The Perl Foundation</a></li>
<li><a href="http://dev.perl.org/perl6/">Perl 6 Development site</a></li>

</ul>

<p>Or, you can check out <a href="http://www.bofh.org.uk/">my website</a>.
Maybe now that I'm back writing stuff I'll start updating it.  There are also <a
href="http://www.flickr.com/photos/pdcawley">vaguely pretty photos by
me</a>.</p>

<csperl file="grab" domain="on" record="b/1714" template="b/article_sidebar2.view">


        </div>



    </div>
    <div class="asset-footer"></div>
</div>


                            
                            <div id="entry-774" class="entry-asset asset hentry">
    <div class="asset-header">
        <h2 class="asset-name entry-title"><a href="/pub/2005/05/26/word_control.html" rel="bookmark">Manipulating Word Documents with Perl</a></h2>
        <div class="asset-meta">
            <span class="byline">
    
                By <span class="vcard author">Andrew Savikas</span> on <abbr class="published" title="2005-05-26T00:00:00-08:00">May 26, 2005 12:00 AM</abbr>
    
            </span>

            
            

        </div>
    </div>
    <div class="asset-content entry-content">

        <div class="asset-body">
            
<!-- sidebar begins -->
<!-- don't move sidebars-->
<!-- sidebar ends -->
<p>In a recent lightning article, <a
href="/pub/a/2005/03/31/lightning2.html">Customizing Emacs
with Perl</a>, <a href="/pub/au/DuCharme_Bob">Bob
DuCharme</a> explained how to use the Emacs
<code>shell-command-on-region</code> function to invoke a Perl script on a
marked region of text. Bob writes that he was reluctant to invest the time
needed to write the <a
href="http://www.gnu.org/software/emacs/elisp-manual/html_mono/elisp.html">elisp</a>
code needed for a particular string manipulation, especially when he knew how
much easier it would be for him to do that manipulation with Perl. However, by
using the Emacs function <code>shell-command-on-region</code>, Bob could have
his cake an eat it too--keep editing with Emacs, while using Perl on demand
for string manipulation.</p>

<p>I've often been in the same boat as Bob, though while using Microsoft Word.
When facing a thorny string manipulation problem, I, too, have found myself
thinking, <em>This would be so easy if I could just use Perl!</em></p>

<p>Unfortunately, Word VBA doesn't include a feature analogous to the
<code>shell-command-on-region</code> function ...which certainly sounded like
a challenge to me. In <a href="http://www.oreilly.com/catalog/wordhks">Word
Hacks</a>, <a href="http://www.oreillynet.com/cs/catalog/view/au/906">Sean M.
Burke</a> and I <a
href="http://www.windowsdevcenter.com/pub/a/windows/excerpt/wdhks_1/index.html?page=5">demonstrated </a>how
to use the Windows clipboard as a primitive but simple means of exchanging
data between Word and a Perl script. I decided to see if I could generalize
that technique to emulate the Emacs <code>shell-command-on-region</code>
function from Word, using VBA and Perl. I'm happy to report that it works.
Using the code shown in this article, you'll be able to run any DOS command
that accepts standard input (like most in the fabulous <a
href="http://unxutils.sourceforge.net/">UnxUtils package</a>) on text you've
selected in Microsoft Word, then either have the output echoed back or use it
to replace the selected text. As an example, you can use the code in this
article to run Bob's <a href="/2005/05/26/examples/ol2iso.pl"><code>OLDate2ISO.pl</code></a> script on a selected date. (The
<code>OLDate2ISO.pl</code> script converts a Microsoft Outlook style date, like
&quot;Sat 4/16/2005 7:35 PM&quot; to ISO 8609 format, like &quot;2005-04-16T19:35&quot;.)</p>

<p>VBA doesn't offer any easy way to capture shell command output, so there are
actually two scripts needed to emulate the Emacs
<code>shell-command-on-region</code> function: a Perl script to interact with
the DOS shell, and a VBA function to manage that Perl script and deal with the
output.  In addition, I also wrote a simple wrapper macro that emulates the
interactive (<code>Escape+|</code>) form of the
<code>shell-command-on-region</code> function, using an input box, as shown in
<a href="#shell_command_dialog">Figure 2</a>.</p>

<h3>The <a href="/2005/05/26/examples/clip2shell.pl">clip2shell.pl</a> script</h3>

<p>It's true that VBA does include a <code>Shell()</code> function, but when
using that function, there's no way to capture the output (if any) of the
command invoked. To capture the output of a command run on the DOS shell, I've
used a simple Perl script, named <code>clip2shell.pl</code> that takes one argument: a single string containing the name of the command to run (including any
arguments). The current contents of the Windows clipboard are the input to that
command, and the command's output is then put to the clipboard.  (The
<code>Win32::Clipboard</code> module is included in the standard <a
href="http://www.activestate.com/Products/ActivePerl/">ActivePerl</a>
distribution). Here's the code:</p>

<pre><code># clip2shell.pl 
# A script for running a DOS shell command
# on the contents of the clipboard, then
# putting the command's results back
# on the clipboard
use Win32::Clipboard;
my $TEMP          = $ENV{'TEMP'};
my $semaphore     = &quot;$TEMP/$$.tmp&quot;;
my $cliptext_file = &quot;$TEMP/$$.cliptext.tmp&quot;;

my $clipboard     = Win32::Clipboard();
my $cliptext      = $clipboard-&gt;Get();
my $shell_command = shift @ARGV;

open F, &quot;&gt;$cliptext_file&quot; or die;
print F $cliptext;
close F;

my $output = `$shell_command $cliptext_file`;
$clipboard-&gt;Set($output);

unlink($cliptext_file);
rmdir($semaphore);</code></pre>

<p>Note that before exiting, the script deletes a folder named with
<code>$semaphore</code>, which contains the script's <a
href="http://en.wikipedia.org/wiki/Process_identifier">PID</a>, appended with a
<em>.tmp</em> extension, located in the current user's TEMP folder. This is how
<code>clip2shell.pl</code> tells VBA that it's safe to read the result back
from the clipboard. As I mentioned earlier, the VBA <code>Shell()</code>
command doesn't return the command's output--but it does return the command's
PID.</p>

<h3>The <code>shell-command-on-region</code> function, VBA style</h3>

<p>The VBA function, <code>ShellCommandOnRegion</code>, manages the interaction
between Word and the <code>clip2shell.pl</code> script. When this function invokes
<code>clip2shell.pl</code> using the VBA <code>Shell()</code> function, it also
creates the semaphore folder, named using <code>clip2shell.pl</code>'s PID (the
return value of the <code>Shell</code> function), then waits for the deletion
of that folder before getting the output from the clipboard. At that point, it
either echoes back the output (using the Status Bar, or, for output more than
80 characters long, a separate message box), or pastes it back in to the
document, replacing the current selection.  The optional
<code>bReplaceCurrentSelection</code> argument controls the output method,
which is <code>False</code> by default.</p>

<pre><code>Function ShellCommandOnRegion(sShellCommand As String, _
               Optional ByVal sngMaxWaitSeconds As Single = 5, _
               Optional ByVal bReplaceCurrentSelection As Boolean = False) As Boolean
Dim lPID As Long
Dim sSemaphore As String
Dim sngStartTime As Single
Dim oClipboard As New DataObject
Dim sel As Selection
Dim sResult As String

Set sel = Selection

If sel.Type = wdSelectionIP Then
    StatusBar = &quot;Please select some text first.&quot;
    Exit Function
End If

sel.Copy

sngStartTime = Timer

lPID = Shell(&quot;perl c:\clip2shell.pl &quot; + Chr(34) + sShellCommand + Chr(34))
sSemaphore = Environ(&quot;TEMP&quot;) + &quot;\&quot; + CStr(lPID) + &quot;.tmp&quot;
MkDir sSemaphore

Do: DoEvents
Loop Until Len(Dir(sSemaphore, vbDirectory)) = 0 _
            Or ((Timer - sngStartTime) &gt; sngMaxWaitSeconds)

If Not Len(Dir(sSemaphore, vbDirectory)) = 0 Then
    RmDir sSemaphore
    Exit Function
End If

oClipboard.GetFromClipboard
sResult = oClipboard.GetText

If bReplaceCurrentSelection Then
    Selection.Paste
Else
    If Len(sResult) &gt; 80 Then
        MsgBox sResult
    Else
        StatusBar = sResult
    End If
End If

ShellCommandOnRegion = True
End Function</code></pre>

<p>If there's a problem and clip2shell.pl doesn't delete the semaphore
folder within a certain amount of time (the default shown here is 5 seconds, as
represented with the optional <code>sngMaxWaitSeconds</code> argument),
<code>ShellCommandOnRegion</code> gives up, deletes the semaphore folder
itself, and returns a value of <code>False</code>.</p>

<p>NOTE: Before using this code, make sure you have a reference set to the
<strong><code>Microsoft Forms 2.0 Object Library</code></strong>, as shown in
<a href="#msforms_reference">Figure 1</a>. Without this reference set, the
<code>DataObject</code> object type won't be available to your code, which will
cause a compilation error.  To reach this dialog from Word, choose Tools,
Macro, Visual Basic Editor. From within the Visual Basic Editor, choose Tools,
References.</p>

<p id="msforms_reference"><img src="/pub/2005/05/26/graphics/msforms_reference.gif" width="449" height="364" alt="setting a reference" /><br />
<em>Figure 1. Setting a reference to the <code>Microsoft Forms 2.0 Object Library</code>.</em></p>

<h3>Putting it Together</h3>

<p>With the <code>clip2shell.pl</code> script and the
<code>ShellCommandOnRegion</code> function set up, it's time to demonstrate how
to use Bob DuCharme's <code>OLDate2ISO.pl</code> script on text selected in a Word
document. First, I want to show a macro that runs <code>OLDate2ISO.pl</code></a> on
selected text, then I'll show a more generalized macro, which emulates the
interactive (<code>Escape+|</code>) version of the Emacs
<code>shell-command-on-region</code> function.</p>

<p>Here's the <code>OLDate2ISO.pl</code> script, modified slightly to make its
substitution globally on all the dates in its input:</p>

<pre><code># Convert Outlook format date to ISO 8309 date 
#(e.g. Wed 2/16/2005 5:27 PM to 2005-02-16T17:27)
while (&lt;&gt;) {
  s{\w+ (\d+)/(\d+)/(\d{4}) (\d+):(\d+) ([AP])M} {
     my $hour  = $4;
     $hour    += 12 if $6 eq 'P';
     sprintf( '%04d-%02d-%02dT%02s:%02s', $3, $1, $2, $hour, $5 );
  }gse;
  print;
}</code></pre>

<p>Here's the <code>OLDate2ISO</code> macro. After putting it in the template
or document of your choice, run it by pressing <code>Alt-F8</code> (which is
the same as choosing Tools -&gt; Macro -&gt; Macros), or by assigning it to a
menu or keyboard shortcut:</p>

<pre><code>Sub OLDate2ISO()
If ShellCommandOnRegion(&quot;perl c:\ol2iso.pl&quot;, , True) = False Then
    MsgBox &quot;Couldn't fix selected dates&quot;
End If
End Sub</code></pre>

<p>A dedicated macro is great for frequently used Perl scripts (or other shell
commands), but it's also helpful to be able to run an arbitrary shell command
on the selected Word text, and have the text echoed back, using the Status Bar
(or, if longer than will easily fit on the Status Bar, in a separate message
box--the Status Bar/message box route was the closest I could get to an Emacs
mini-buffer).</p>

<p>Here's the code for the general-purpose macro, named
<code>RunShellCommandOnSelection</code>:</p>

<pre><code>Sub RunShellCommandOnSelection()
Static sShellCommand As String
sShellCommand = InputBox(prompt:=&quot;Enter full Shell Command to run on selection:&quot;, _
                Title:=&quot;ShellCommandOnRegion&quot;, _
                Default:=sShellCommand)

If Len(sShellCommand) = 0 Then Exit Sub

If Selection.Type = wdSelectionIP Then
    MsgBox &quot;Please select some text first.&quot;
    Exit Sub
End If

If ShellCommandOnRegion(sShellCommand) = False Then
    MsgBox &quot;Shell command failed&quot;
End If
End Sub</code></pre>

<p>Running this macro brings up the dialog shown in <a
href="#shell_command_dialog">Figure 2</a>.</p>

<p id="shell_command_dialog"><img src="/pub/2005/05/26/graphics/shell_command_dialog.gif" width="363" height="152" alt="the macro's dialog" /><br />
<em>Figure 2. The dialog that appears when running the <code>RunShellCommandOnSelection</code> macro.</em></p>

<p>By using a <code>Static</code> variable declaration, the command entered
will be &quot;sticky&quot; within Word sessions (to some extent), making it easy to
re-run the same command multiple times. If you wanted to replace the selected
text instead of echoing the result, modify the
<code>RunShellCommandOnSelection</code> macro by adding the optional
<code>bReplaceCurrentSelection</code> argument to the
<code>ShellCommandOnRegion</code> call (leaving a blank value for the
<code>sngMaxWaitSeconds</code> argument):</p>

<pre><code>If ShellCommandOnRegion(<strong>sShellCommand, ,True</strong>) = False Then</code></pre>

<p>Word may not be quite as customizable as Emacs, but by emulating a single
Emacs function using Perl and VBA, it's possible to add a powerful new tool to
Word, and in doing so, give any Perl refugees who find themselves in the Word
world--whether by choice or circumstance--some of the comforts of home.</p>


<!-- sidebar begins -->
 <csperl file="grab" domain="on" record="b/1364" template="b/article_sidebar2.view">
<!-- sidebar ends -->


        </div>



    </div>
    <div class="asset-footer"></div>
</div>


                            
                            <div id="entry-772" class="entry-asset asset hentry">
    <div class="asset-header">
        <h2 class="asset-name entry-title"><a href="/pub/2005/05/19/wireless_gw.html" rel="bookmark">Build a Wireless Gateway with Perl</a></h2>
        <div class="asset-meta">
            <span class="byline">
    
                By <span class="vcard author">Alptekin Cakircali</span> on <abbr class="published" title="2005-05-19T00:00:00-08:00">May 19, 2005 12:00 AM</abbr>
    
            </span>

            
            

        </div>
    </div>
    <div class="asset-content entry-content">

        <div class="asset-body">
            
<!-- sidebar begins -->
<!-- don't move sidebars-->
<!-- sidebar ends -->
<p>You have set up and configured various wireless access devices, but could not
find one that included all of the features you needed.
You <em>could</em> wait for a firmware upgrade from your manufacturer, hoping that they
will include the features you want. However, your chances of finding all of your
issues addressed by a new firmware package, if it ever comes out, are slim to none.  Now
is the time to roll up your sleeves and build your own wireless access gateway
from scratch. Don't let this idea scare you; this is all possible thanks to
the open source world.</p>

<p>This article introduces an open source project called <a
href="http://awlp.sourceforge.net/">AWLP</a> (Alptekin's Wireless Linux
Project), which turns a PC with an appropriate wireless LAN card (Prism2/2.5/3)
into a full-featured, web-managed wireless access gateway. That old Pentium 120
machine in your basement might march back up the stairs shortly.</p>

<p>Building your own wireless access device is nothing new. Around three years
ago, Jouni Malinen released <a href="http://hostap.epitest.fi/">HostAP</a>, a
Linux driver for wireless LAN cards with Intersil's Prism2/2.5/3 chipset. When
operated in a special mode called Managed, the host computer acts as a wireless
access point. HostAP does its job and does it well, but it is command line only, and 
that's not suitable for everyone.  A complete solution that
potentially competes with off-the-shelf devices needs more features, including DHCP,
firewall, DNS, and NTP, along with a web interface for configuration.  This is
the <em>de facto</em> standard nowadays.</p>

<!-- sidebar begins -->
 <csperl file="grab" domain="on" record="b/1713" template="b/article_sidebar.view">
<!-- sidebar ends -->

<p>To use a car analogy, this is like building a custom car; you want to be
able to put in a new clutch, change the suspension, or try a new braking system
and see how it performs.  In the case of the gateway, you might want to
implement an outgoing port-based filter in addition to the incoming one in the
firewall. You may want to try a different DNS server or develop a special
module that will block MAC addresses through ACLs after exceeding a certain
amount of bandwidth in a short period of time.</p>

<p>For AWLP, the chassis is GNU/Linux Slackware, the engine is Host AP Driver,
the transmission is Host AP Utilities, and so on. AWLP code, written in Perl,
is the part that makes all these components work together in harmony as
a wireless access gateway. After you set up AWLP,
you will have a functioning, preconfigured, wireless access gateway to start
with.  Then you can start modifying the Perl code and configuration files to
test and implement the extra capabilities.</p>

<h3>Hardware Requirements</h3>

<p>You need a dedicated machine for this task. Running with less than 32 MB of
RAM will be painful; the system is more RAM-intensive than it is CPU-intensive
so you can run it even on a 486 processor--but be aware that most 486 machines
have only ISA slots.  You might have problems finding ISA 10/100 Mbps Ethernet
cards and ISA wireless LAN cards on the market. An old Pentium machine with at
least 1GB HDD is ideal for this task.</p>

<p>If you plan on running your wireless device on a 24/7 basis, and if
availability and portability are major concerns, you might consider dedicated
hardware. Check out <a href="http://www.openbrick.com/">OpenBrick Community</a>
for compact hardware platforms with HDD support.</p>

<p>In addition to the computer, you also need an Ethernet card compatible with
Linux, a PCI or PCMCIA wireless LAN card that has a Prism2/2.5/3 chipset, and a
PCI-to-PCMCIA converter, depending on your choice of wireless LAN card and the
slots on your board. Refer to the <a
href="http://awlp.sourceforge.net/hardwarecompatibility.html">AWLP Hardware
Compatibility</a> section for in-depth information on choosing these three
components. </p>

<h3>Installing AWLP</h3>

<p>There are three phases of installation:</p>

<ol>

<li>Custom installing Slackware with tagfiles</li>

<li>Upgrading packages in Slackware</li>

<li>Installing AWLP codes and configuration files</li>

</ol>

<p>The third step is the easiest one. The first step, installing Slackware with
tagfiles provided by the AWLP package, will take most of your time and effort. You
must have Slackware installation discs on hand. Consult the <a
href="http://www.slackware.com/">Slackware Linux Project</a> site to obtain
them. In order to keep this article readable, I again refer you to the related
site, the step-by-step <a
href="http://awlp.sourceforge.net/docs/installation.html">AWLP Installation
Instructions</a>. After completing the first and second phase of the
installation instructions, you can install AWLP, the code, and the configuration
files that will make everything work together.</p>

<p>I highly recommend that you take a disk image after successfully installing
AWLP and before you start to modify the code if you have installed it on a slow
machine. Installing AWLP code and configuration files take no more than couple
of minutes, but in order to reach this step, you must have custom-installed the
Slackware with the tagfiles provided, and this might take a couple of hours on an
old (&lt;200MHz) Pentium machine. Taking a disk image and restoring from that
image when needed will be a lot easier and quicker than starting afresh from
Step 1. </p>

<h3>Under the Hood</h3>

<p>AWLP uses several configuration files:</p>

<ul>
<li>DHCP, the Dynamic Host Configuration Protocol: <em>/etc/dhcpd.conf</em></li>
<li>Apache Web Server: <em>/etc/apache/httpd.conf</em></li>

<li>DNS, the Domain Name System: <em>/etc/named.conf</em>,
<em>/var/named/caching-example/localhost.zone</em>,
<em>/var/named/caching-example/named.ca</em>, and
<em>/var/named/caching-example/named.local</em></li>

<li>NTP, the Network Time Protocol: <em>/etc/ntp.conf</em></li>
<li>Firewalling: <em>/etc/rc.d/rc.firewall</em></li>
</ul>

<p>In addition to these standard configuration files, there are some custom
configuration files such as <em>/etc/awlp/oui_filtered.txt</em>.  This file
contains the filtered version of <em>oui.txt</em>, representing the <a
href="http://standards.ieee.org/regauth/oui/oui.txt">IEEE Organizationally
Unique Identifiers</a>. It makes it possible to find the company manufacturing
a specific Ethernet card, wired or wireless, using the first 24 bits of MAC
address. In order to have an in-depth knowledge of all the configuration files
and their layouts, I encourage you to examine <em>installer.sh</em> from the
AWLP package.</p>

<p>AWLP code resides in <em>/var/www/cgi-bin/awlp</em>. The core of the AWLP
code is <em>index.pl</em>. It does all of the error checking, manipulation, and
modification. The web server, Apache 1.3.33, runs as the user and group
<code>apache</code>. In order to manipulate configuration files through the web
browser, the related configuration files have suid and guid permissions set.
This strategy is definitely more secure than running the web server as
<code>root</code>.</p>

<p>The part that interacts with HostAP command line tools and utilities, along
with standard Linux tools and utilities, is <em>engines1.pl</em>. It serves as
an include file and contains various subroutines to do the work.
<em>engines2.pl</em> also contains various subroutines, but these usually 
do sorting, searching, and conversion. <em>radar.pl</em> provides status checking and monitoring functionality.
It's not crucial to the operating of the wireless access gateway, but it
definitely does add value because watching and monitoring how your device is
performing is the key factor to the success of your implementation.</p>

<p><em>extras.pl</em> provides ASCII to HEX conversion, DHCP lease table
display, and several other non-core functions. As the name implies,
<em>error_messages.pl</em> has all the error messages and their descriptions.
<em>global_configuration.pl</em> has pretty much all the configuration
variables ranging from critical to non-critical. You must understand the inner
workings of the system in order to change the configuration variables up to
<code>$MAIN_TITLE</code>. <code>$MAIN_TITLE</code> and the following variables
are also necessary, but for mostly cosmetic purposes, so you can customize them
without worrying about accidentally disabling needed features. </p>

<h3>Sample Modification</h3>

<p>Now you know what AWLP is and what it can do.  What about all these
modifications and customizations? Now, it is time to show you a step-by-step
instruction for adding a feature to AWLP. As of AWLP 1.0, you can configure the
DHCP server only by manually changing <em>/etc/dhcpd.conf</em>. The
feature I want to demonstrate will simply show the contents of the file. Once
you have familiarity with the code, you can improve it to modify the contents
of <em>dhcpd.conf</em>.</p>

<p>The Apache web server runs as the user and group <code>apache</code>. The
result of <code>ls -l</code> on <em>/etc/dhcpd.conf</em> shows:</p>

<pre><code><strong># ls -l /etc/dhcpd.conf</strong>
-rwxrwx---  1 root apache 618 Mar 5 12:41 /etc/dhcpd.conf*</code></pre>

<p>The script will be able to read and modify the <em>/etc/dhcpd.conf</em>
file. Open the <em>index.pl</em> file.  At the top, there are two configuration
variables; <code>@MainPageLinksAction</code> and
<code>@MainPageLinksName</code>. These two control the links on the left side.
To add an additional link for DHCP, add <code>DHCP</code> to both arrays.</p>

<p>Next, find the line that says:</p>

<pre><code>elsif ($FORM_Action1 eq &quot;Administration&quot;) {</code></pre>

<p>Just before this line, add the following lines of code, then save and close
the file.</p>

<pre><code>elsif ($FORM_Action1 eq &quot;DHCP&quot;) {

    my $DHCPConfigFileContent;

    if (open(FILE, &quot;/etc/dhcpd.conf&quot;)) {
        local $/;
        $DHCPConfigFileContent = &lt;FILE&gt;;
        close(FILE);
    }

    unless ($DHCPConfigFileContent) {
        $DHCPConfigFileContent = &quot;/etc/dhcpd.conf could not be read or it is empty!&quot;;
        $DHCPLeaseRangeStart = &quot;N/A&quot;;
        $DHCPLeaseRangeEnd   = &quot;N/A&quot;;
    }

    my ($DHCPLeaseRangeStart, $DHCPLeaseRangeEnd);

    if ($DHCPConfigFileContent =~ m/Range\s+(\d+\.\d+\.\d+\.\d+)\s+(\d+\.\d+\.\d+\.\d+)/i) {
        $DHCPLeaseRangeStart = $1;
        $DHCPLeaseRangeEnd   = $2;
    }

    $Right_Plane_Output .=&lt;&lt;HTMLCODE
    &lt;TABLE ALIGN=CENTER CELLSPACING=3 CELLPADDING=3 BGCOLOR=&quot;#000000&quot;&gt;
    &lt;TR BGCOLOR=&quot;#FFFFFF&quot;&gt;
            &lt;TD ALIGN=LEFT&gt;
            &lt;font face=&quot;Helvetica, Arial, Sans-serif, Verdena&quot; size=&quot;2&quot;&gt;
            &lt;TABLE CELLSPACING=0 CELLPADDING=0&gt;
            &lt;TR&gt;
                    &lt;TD&gt;
                    &lt;font face=&quot;Helvetica, Arial, Sans-serif, Verdena&quot; size=&quot;2&quot;&gt;
                    &lt;PRE&gt;&lt;CODE&gt;
                    ${DHCPConfigFileContent}
                    &lt;/CODE&gt;&lt;/PRE&gt;

                    &lt;BR&gt;&lt;BR&gt;&lt;BR&gt;
                    &lt;font color=&quot;#FF0000&quot;&gt;Lease Range:&lt;/font&gt; 
                    &lt;B&gt;${DHCPLeaseRangeStart} to ${DHCPLeaseRangeEnd}&lt;/B&gt;
                    &lt;BR&gt;&lt;BR&gt;&lt;BR&gt;
                    &lt;/TD&gt;
            &lt;/TR&gt;
            &lt;/TABLE&gt;
            &lt;/TD&gt;
    &lt;/TR&gt;
    &lt;/TABLE&gt;
HTMLCODE

}</code></pre>

<p>Once you do this modification, there will be a new menu section on the left
side with the name DHCP. Clicking the DHCP link on the left will show you the
contents of <em>/etc/dhcpd.conf</em> and Lease Range values, which come from
the contents of the file through a simple regular expression construct.</p>

<h3>Conclusion</h3>

<p>You will have a functioning wireless access gateway once you install AWLP.
The above illustration proves how easy it is to add features to this
software-based wireless access gateway, provided that you are familiar with
Perl. However, to accomplish more useful modifications tailored to your needs,
you should examine <em>index.pl</em> and the other core, and include scripts
and configuration files.</p>

<h3>Related Links</h3>

<ul>

<li><a href="http://awlp.sourceforge.net/">AWLP</a></li>
<li><a href="http://www.slackware.com/">The Slackware Linux Project</a></li>
<li><a href="http://hostap.epitest.fi/">HostAP</a></li>
<li><a href="http://bridge.sourceforge.net/">Linux Ethernet Bridging</a></li>
<li><a href="http://www.openbrick.com/">OpenBrick Community</a></li>

</ul>


        </div>



    </div>
    <div class="asset-footer"></div>
</div>


                            
                            <div id="entry-766" class="entry-asset asset hentry">
    <div class="asset-header">
        <h2 class="asset-name entry-title"><a href="/pub/2005/04/p6pdigest/20050519.html" rel="bookmark">This Week in Perl 6, May 3, 2005 - May 17, 2005</a></h2>
        <div class="asset-meta">
            <span class="byline">
    
                By <span class="vcard author">Matt Fowles</span> on <abbr class="published" title="2005-05-19T00:00:00-08:00">May 19, 2005 12:00 AM</abbr>
    
            </span>

            
            

        </div>
    </div>
    <div class="asset-content entry-content">

        <div class="asset-body">
            
<!-- sidebar begins -->
<!-- don't move sidebars-->
<!-- sidebar ends -->
<p>All~</p>

<p>Welcome ot another fortnight's summary. Wouldn't it just figure that I can't
think of anything sufficiently non-sequiterish to amuse myself.  Perhaps I need
a running gag like Leon Brocard or chromatic's cummingesque capitalization.
Maybe I should start one and not tell you. That could be fun.</p>

<h3>Perl 6 Compiler</h3>

<h4><a
href="http://groups-beta.google.com/group/perl.perl6.compiler/browse_frm/thread/1c9e026f0f0e7903/286f5a062264ee23#286f5a062264ee23">Pugs
commit emails</a></h4>

<p>If you have ever been foolish enough to want an email for every commit in
Pugs, Sam Vilain created a way to help you sip from the firehose.  Have
fun.</p>

<h4><a
href="http://groups-beta.google.com/group/perl.perl6.compiler/browse_frm/thread/2025f76d55caf683/ae383ce46fd7b5fd#ae383ce46fd7b5fd"><code>given</code>
<code>when</code> nested</a></h4>

<p>Luke Palmer had a question about how nested <code>when</code> statements in
a <code>given</code> block should act. His intuition disagreed with Pugs, but
most others supported Pugs.</p>

<h4><a
href="http://groups-beta.google.com/group/perl.perl6.compiler/browse_frm/thread/8523b893c996fa70/76b3a96677269d8c#76b3a96677269d8c">I
don't need to walk around in circles</a></h4>

<p>Autrijus has made Pugs into a registered compiler for Parrot. Because Pugs
already allowed you to embed Parrot code (PIR anyway) directly into Perl 6,
this allows you to embed the Perl 6 in your PIR in your Perl 6. Now the
possibilities are endless, at least until you blow your mental stack.  Those of
you with tail call optimization in your mental stack may simply go into an
infinite loop if you prefer.</p>

<h4><a
href="http://groups-beta.google.com/group/perl.perl6.compiler/browse_frm/thread/96465d8b9ad451d9/64a06cc494ffd6ac#64a06cc494ffd6ac">xor
on lists</a></h4>

<p>Trewth Seeker expressed his opinion about the proper definition of xor quite
strongly. Unfortunately, his opinion is at odds with established mathematics,
as Mark Biggar pointed out to him.</p>

<h4><a
href="http://groups-beta.google.com/group/perl.perl6.compiler/browse_frm/thread/bcca948a1e74f7e7/1c76f7aaa60db60c#1c76f7aaa60db60c">PGE
features update</a></h4>

<p>Patrick provided an update on the state of the Perl Grammar Engine. It has
many nifty new features.</p>

<h4><a
href="http://groups-beta.google.com/group/perl.perl6.compiler/browse_frm/thread/1972b001c76c652c/1a6127fc512f3042#1a6127fc512f3042">Pugs
on Cygwin</a></h4>

<p>Rob Kinyon and Gaal Yahas worked to improve Pugs support for Cygwin.
Unfortunately the thread winds down with an unanswered question.  Fortunately
Stevan clued me in on IRC that things are not working just yet.</p>

<h4><a
href="http://groups-beta.google.com/group/perl.perl6.compiler/browse_frm/thread/1f38571c074915e2/048f7c691486ebfb#048f7c691486ebfb">Pugs
gets some objects and some rules</a></h4>

<p>Autrijus announced that Pugs now has basic support for Objects and Rules.
Sometimes he scares me, though usually he just makes me really want to learn
Haskell.</p>

<h4><a
href="http://groups-beta.google.com/group/perl.perl6.compiler/browse_frm/thread/329b67f64c39aa38/07e4d4fb94cb9b8c#07e4d4fb94cb9b8c">regression
test</a></h4>

<p>Miroslav Silovic provided a regression test for hyper ops. Some people just
don't appreciate the fun of regressing.</p>

<h4><a
href="http://groups-beta.google.com/group/perl.perl6.compiler/browse_frm/thread/299b5349fa11d3ce/fe404aea60d99b7f#fe404aea60d99b7f">basic
test for classes</a></h4>

<p>Stevan Little provided a patch for a simple object test. Autrijus applied
it. That's odd, because I am pretty sure that Stevan has the commit bit...</p>

<h4><a
href="http://groups-beta.google.com/group/perl.perl6.compiler/browse_frm/thread/038577a4ba20a869/8f58d037069d30c3#8f58d037069d30c3">torturing
PGE</a></h4>

<p>Juerd provided a link to a big rule that could segfault PGE. It kind reminds
me of a homework assignment I had to create a regular expression which matched
all strings of numbers that did not contain any repeated digits. That's easy in
Perl, but hard in math. I think the resultant regex was somewhere around 17
MB.</p>

<h4><a
href="http://groups-beta.google.com/group/perl.perl6.compiler/browse_frm/thread/b11fbbc15f76458a/6d583eb2e080a85a#6d583eb2e080a85a">Pugs
6.2.3 with Live CD</a></h4>

<p>Autrijus released Pugs 6.2.3 which contains 10% more awesome then Pugs
6.2.2. You should check it out on the <a
href="http://groups-beta.google.com/group/perl.perl6.compiler/browse_frm/thread/5707e93ba2942868/d8085652bc85fe9d#d8085652bc85fe9d">live
CD</a> that Ingo Blechschmidt released.</p>

<h4><a
href="http://groups-beta.google.com/group/perl.perl6.compiler/browse_frm/thread/a28bef89de27ef42/a4797d46952f98eb#a4797d46952f98eb">PXPerl
meets Pugs</a></h4>

<p>Gr&eacute;goire P&eacute;an announced that he has added Pugs binaries to his windows
distribution of Perl. Pretty cool. Autrijus innocently asked him to take on the
slightly larger task of producing binaries of Parrot too, so that Pugs could be
at its most powerful.</p>

<h3>Parrot</h3>

<p>Wow, did you see how I mentioned Parrot before going into this new section.
That was an awesome transition! My high school English teachers would be so
proud.</p>

<h4><a
href="http://groups-beta.google.com/group/perl.perl6.internals/browse_frm/thread/7fc88a464c05c257/a2cb3834be55832d#a2cb3834be55832d">character
classes</a></h4>

<p>Patrick wants character class opcodes of the form find first and find first
not. Leo pointed him to some hysterical raisins who might help.</p>

<h4><a
href="http://groups-beta.google.com/group/perl.perl6.internals/browse_frm/thread/998bbdec6ed1c605/dc9f6a1c35fb2475#dc9f6a1c35fb2475">PGE
on MinGW</a></h4>

<p>Fran&ccedil;ois Perrad fixed a problem with building PGE on MinGW. Patrick
applied the patch.</p>

<h4><a
href="http://groups-beta.google.com/group/perl.perl6.internals/browse_frm/thread/1855df6e00ad2066/0955bdf6c42d7ad5#0955bdf6c42d7ad5"><code>PIO_fdopen</code>
return value</a></h4>

<p>Luke Palmer both intoduced me to the wonderfully cute phrase &quot;untodid&quot; and
provided a patch making <code>PIO_fdopen</code> return <code>NULL</code> when
given bad flags. Leo applied the patch, but Melvin Smith warned that this might
be a bad idea.  Silence followed.</p>

<h4><a
href="http://groups-beta.google.com/group/perl.perl6.internals/browse_frm/thread/a639642be132a3ed/340eb5f582823fbc#340eb5f582823fbc">embedding
initialization</a></h4>

<p>Jeff Horwitz was having trouble embedding PIR into C. Leo provided some
pointers. Jeff was happy.</p>

<h4><a
href="http://groups-beta.google.com/group/perl.perl6.internals/browse_frm/thread/cfe99da639662579/4f4b690aad4b7085#4f4b690aad4b7085"><code>Test::Builder</code>
updates</a></h4>

<p>Previously, Michael G Schwern announced an update to
<code>Test::Builder</code>.  chromatic asked if it was worth the upgrade.
Michael replied probably, but I don't think anyone has acted on it.</p>

<h4><a
href="http://groups-beta.google.com/group/perl.perl6.internals/browse_frm/thread/32acc707df5678be/a02606ff9a675e14#a02606ff9a675e14">miniparrot</a></h4>

<p>Robert Spier created a miniparrot at Bernhard Schmalhofer's request. This
miniparrot does not replace our make system, but it does make our website less
camel centric.</p>

<h4><a
href="http://groups-beta.google.com/group/perl.perl6.internals/browse_frm/thread/8c9fba41dfdb3f3d/4ff623e3cd504a1f#4ff623e3cd504a1f">Autrijus
gets the commit bit</a></h4>

<p>Leo, Autrijus, and Chip had one of the nerdiest conversations ever. The
summary of which is that Autrijus gets commit priveledges for Parrot. The
general consensus was that he was too productive in Haskell and we needed to
hobble him with a real man's language like C.</p>

<h4>
Parrot 0.2.0 &quot;NLnet&quot;
</h4>

<p>Leo announed the release of Parrot 0.2.0. This one didn't seem to make it to
Slashdot. That's kinda sad, because I always get a warm feeling when I know
about stuff before /. Oddly, Google Groups seems to have lost the email.</p>

<h4><a
href="http://groups-beta.google.com/group/perl.perl6.internals/browse_frm/thread/aa874e35b6f28552/18f381f84fa2936d#18f381f84fa2936d">really
<code>make realclean</code></a></h4>

<p><code>make realclean</code> failed to find a few files: a flaw forcefully
fixed by Jerry Gay.</p>

<h4><a
href="http://groups-beta.google.com/group/perl.perl6.internals/browse_frm/thread/e10e881681cc12bb/033a9daa09e266dc#033a9daa09e266dc"><code>load_bytecode</code>
shouldn't segfault</a></h4>

<p>Bob Rogers made it not. Leo applied the patch.</p>

<h4><a
href="http://groups-beta.google.com/group/perl.perl6.internals/browse_frm/thread/292d8031e69aa7d4/c631eba65d3914ee#c631eba65d3914ee">tell
me sweet little lies</a></h4>

<p>Patrick put out a request for a rudimentary set of lies and damn lies.
People are welcome to provide benchmarks too.</p>

<h4><a
href="http://groups-beta.google.com/group/perl.perl6.internals/browse_frm/thread/f60ca9f6570a9f60/0e347dcda6994a2b#0e347dcda6994a2b">Parrot
Panic</a></h4>

<p>Leo found that Parrot was panicking during start up. He rolled that patch
back.</p>

<h4><a
href="http://groups-beta.google.com/group/perl.perl6.internals/browse_frm/thread/0b023369b149e2ee/82ed1327511876c2#82ed1327511876c2"><code>make
testr</code></a></h4>

<p>Leo put out a request for a make test target which would invoke Parrot
twice, once to compile to PBC and once to run it. Dino Morelli provided a
patch. Leo applied it.</p>

<h4><a
href="http://groups-beta.google.com/group/perl.perl6.internals/browse_frm/thread/336fe78e94f31ad3/577a01d8ece6819c#577a01d8ece6819c">trans
test failures</a></h4>

<p>Jens Rieks opened a ticket for some failing test long ago. Now he wondered
if there was a status update. Warnock applies.</p>

<h4><a
href="http://groups-beta.google.com/group/perl.perl6.internals/browse_frm/thread/bc41c57d2f7a4d71/0e6d70a3111e7708#0e6d70a3111e7708">parrotcode.org
update</a></h4>

<p>Leo noticed that parrotcode.org needed a little loving. Robert Spier
provided it. He also mentioned that people could provide their own patches for
it against <a
href="https://svn.perl.org/perl.org/docs/live/parrotcode/">https://svn.perl.org/perl.org/docs/live/parrotcode/</a>
. Now is your chance to contribute to Parrot's public face.</p>

<h4><a
href="http://groups-beta.google.com/group/perl.perl6.internals/browse_frm/thread/b1062fb6face9703/5c3eecc29c906898#5c3eecc29c906898"><em>runtime/parrot/library</em>
search</a></h4>

<p>Jonathan Scott Duff wondered why <em>runtime/parrot/library</em> wasn't in
Parrot's search paths. Leo added it for <code>load_bytecode</code>.</p>

<h4><a
href="http://groups-beta.google.com/group/perl.perl6.internals/browse_frm/thread/049e4a3c48c6274d/3c20fba58ff26540#3c20fba58ff26540">on
the road to a tiny Parrot</a></h4>

<p>Leo began down the road to miniparrot, creating first a Parrot without a
config and using that to generate a <em>config.fpmc</em> for Parrot. The
information provided there helps to create a larger Parrot.</p>

<h4><a
href="http://groups-beta.google.com/group/perl.perl6.internals/browse_frm/thread/1d987d4e9415d34a/12a8965b20f47ffe#12a8965b20f47ffe">MMD
pmcs</a></h4>

<p>Bob Rogers posted some questions about how to work with multi subs and
provided a preliminary patch. Leo provided some answers but felt the need to
pin down the calling conventions before the patch.</p>

<h4><a
href="http://groups-beta.google.com/group/perl.perl6.internals/browse_frm/thread/ffd93a0d7541b15e/27241f1437349aa8#27241f1437349aa8">commit
bit for Matt</a></h4>

<p>Matt Diephouse received a commit bit. Congrats. Leo took the opportunity to
remind himself to run <code>make test</code> before committing.</p>

<h4><a
href="http://groups-beta.google.com/group/perl.perl6.internals/browse_frm/thread/8614b5f46c5afef5/553050aade71547f#553050aade71547f"><code>NULL</code>
deref in <code>real_exception</code></a></h4>

<p>Nicholas Clark found a <code>NULL</code> reference in
<code>real_exception</code>. Leo explained that he needed to call
<code>Parrot_run_native</code> to allocate the exception structute (and set the
stack top pointer). Nicholas didn't want to set the stack top as he was
tracking some Perl refcount bugs.</p>

<h4><a
href="http://groups-beta.google.com/group/perl.perl6.internals/browse_frm/thread/df3de3fb2eeb410a/fe7da5fcfd60abce#fe7da5fcfd60abce">PGE::Hs</a></h4>

<p>Autrijus provided a patch to make PGE escape strings as Haskell FFI expects.
Patrick suggested a slightly different approach, which Autrijus took.</p>

<h4><a
href="http://groups-beta.google.com/group/perl.perl6.internals/browse_frm/thread/c807b55b5b5fccae/c607085a119c0b8a#c607085a119c0b8a">Bug
in <em>Boolean.pmc</em></a></h4>

<p>John Lenz found and fixed a bug in <em>Boolean.pmc</em>. Leo applied the
patch and Juergen Boemmels provided a test.</p>

<h4><a
href="http://groups-beta.google.com/group/perl.perl6.internals/browse_frm/thread/405badc06d95e7c0/cc0c17bc1121f0f7#cc0c17bc1121f0f7">svn
revision number for releases</a></h4>

<p>Andy Dougherty noticed that <em>Configure.pl</em> printed &quot;failed&quot; for
release tarballs as they don't have <em>.svn</em> directories. He changed it to
print &quot;done&quot;.  Leo applied the patch.</p>

<h4><a
href="http://groups-beta.google.com/group/perl.perl6.internals/browse_frm/thread/bf7035014666b2b9/2943dc9085cadbc7#2943dc9085cadbc7"><code>spawnw
@args</code></a></h4>

<p>Jeff Horwitz provided a patch which allows <code>spawnw</code> to take an
array. Leo applied it (with a brief reminder on platform-specific
ettiquette).</p>

<h4><a
href="http://groups-beta.google.com/group/perl.perl6.internals/browse_frm/thread/734aeacca7a2525c/f5cb85bdab6dccba#f5cb85bdab6dccba">dynclasses
build problem on Win32</a></h4>

<p>Jerry Gay fixed a problem building dynclasses on Win32. Leo applied the
patch.</p>

<h4><a
href="http://groups-beta.google.com/group/perl.perl6.internals/browse_frm/thread/db2456cee6742f2f/70b1228c1a52baec#70b1228c1a52baec">basic
JIT questions</a></h4>

<p>Millsa Erlas had a few basic questions about Parrot's JIT. Leo provided
answers.</p>

<h4><a
href="http://groups-beta.google.com/group/perl.perl6.internals/browse_frm/thread/408a3cb30102dfb8/7e35467c2a796f11#7e35467c2a796f11"><code>@ANON</code>
tests and test fixes</a></h4>

<p>Jerry Gay fixed some tests and added some more. Leo applied the patch.</p>

<h4><a
href="http://groups-beta.google.com/group/perl.perl6.internals/browse_frm/thread/2db83ca25ad07b27/e8d004953498e264#e8d004953498e264">filepath
manipulations</a></h4>

<p>Leo put out a request for some filepath and string manipulation support in
Parrot.</p>

<h4><a
href="http://groups-beta.google.com/group/perl.perl6.internals/browse_frm/thread/0d1f0af755511965/28f480998102a287#28f480998102a287">call
syntax abstraction</a></h4>

<p>In a failed attempt to dewarnock himself, Leo reported his call syntax
abstraction proposal.</p>

<h4><a
href="http://groups-beta.google.com/group/perl.perl6.internals/browse_frm/thread/3e3ea01ccb0a5b8f/66c327425726a9a4#66c327425726a9a4">Old
Tags</a></h4>

<p>Nick Glencros suggested renaming (or possibly removing) some old tag files
from our CVS days. Leo was unsure about the removing option but liked the
renaming one.</p>

<h4><a
href="http://groups-beta.google.com/group/perl.perl6.internals/browse_frm/thread/0e5de5ce8d80ad28/179f66a06c9a42b1#179f66a06c9a42b1">MinGW
build problems</a></h4>

<p>Fran&ccedil;ois Perrad provided a patch to fix some build problems on MinGW.
Leo applied the patch.</p>

<h4><a
href="http://groups-beta.google.com/group/perl.perl6.internals/browse_frm/thread/b664bb995e03f74a/7e3edecbf5fa176f#7e3edecbf5fa176f">omniscient
debugging in parrot</a></h4>

<p>Andy Bach wondered how much of Omniscient Debugging would be possibly in
Parrot. Leo reasoned that someone could add it with some work. It would involve
replacing all mutating vtables with special versions that store extra
information to allow them to roll back.</p>

<h4><a
href="http://groups-beta.google.com/group/perl.perl6.internals/browse_frm/thread/a3c02b85fe7dab97/0dd2d3aa6c0c6eac#0dd2d3aa6c0c6eac">embedding/extending
interface</a></h4>

<p>Jeff Horwitz wondered who else was actively working on mebedding Parrot.
Nicholas Clark provided a very uncertain pointer.</p>

<h4><a
href="http://groups-beta.google.com/group/perl.perl6.internals/browse_frm/thread/2f54befe55c2801b/13f88903b1e55817#13f88903b1e55817">OO
support in Parrot</a></h4>

<p>Autrijus explained that Parrot's current implementation made attribute
access difficult. Leo went further saying that he felt it was wrong. The
consensus is that Parrot needs to allow non-absolute access to attributes, so
Leo made it so.</p>

<h4><a
href="http://groups-beta.google.com/group/perl.perl6.internals/browse_frm/thread/609bfa968e2c2748/93c5d7e042370d94#93c5d7e042370d94"><em>config.t</em>
fails</a></h4>

<p>Fran&ccedil;ois Perrad found that <em>config.t</em> fails without first
doing a make clean. Leo deemed his initial solution a little too quick and too
dirty.</p>

<h4><a
href="http://groups-beta.google.com/group/perl.perl6.internals/browse_frm/thread/5042d59e5340262d/36e82c42a485fbf4#36e82c42a485fbf4"><code>find</code>
ops return for not found</a></h4>

<p>Patrick provided a patch which changes the return value of <code>find</code>
and <code>find_not</code> to the string's length (instead of -1) if the
character does not occur. Warnock applies.</p>

<h4><a
href="http://groups-beta.google.com/group/perl.perl6.internals/browse_frm/thread/b7edc1d5b4a79948/a195783cc90b9c74#a195783cc90b9c74">clean
<em>*_config</em> files</a></h4>

<p>Jerry Gay provided a patch to clean the <em>_config</em> files during make
clean.  Leo applied it.</p>

<h4><a
href="http://groups-beta.google.com/group/perl.perl6.internals/browse_frm/thread/e6463d091600d139/af299cdf102930a1#af299cdf102930a1">MMD
for logical ops</a></h4>

<p>Leo changed the logical ops to return one of their operands as
appropriate.</p>

<h4><a
href="http://groups-beta.google.com/group/perl.perl6.internals/browse_frm/thread/4f9738434ec37119/16502accf94d42c3#16502accf94d42c3">warning
cleanup</a></h4>

<p>Jerry Gay provided a patch to remove a warning on Win32. Bernhard
Schmalhofer applied it.</p>

<h4><a
href="http://groups-beta.google.com/group/perl.perl6.internals/browse_frm/thread/8fbcda0e4fea46bc/989bedc1fe123bba#989bedc1fe123bba">Namespace
updates? </a></h4>

<p>Tim Bunce wondered whether any resolution with respect to namespaces had
come about. Leo told him not much.</p>

<h4><a
href="http://groups-beta.google.com/group/perl.perl6.internals/browse_frm/thread/1987b48227865162/dc17602c62d57779#dc17602c62d57779">rules
questions</a></h4>

<p>Dino Morelli was trying to add some unit tests when he ran into questions.
Patrick provided some answers but suggested further conversation move to p6l,
which it did.</p>

<h4><a
href="http://groups-beta.google.com/group/perl.perl6.internals/browse_frm/thread/84537d46ad68aec8/7c7b42dbc44b14eb#7c7b42dbc44b14eb">MD5
library clean ups and speed ups</a></h4>

<p>Nick Glencross posted some updates to the MD5 library. This led to a few
rounds of speading it up and comparing its speed with various other MD5
libraries. The final result is: slower than C but MUCH faster than pure
Perl.</p>

<h4><a
href="http://groups-beta.google.com/group/perl.perl6.internals/browse_frm/thread/d59c059249517f20/61b3155e3eaff442#61b3155e3eaff442">disassemble
segfaults</a></h4>

<p>Bob Rogers pointed out that disassemble was sefaulting on some byte code.
Leo fixed it.</p>

<h4><a
href="http://groups-beta.google.com/group/perl.perl6.internals/browse_frm/thread/2d8e4d3646a48533/373a611f6b34a423#373a611f6b34a423">s/internal
(exception)/real \1/</a></h4>

<p>Jerry Gay provided a patch which changed some internal exceptions to real
ones. Leo applied it.</p>

<h4><a
href="http://groups-beta.google.com/group/perl.perl6.internals/browse_frm/thread/fd25e1240fc31a36/c6ff787f1079c944#c6ff787f1079c944">failing
tests</a></h4>

<p>Tim Bunce reported some failing tests on Mac OS X. Leo fixed them.</p>

<h4><a
href="http://groups-beta.google.com/group/perl.perl6.internals/browse_frm/thread/5f95d1a73976ef8f/a73dd18bfb03a1ba#a73dd18bfb03a1ba">small
typo in <em>PBC_COMPAT</em></a></h4>

<p>Uwe Voelker provided a patch fixing a typo in <em>PBC_COMPAT</em>, which
chromatic applied. He also noticed that <em>p6rules/*.t</em> did not have
plans.  Patrick welcomes all updates to PGE tests.</p>

<h4><a
href="http://groups-beta.google.com/group/perl.perl6.internals/browse_frm/thread/43fbda5c0bca516d/e25f37048470ebac#e25f37048470ebac"><em>t/p6rules/ws.t</em></a></h4>

<p>Dino Morelli added some tests for p6rules. Patrick applied the patch.</p>

<h4><a
href="http://groups-beta.google.com/group/perl.perl6.internals/browse_frm/thread/b8ff7a2c541316df/46f720060661402f#46f720060661402f">index
up bug in PGE</a></h4>

<p>Jerry Gay found a bug in PGE involving escaping sequences strangely. Leo
tracked it down, and Patrick fixed it.</p>

<h4><a
href="http://groups-beta.google.com/group/perl.perl6.internals/browse_frm/thread/3ac1410a897a65a7/fc7d16edadaba47e#fc7d16edadaba47e">Parrot
on Python</a></h4>

<p>Kevin Tew wondered what the state of Python on Parrot was. Sam Ruby and
Michal Wallace provided updates. Hopefully it will take off again soon.</p>

<h4><a
href="http://groups-beta.google.com/group/perl.perl6.internals/browse_frm/thread/713f7dac40d3e360/60c1fff22857df30#60c1fff22857df30">paths
with spaces need quoting</a></h4>

<p>Ron Blaschke provided a patch to quote some paths that needed it in
dynclasses. chromatic wondered if that would break with paths that already
contain quotes.</p>

<h4><em>.cvsignore</em></h4>

<p>Juergen Boemmels noticed that the SVN repository still contains some
<em>.cvsignore</em> files. He suggested removing them, but a few things need to be
updated to the svn world before that can happen. Bernhard Schmalhofer made it
happen.</p>

<ul>

<li><a
href="http://groups-beta.google.com/group/perl.perl6.internals/browse_frm/thread/6521054da9c7175e/35b62bf9ee9a9d1a#35b62bf9ee9a9d1a">request</a></li>

<li><a
href="http://groups-beta.google.com/group/perl.perl6.internals/browse_frm/thread/d922b0043944172c/b7f5598c02bc4d98#b7f5598c02bc4d98">resolution</a></li>

</ul>

<h4><a
href="http://groups-beta.google.com/group/perl.perl6.internals/browse_frm/thread/135f3c5e3b6d97a1/1f5a2ab4fd84866a#1f5a2ab4fd84866a"><code>NULL</code>
pointer deref</a></h4>

<p>Adrian Taylor found a <code>NULL</code> pointer problem in Parrot. Leo fixed
it.</p>

<h4><a
href="http://groups-beta.google.com/group/perl.perl6.internals/browse_frm/thread/30165dd23e622cc6/c4c507469c556412#c4c507469c556412">Parrot
embedded in XSLT 2.0</a></h4>

<p>Colin Paul Adams wondered how he could get information back from an embedded
parrot. Autrijus pointed him to <code>Parrot_call_sub</code> with a signature
of <code>SS</code> (takes a string and returns a string).</p>

<h4><a
href="http://groups-beta.google.com/group/perl.perl6.internals/browse_frm/thread/3accff3812d6da9f/036422b041a4fe07#036422b041a4fe07">thread
detatch hangs on win32</a></h4>

<p>Jerry Gay noticed that thread detatch was hanging on Win32. He provided a
patch to skip it so that other tests could fail in its place. Leo applied the
patch.</p>

<h3>Perl 6 Language</h3>

<h4><a
href="http://groups-beta.google.com/group/perl.perl6.language/browse_frm/thread/ebb2304e24db640c/ae65c8bd8165b831#ae65c8bd8165b831">Semantics
of Coroutines</a></h4>

<p>Joshua Gatcomb wondered whether coroutines were invokable with new arguments
on successive invocations. Some pointed out that allowing the arguments to
change is a more powerful model, but I didn't see anything definitive.</p>

<h4><a
href="http://groups-beta.google.com/group/perl.perl6.language/browse_frm/thread/428c785d48667618/2ff554091f0fb10e#2ff554091f0fb10e">function
composition operator</a></h4>

<p>Michele Dondi wondered if there was a function composition binary operator.
While one does not exist, it's addable (as Ingo Blechschmidt demonstrated much
later).</p>

<h4><a
href="http://groups-beta.google.com/group/perl.perl6.language/browse_frm/thread/ded38746a879d57d/8e4420427d51b692#8e4420427d51b692">initialization
of state vars</a></h4>

<p>Ingo Blechschmidt wondered how state vars and parentheses would interact.
Larry replied that his examples were probably correct.</p>

<h4><a
href="http://groups-beta.google.com/group/perl.perl6.language/browse_frm/thread/3d403aa8ff6e493e/ac666ce340cf819b#ac666ce340cf819b"><code>==&gt;</code>
automap? </a></h4>

<p>Brad Bowman wondered if a single arg sub or block would automatically map
when used on the sharp side of a pipe. Luke Palmer thought this might be too
much dwimmery.</p>

<h4><a
href="http://groups-beta.google.com/group/perl.perl6.language/browse_frm/thread/89fb02214da27797/8075562d8daca262#8075562d8daca262">refactoring
IDE</a></h4>

<p>J Matisse Enzer wondered if Perl 6 would have strong IDE tools like
refactoring supported or automated syntax completion. Larry explained that he
would like to make it possible for Perl 6 to support these things &quot;just as Perl
1 built in all the system interfaces&quot;.</p>

<h4><a
href="http://groups-beta.google.com/group/perl.perl6.language/browse_frm/thread/31098c67d7610b76/a80524d587239256#a80524d587239256"><code>reduce</code>
precedence</a></h4>

<p>Juerd wondered what the precedence for the <code>reduce</code> metaoperator
was. Luke Palmer said &quot;listop&quot;.</p>

<h4><a
href="http://groups-beta.google.com/group/perl.perl6.language/browse_frm/thread/76e3502dbafa5451/3fa6c4d58fe52fd6#3fa6c4d58fe52fd6">piping
into random things</a></h4>

<p>Juerd wondered about piping into various things such as arrays, scalars,
hashes, and filehandles. Larry gave one of his characteristically speculative
answers.</p>

<h4><a
href="http://groups-beta.google.com/group/perl.perl6.language/browse_frm/thread/bc1df31bfa2b0ac1/ffee56c03be536be#ffee56c03be536be">That's
why they call me Mister Bitterness</a></h4>

<p>Juerd wondered what &quot;complain bitterly&quot; meant in the context of the yada
operator. Larry explained that <code>...</code> would fail, <code>???</code>
would warn, and <code>!!!</code> would die.</p>

<h4><a
href="http://groups-beta.google.com/group/perl.perl6.language/browse_frm/thread/5176b3ff12be2364/ac1d8dceea604062#ac1d8dceea604062"><code>isa</code>
specifics</a></h4>

<p>Stevan Little wondered how <code>isa</code> would act when called with
junctions, nothing, classes, or instances. Larry explained that it would act
intelligently by autothreading, returning a list of all options, returning a
bool, or something I didn't follow.</p>

<h4><a
href="http://groups-beta.google.com/group/perl.perl6.language/browse_frm/thread/affcbfe2b37386a9/d0e890171b91a4ab#d0e890171b91a4ab">available
operators</a></h4>

<p>Juerd created a somewhat lengthy list of available operators, hoping to
inspire someone to come up with a good operator for block labels. This led to a
very meandering thread.</p>

<h4><a
href="http://groups-beta.google.com/group/perl.perl6.language/browse_frm/thread/1ed77c281581466c/cc032c3414c33e07#cc032c3414c33e07"><code>reduce</code>
meta operator</a></h4>

<p>Some of you might be confused by my earlier meantion of a
<code>reduce</code> metaoperator. Larry introduced one. Much debate ensued, but
Larry seems fairly set on it.</p>

<h4><a
href="http://groups-beta.google.com/group/perl.perl6.language/browse_frm/thread/ef4af74285e64feb/7f31dec5a5de054a#7f31dec5a5de054a">override
built ins</a></h4>

<p>Andrew Savige wondered if he would be able to redefine built in functions
such as <code>read</code> in Perl 6. Larry explained that Perl 6 will give you
so much rope that you could hang yourself from several trees while blowing off
your own foot with it.</p>

<h4><a
href="http://groups-beta.google.com/group/perl.perl6.language/browse_frm/thread/be554c423ebff952/0d073403e2d9e2ab#0d073403e2d9e2ab">opening
stdout</a></h4>

<p>Gaal Yahas wondered how to open stdout or a file named &quot;-&quot;. Larry explained
that <code>io()</code> would have the dwimmy parts like opening stdout, while
open would not try and dwim.</p>

<h4><a
href="http://groups-beta.google.com/group/perl.perl6.language/browse_frm/thread/44ccdfc251bb3e15/cb47e226098267a2#cb47e226098267a2">adverbial
blocks explained</a></h4>

<p>Terrence Brannon stumbled upon the phrase &quot;adverbial blocks&quot; but didn't
understand what it meant. Luke Palmer provided a very clear and cogent
explanation.</p>

<h4><a
href="http://groups-beta.google.com/group/perl.perl6.language/browse_frm/thread/7f64391fbe1526a5/bdda0e7a23279fcc#bdda0e7a23279fcc">circular
dereferencing</a></h4>

<p>Autrijus noticed that the autodereferencing of references would cause an
infinite loop for circular refernce. Larry recanted and decided that the full
on autodrill down was not as cool as he had initially thought, but he did warn
us that next week he might think it was even cooler.</p>

<h4><a
href="http://groups-beta.google.com/group/perl.perl6.language/browse_frm/thread/10906cbd3833dfe8/c17c3cb539812c71#c17c3cb539812c71">scoping
of <code>$/</code></a></h4>

<p>Ingo Blechschmidt wondered what sort of scope <code>$/</code> would have.
Luke Palmer replied that it would be lexical just like Perl 5. Larry corrected
him pointing out that it would actually be lexical, unlike Perl 5.</p>

<h4><a
href="http://groups-beta.google.com/group/perl.perl6.language/browse_frm/thread/9a7d2a6903d58234/133ea4e1aee20e19#133ea4e1aee20e19">binding
subs' return values</a></h4>

<p>Joshua Gatcomb wondered what binding of subs' return values would do by
default. Juerd answered that it would allow modification only for subs declared
as lvalues.</p>

<h4><a
href="http://groups-beta.google.com/group/perl.perl6.language/browse_frm/thread/0bc2bfd53fb240e0/c961990fd9b8090f#c961990fd9b8090f"><code>use
fatal</code>, <code>no fatal</code>, exceptions, and
<code>undef</code></a></h4>

<p>Aaron Sherman wondered how various scopes fatality levels would interact.
Luke Palmer explained that you need to do 360s on the control pad while holding
block. He also provided some thorough examples.</p>

<h4><a
href="http://groups-beta.google.com/group/perl.perl6.language/browse_frm/thread/76d4ea76b181e160/e99e0455a5a65b9f#e99e0455a5a65b9f">XML
grammar in Perl 6</a></h4>

<p>A while back Juerd wrote a Perl 5 script to transform the EBNF spec of XML
into Perl 6 rules. Now that Pugs might be able to support it, he suggests that
it would be a good project for a brave soul. No takers have yet appeared.</p>

<h4><a
href="http://groups-beta.google.com/group/perl.perl6.language/browse_frm/thread/6561aa2cc9862ea7/17956d9845658363#17956d9845658363">mailing
list indexing</a></h4>

<p>Aaron Sherman posted a link to his initial version of an annotated version
of the mailing list. He asked for comments, but Warnock applies.</p>

<h4><a
href="http://groups-beta.google.com/group/perl.perl6.language/browse_frm/thread/68f2f37ecdf43bc3/759611c278caea0d#759611c278caea0d">prefix
adverbs</a></h4>

<p>Someone who posted to Google Groups (receiving the unfortunate name mangling
of <code>arcadi.sheh...@gmail.com</code>) asked if it made sense to write
<code>$a = stuff @foo, how =&gt; 'scrambled', 1, 2, 3;</code> as <code>$a =
:&gt;how('scrambled') stuff @foo, 1, 2, 3;</code> or some such. Sadly, we will
never know.</p>

<h4><a
href="http://groups-beta.google.com/group/perl.perl6.language/browse_frm/thread/ad8f212972168670/769c309f02b8daa5#769c309f02b8daa5">semantics
of <code>split</code></a></h4>

<p>Autrijus asked if he had Pugs splitting correctly. It wasn't, but it is
now.</p>

<h4><a
href="http://groups-beta.google.com/group/perl.perl6.language/browse_frm/thread/6a2d3da3e1c1d25c/cf637256c360f285#cf637256c360f285">S29:
punt</a></h4>

<p>Rod Adams announced that he found the real world intruding too much and was
going to have to leave off his work on S29. Sam Vilain, Aaron Sherman, and Max
Maischein all volunteered to take up the effort.</p>

<h4><a
href="http://groups-beta.google.com/group/perl.perl6.language/browse_frm/thread/4397075a85638757/e8f9bc28bf62d8d9#e8f9bc28bf62d8d9">chomp!
</a></h4>

<p>Joshua Gatcomb wondered exactly what <code>is chomped</code> did. Larry Wall
explained exactly what <code>is chomped</code> does.</p>

<h4><a
href="http://groups-beta.google.com/group/perl.perl6.language/browse_frm/thread/8d0b000a2006c805/4ad613ff400c8219#4ad613ff400c8219">character
classes</a></h4>

<p>Patrick, based on his experience with PGE, suggested a slightly new syntax
for character classes in Perl 6. Larry liked the syntax and went on to muse
about other unresolved issues involving character classes.</p>

<h4><a
href="http://groups-beta.google.com/group/perl.perl6.language/browse_frm/thread/1223c3f11e0a6444/e7c68ffcd90eab2e#e7c68ffcd90eab2e">Numification
of match objects</a></h4>

<p>Autrijus noticed that numification of match objects made strings of digits
numify to 1 (i.e., true). He didn't like this. Actually no one did, so it has
changed to numify as one would expect. After all, it can numify to <code>0 but
true</code>.</p>

<h4><a
href="http://groups-beta.google.com/group/perl.perl6.language/browse_frm/thread/16823aec5ef20ced/cec5b69464b40e22#cec5b69464b40e22">traits
and properties API</a></h4>

<p>St&eacute;phane Payrard wondered when and how traits would interact with
properties. Brent &quot;Dax&quot; Royal-Gordon and Larry provided answers.</p>

<h4><a
href="http://groups-beta.google.com/group/perl.perl6.language/browse_frm/thread/89d14842806995e3/26d0e71ecf3a2add#26d0e71ecf3a2add">single
element lists</a></h4>

<p>Jonathan Scott Duff wondered what <code>(1)[0]</code> would do. Larry though
that we would have to specialize <code>()[]</code> to parse as
<code>(,)[]</code>.</p>

<h4><a
href="http://groups-beta.google.com/group/perl.perl6.language/browse_frm/thread/10e17e64680febd3/b313716c6e95b3a8#b313716c6e95b3a8">Void
type? </a></h4>

<p>Thomas Sandla&szlig;, Rod Adams, and Autrijus speculated about ways to deal
with a Void type. Nothing definitive came out of it though.</p>

<h4><a
href="http://groups-beta.google.com/group/perl.perl6.language/browse_frm/thread/09b2db1a9e7db5f9/6077664d96af973e#6077664d96af973e">uniquely
identifying objects</a></h4>

<p>Stevan Little wondered if there was a way to uniquely identify objects in
Perl 6. Larry pointed him to the <code>.id</code> and the associated
<code>=:=</code> operator.</p>

<h4><a
href="http://groups-beta.google.com/group/perl.perl6.language/browse_frm/thread/49e7c4a0ea58c70e/ff5dc221a156fbdf#ff5dc221a156fbdf"><code>BEGIN</code>
and lexicals</a></h4>

<p>Benjamin Smith wondered if <code>BEGIN</code> could modify lexicals that
don't really exist yet. Larry expressed the opinion that one should be able to
modify compiler state in <code>BEGIN</code> blocks; however, he did not answer
the question of what Benjamin's example does.</p>

<h4><a
href="http://groups-beta.google.com/group/perl.perl6.language/browse_frm/thread/99f41fce83f47882/0baafe36b1533bac#0baafe36b1533bac"><code>::</code>
vs <code>:::</code> in rules</a></h4>

<p>Patrick confused many people when he asked about the difference between
<code>::</code> and <code>:::</code> at the top level of rules. The answer
seems to be that <code>:::</code> will fail the entire match while
<code>::</code> will simply fail it at that offset in the string on which it is
attempting to match.</p>

<h4><a
href="http://groups-beta.google.com/group/perl.perl6.language/browse_frm/thread/acba3cb531632d51/81a1eeddf0fe0110#81a1eeddf0fe0110">negatives
of junctions</a></h4>

<p>Larry noticed that <code>!=</code> and <code>!~</code> will confuse English
speakers when applied to junctions. Luke noticed that defining <code>$a !=
$b</code> as <code>!( $a == $b )</code> works, averting tragedy.</p>

<h4><a
href="http://groups-beta.google.com/group/perl.perl6.language/browse_frm/thread/269675add9b4e867/bfd9ff194b555aed#bfd9ff194b555aed">boxed
types from builtins</a></h4>

<p>Aaron Sherman worried that many built in functions return boxed types which
could cause a big speed hit. Rod Adams explained that this was necessary but
optimizations would be made available.</p>

<h4><a
href="http://groups-beta.google.com/group/perl.perl6.language/browse_frm/thread/5325e618c8a13d53/b3e9bc09565e4d0c#b3e9bc09565e4d0c"><code>./method</code></a></h4>

<p>Juerd suggested using <code>./method</code> to mean
<code>$?SELF.method</code> (in an attempt to solve the long standing debate of
<code>$?SELF.method</code> vs <code>$_.method</code>). Much discussion ensued
although the general response seems favorable.</p>

<h4><a
href="http://groups-beta.google.com/group/perl.perl6.language/browse_frm/thread/59c945653fd23792/3f82db7c6ffaa285#3f82db7c6ffaa285">operators
everywhere</a></h4>

<p>Rob Kinyon noted that there seemed to be an extremely large number of
operators. He expressed concern, because he had believed that P6 was going to
have a small core with modules. Larry explained that most of these operators
were the combination of a small set of operators and meta operators in a
combinatorially explosive way, giving the wonderfully lucid example of
<code>[&gt;&gt;+^=&lt;&lt;]</code>. Much discussion ensued.</p>

<h4><code>BUILD</code> and submethods</h4>

<p>Ingo Blechschmidt wanted to be sure that all appropriate submethods would be
called when they should and that only the correct one would be called when they
shouldn't all be. Larry answered that it did work as he expected.</p>

<ul>

<li><a
href="http://groups-beta.google.com/group/perl.perl6.language/browse_frm/thread/bc0db43280956c54/e9174e5538ded4a3#e9174e5538ded4a3">question
about subclasses</a></li>

<li><a
href="http://groups-beta.google.com/group/perl.perl6.language/browse_frm/thread/dcb6befb3e298ed6/f1afbb4dcfb70859#f1afbb4dcfb70859">same
question but with roles</a></li>

</ul>

<h4><a
href="http://groups-beta.google.com/group/perl.perl6.language/browse_frm/thread/f29e96d82fe0cf63/b6b426ef593bb255#b6b426ef593bb255"><code>$.</code>
vs <code>$:</code></a></h4>

<p>Luke Palmer was having trouble understanding the difference between
<code>$.</code> and <code>$:</code>. Aaron Sherman prointed out a few
differences according to A12.</p>

<h4><a
href="http://groups-beta.google.com/group/perl.perl6.language/browse_frm/thread/37b0c3369432ae1b/497ff7b0b8174f0f#497ff7b0b8174f0f"><code>not
4,3,2,1,0;</code></a></h4>

<p>Autrijus wondered what the signature for <code>not</code> was in Perl 6.
Larry explained that unlike Perl 5, Perl 6's <code>not</code> function should
act like <code>!&lt;&lt;[4,3,2,1,0]</code>.</p>

<h4><a
href="http://groups-beta.google.com/group/perl.perl6.language/browse_frm/thread/1c07dcb50dcca284/e3ba8ab5be76d706#e3ba8ab5be76d706">multiple
colons in MMD</a></h4>

<p>Luke Palmer caught Autrijus off guard when he pointed out that multis could
have multiple levels of <code>:</code>, each of which is less important than
the last. Larry surmised that they might not have documented this hard
enough.</p>

<h4><a
href="http://groups-beta.google.com/group/perl.perl6.language/browse_frm/thread/7ee563a776c4282d/f6d7519e8ce9a504#f6d7519e8ce9a504">Nested
Captures</a></h4>

<p>Carl Franks started a very long thread when he noted that nested
captures caused extra layers in the match array rather than counting parens
like Perl 5. This led to discussion of 0 vs 1 indexing. Discussion ensued, with the resulting decision
that <code>$0 == $/[0]</code>.  There was much rejoicing.</p>

<h4><a
href="http://groups-beta.google.com/group/perl.perl6.language/browse_frm/thread/a809c4f79d842213/832fa3e105a673c6#832fa3e105a673c6"><code>'1.28'
* '2.56'</code></a></h4>

<p>Autrijus wondered what path <code>'1.28' * '2.56'</code> should take to
arrive at 3.2768. Larry told him that infix * used prefix + to numify non-Num
args.</p>

<h4><a
href="http://groups-beta.google.com/group/perl.perl6.language/browse_frm/thread/c988130fd5e548a3/66c00f93abebc818#66c00f93abebc818">methods
from roles vs classes</a></h4>

<p>Aaron Sherman wants to lazily load a role but only the first time it is
necessary. Luke Palmer assured him that his example would work correctly.</p>

<h4><a
href="http://groups-beta.google.com/group/perl.perl6.language/browse_frm/thread/bbdb12a0d4615470/a3a24b1502bda023#a3a24b1502bda023">currying
and defaults</a></h4>

<p>Aaron Sherman, in his efforts to get up to speed on S29, wondered how
currying would interact with default values. Larry explained that default
values would not be bound until the invocation of the curried function.</p>

<h4><a
href="http://groups-beta.google.com/group/perl.perl6.language/browse_frm/thread/82117b977c93b143/639f21ba2587a6f9#639f21ba2587a6f9">precedence
of custom infix ops</a></h4>

<p>Ingo Blechschmidt wondered how to define the precedence of custon infix ops.
Luke Palmer pointed out the looser, tighter, and equiv traits (by default it is
<code>equiv( &amp;infix:&lt;+&gt; ) )</code>.</p>

<h3>The Usual Footer</h3>

<p>Posting via the Google Groups interface does not work. To post to any of
these mailing lists please subscribe by sending email to
<code>perl6-internals-subscribe@perl.org</code>,
<code>perl6-language-subscribe@perl.org</code>, or
<code>perl6-compiler-subscribe@perl.org</code>. If you find these summaries
useful or enjoyable, please consider contributing to the Perl Foundation to
help support the development of Perl. You might also like to send feedback to
<csperl file="mailmunge" arg_email="ubermatt@gmail.com" arg_ending="." /></p>

<ul>

<li><a href="http://donate.perl-foundation.org/">The Perl Foundation</a></li>
<li><a href="http://dev.perl.org/perl6/">Perl 6 Development site</a></li>
<li><a href="http://planet.parrotcode.org/">Parrot Blog aggregator</a></li>

</ul>

<csperl file="grab" domain="on" record="b/1424" template="b/article_sidebar2.view">
        </div>



    </div>
    <div class="asset-footer"></div>
</div>


                            
                            <div id="entry-770" class="entry-asset asset hentry">
    <div class="asset-header">
        <h2 class="asset-name entry-title"><a href="/pub/2005/05/12/rdice.html" rel="bookmark">Inside YAPC::NA 2005</a></h2>
        <div class="asset-meta">
            <span class="byline">
    
                By <span class="vcard author"><a class="fn url" href="http://www.modernperlbooks.com/">chromatic</a></span> on <abbr class="published" title="2005-05-12T00:00:00-08:00">May 12, 2005 12:00 AM</abbr>
    
            </span>

            
            

        </div>
    </div>
    <div class="asset-content entry-content">

        <div class="asset-body">
            
<!-- sidebar begins -->
<!-- don't move sidebars-->
<!-- sidebar ends -->
<p><em><a href="http://www.perlfoundation.org/">The Perl Foundation</a>
organizes and holds several community-based Perl conferences each year.  This
year's North American conference, <a href="http://yapc.org/America/">YAPC::NA
2005</a> is in Toronto, Canada, June 27-29.  chromatic recently
interviewed Richard Dice, organizer of the conference this year, to discuss his
plans and experiences.</em></p>

<p><em>Can you tell our readers a little bit about yourself?</em></p>

<p><strong>Richard Dice:</strong>  Richard's just this guy, see?</p>

<p>I'm 32, born in Montreal and grew up in the sleepy southern Ontario city of
London, Ontario.  I did my undergrad degree in astronomy and applied
mathematics at the University of Western Ontario.  I moved to The Big Smoke
(Toronto) in 1996 and have lived here (with brief stints in Montreal again and
in Waterloo, ON) since then.  I finished my MBA at the University of Toronto
about a year ago, and I have recently started a job as a senior IT consultant
at a company in Toronto called Information Balance.  I've been married for not
quite 2 years now, and we're soon to be moving into our first house.  (The day
after YAPC!  Ugh!)</p>

<p>I've been a Unix-head since 1992 and a Linux guy since 1994, which is around
the same time that I started programming in Perl, coming to it from C.  (The
first Perl program I ever wrote took 45 minutes.  To do the same in C would
have taken me three days.  I never looked back.)</p>

<p>I have a love of good beer and scotch (and know <em>everywhere</em> in
Toronto to get both), overestimate my ability to speak French, have an
ever-growing personal library that my wife laments, and I go to all the good
raves in the city.  (I get in to most of the after-parties, too.)</p>

<p>Also, I'm a cat person.</p>

<p><em>How did you decide that not only did you want </em>someone<em> to host a
YAPC in Toronto, but that you were the one to write the proposal and organize
things?</em></p>

<p><strong>RD:</strong> I blame Damian.</p>

<p>Damian Conway is a professor of computer science at Monash University in
Melbourne, Australia, a Perl programmer par excellence, and an amazing public
speaker.  In the latter half of 2000, Yet Another Society (also known as The
Perl Foundation) raised money to &quot;buy&quot; Damian for the year 2001, releasing him
from his professorial duties at Monash and tasking him in part to tour the
world speaking about Perl.  (The Perl 6 announcement had just recently been
made at the time and it was thought that he would make an excellent
&quot;champion&quot; of the cause.)</p>

<p>In early 2001, I was in the process of moving from Montreal to Toronto when
I noticed that there was a small gap in Damian's tour schedule in June.  I had
seen him the year before at YAPC 19100 in Pittsburgh and thought he was simply
amazing.  I wanted to support his mission to evangelize Perl.  So I wrote him
an email, introduced myself, and asked him to come to Toronto to present a few
free public talks on Perl.  I didn't want for him to say no, so in order to
help make the decision easier I told him I'd make it all expenses paid.  He
quickly replied to say yes.  Then, I wrote the Toronto Perl Monger (TPM)
mailing list (which had never heard of me before this) and asked for help with
fundraising to bring Damian to Toronto.  It took some doing on my part,
but in the end Damian's trip was completely covered and I didn't have to
back-stop it.  Not only was the trip a success financially, but everyone
really seemed to enjoy the experience.  This was my introduction to the
Toronto Perl Mongers, to Damian, and to the wide world of Perl community
organization.</p>

<p>Just before he left Toronto, Damian suggested that I consider organizing the
same for him during his North American summer tour in 2002.  How could I say
no?  Only this time, with a year to plan things, I could turn it from a small
event into Damian-pooloza.  Spread out over a week in June 2002 he presented three
talks, each with around 250 people in attendance.  The budget was also an
order of magnitude greater than what I raised the year before.  That was when
some people locally (and Damian) started suggesting to me that I organize a
YAPC in Toronto.  I cringed, because I had known the suggestion was going to
be raised eventually, and because I knew how much work it would be.  But I
also knew that, again, there was no way I could say no.</p>

<p>In the summer of 2003 I organized TPM to put together a bid for
YAPC::NA 2004, which lost to the Buffalo bid (as judged by The Perl
Foundation).  And I'm glad that it did!  The Buffalo team did a great
job, and it just spurred us on to try even harder for our 2005 bid,
which we won.</p>

<p><em>You offered to fund Damian's trip to Toronto without having things lined
up first?</em></p>

<p><strong>RD:</strong> That's correct.  People are often surprised when I
mention this aspect of things.</p>

<p><em>Is that confidence or something else?</em></p>

<p><strong>RD:</strong> Some of it is confidence, but only part of it would be
confidence in myself.  (Though certainly I've been accused of this more than
once.) The other part is confidence in the Perl community, its generosity and
its ability to recognize when something good (e.g. a Damian Conway series of
talks) is about to happen.</p>

<p>When I first hatched the scheme to bring Damian to Toronto in my head, I
realized that it had all the makings for an organizational race condition.
That is, if I went to Damian telling him that we would like him to come to
Toronto conditional on funding being found, then he'd say &quot;Great!  Get back to
me when you've got the funding and I'll make my plans.&quot;  And then I'd turn to
the Toronto Perl community to ask for funding to bring Damian to Toronto, and
the reply I'd get would be &quot;I'd love to donate!  Tell me when Damian is
confirmed and I'll contribute something.&quot;  That's the kind of situation that
just eats planning time away until it's all gone.  To break this vicious
cycle before it even started I decided to guarantee the funds myself.  It
worked.  There were risks, but the potential rewards were too great not to
make the effort.</p>

<p><em>I remember Damian lobbying for the Toronto bid for 2004.  Obviously
your approach worked.</em></p>

<p><strong>RD:</strong> I assure you that no kick-back schemes were involved.
:-)</p>

<p>I think that whatever support Damian showed for Toronto would have come
from his experience in seeing us &quot;pull out all the stops&quot; when we invited him
to Toronto in the past.  I guess he had confidence in us to do the same, but
for hundreds of people this time and not just him.</p>

<p><em>What's the process of putting together the budget like?  I'm not
looking for specific details and secrets, just some idea of what goes
into organizing a conference.</em></p>

<p><strong>RD:</strong> The budget is everything.  The Perl Foundation isn't
some huge organization with bottomless pits of money--YAPC has to stand on
its own, financially at least.  I never allowed myself to plan a budget where
I wasn't 99.9% sure that no losses would occur.  On the other hand, I didn't
want to have a conference that was so skimpy on goodies that people would be
talking to each other years from now saying things like, &quot;Remember YAPC in
Toronto?  That just sucked!&quot;</p>

<p>This made for a rather iterative process. The conference budget was
designed &quot;modularly&quot;, so as I identified more funding I could add on to the
conference.  The original budgetary pass at the conference did look pretty
sucky.  It wouldn't lose any money, but it would only barely make the YAPC
grade, too.  So then the effort shifted over to finding corporate
sponsorships.  This was a lot of hard work, but it has been entirely
worthwhile.  We have had a lot of excellent people and companies support the
conference well beyond the call of duty.  (Please visit the sponsors page on
the YAPC::NA web site to see what I mean and who I'm talking about.)</p>

<p>The other main point regarding the budgetary process is that I didn't do it
alone.  Eric Bower, one of the Toronto Mongers, stepped forward to create the
budgetary spreadsheet models that he and I consulted (and still consult)
regularly.  The latest iteration of this process has so many smarts built
in to it that I wonder sometimes if I could just step away from planning the
conference from here on in and let the spreadsheet take care of things by
itself. :-)</p>

<p><em>In the past couple of years, I've heard that there's more collaboration
between YAPC organizers than before.  (Jeff Bisbee talked about this quite a
bit after the YAPC::2003 in Florida.)  Is there a community of burned-out
ex-organizers that still work together?</em></p>

<p><strong>RD:</strong> The first rule of YAPC ex-organizer club is you do not
talk about YAPC ex-organizer club.</p>

<p>Seeing as how I just broke the first rule, I may as well spill the beans
entirely.</p>

<p>The majority of the contact I have with the ex-organizers is with Kevin
Meltzer (YAPC:NA 2003 in Boca Raton, FL, alongside Jeff Bisbee) and Jim Brandt
(YAPC::NA 2004 in Buffalo).  Jeff and Kevin glommed themselves onto The Perl
Foundation to act as the core of the Conferences Committee, and Jim is just a
generally accessible nice guy who can't hide from me, as I've got him on AIM.
I've had a few emails with Sarah Burcham (YAPC::NA 2002 in St.
Louis) and Rich Lafferty (YAPC::NA 2001 in Montreal) but nothing major.</p>

<p>In addition to the YAPC organizers of previous years, I have been in a great
deal of contact with Allison Randal, president of The Perl Foundation, and
Kurt DeMaagd, treasurer and general "boy Friday" of The Perl Foundation.  He's
the unsung hero in all of this as far as I can tell.</p>

<p>Truth be told, even if the previous YAPC organizers were incredibly tight
and available to me, I'm not sure what I would be able to do with the &quot;wisdom
of the past&quot; they could offer.  They might be able to give me a sense of what
needs to be accomplished and by what T-minus-YAPC date, and maybe they could
give me some leads in terms of corporate sponsorship, but these things really
aren't the bottleneck.  The early bottleneck for the conference this year has
been money and making a budget for the conference that works.  Doing that took
so much time that things we would have liked to do sooner had to wait too long
for my liking. (For example, opening up attendee registration.) The current
bottleneck is finding people who can look after task implementation details on
the ground here in Toronto.  For that, I work with my local TPM members.</p>

<p><em>How does organizing a conference compare to organizing a software
project?</em></p>

<p><strong>RD:</strong> That's a really interesting question.  I hadn't
considered this before, but I can posit a few possibilities.</p>

<p>First, I want to make a distinction between types of software projects:
commercial and open source.  I think these two types have quite different
organizational characteristics.  Organizing a YAPC is more like organizing an
open source software project, but it has elements of commercial organization,
too.</p>

<p>The open source software aspect of YAPC organizing is that everyone
involved is a volunteer.  I can only get people to move in the needed
direction by setting an example, moral suasion, persuasion, and by being the
obvious best person to make decisions and lead the group.  That said, I can't
make anybody do anything they don't want to.  Even if I was ostensibly
&quot;successful&quot; in talking someone into something they were reluctant to do, the
end result is that they wouldn't put in enough time and wouldn't do a good
enough job.  I have to be very sensitive to finding the right people to do the
right things.</p>

<p>Fortunately, it's not like I'm trying to make an organization that sells
widgets.  I'm running a YAPC, which is an intrinsically interesting and
exciting thing.  There are lots of people in TPM who want to help out and are
willing to put in entirely unreasonable amounts of time and effort to make it
a great conference.  What I have to do is provide a structure in which they
can be effective, and in which they can feel like they're being effective.
I'm very grateful to all the people in TPM who have helped out so much so far,
and I know that this help will continue (and accelerate, even!) going from
here all the way to the conference, which should be <em>most excellent</em> as
a result of all this energy and planning.  (The speakers must be commended,
too; they're all volunteers who help out YAPC as well, even if they do it in
a different way.)</p>

<p>The commercial software project aspect of things is that YAPC has a
deadline, and it has a budget, and people are charged money to attend (not a
lot, but still it makes for a different dynamic).  There is no &quot;release early,
release often&quot; aspect of YAPC.  There is no &quot;we'll only release it when it's
ready&quot; aspect.  These constraints drive the process.</p>

<p><em>I've heard rumors that you have some new events planned.  What's this
about a scavenger hunt?  How about the hackathon beforehand?</em></p>

<p><strong>RD:</strong> You are well-connected to the rumor mill, I see.</p>

<p>The scavenger hunt actually originated with Kevin Meltzer.  He and I were
chatting on AIM one day and he suggested it to me, seemingly out of the blue.
I guess what happened was he got interested in seeing what there was to do in
Toronto for personal touristing reasons (people often come a few days early or
stay a few days late to YAPCs in order just to see the sights).  What he found
was that there was just plain too much to do in Toronto, and he got excited
about experiencing the city as a whole.  This is actually something that the
TPM group wanted to accomplish in hosting a YAPC.  Toronto is one of the great
urban environments of North America (on the scale of San Francisco or Chicago)
and YAPC is being held right in the heart of downtown.  We're happy and proud
for an opportunity to share the city with all the people who are coming in
from afar to visit, especially people who haven't been before.</p>

<p>So Kevin made the suggestion, and I thought it was a great idea.  At the
next TPM meeting I mentioned it to the whole group and everyone seemed really
pleased with it.  Basically, we'll divide up the conference attendees into
groups of 10 and send people out into the city with their digicams to track
down and photograph local landmarks and places of geek-interest.  This will
happen on the night of Monday 27 June.  The winners will be announced...</p>

<p>... on Tuesday night, which will be the night of the social centerpiece of
YAPC.  For those who don't know their geography (or don't happen to have a map
handy), Toronto is situated on the north shore of Lake Ontario.  Lake Ontario
is one of the Great Lakes, which means it's big.  Really big.  More of an
inland sea than a lake.  Tuesday night, we're taking a cruise.  We've booked a
major cruise ship to hold the entire conference, and for 4 hours it will
navigate Toronto Harbor, the channels through the Toronto Islands, and the
near coast of Lake Ontario.  I've done this kind of cruise once before; it
makes for a great combination of natural and urban beauty.  (The Toronto
skyline is one of the most impressive in the world, and it looks <em>great</em> from
the lake as day turns to night.)  We're also going to be having our
banquet dinner on the cruise boat, and our fundraising auction.  (There will
be some special items to be had during the auction as well.  They are sure to
raise eyebrows.)</p>

<p>There will be happenings before the conference officially begins, too.  Uri
Guttman (of Boston.pm) is the official YAPC 'socialist czar', and he's
arranging for a group restaurant dinner for anyone who arrives to the
conference on Sunday (which should be almost everyone from out of town) and
he's also trying to book a movie theatre in the downtown area for our
exclusive use to see something, we're not quite sure what yet.  (What are the big
sci-fi films to be released towards the end of June?)  We're still looking for
sponsorship for this.</p>

<p>Though neither social nor officially part of the conference, the
'lambdacamels' will descend upon Toronto, too.  This is the group led by
Autrijus Tang, founder of the Pugs project.  Pugs is an effort to implement
Perl 6 in Haskell as a kind of proof-of-concept for the real Perl 6 (which
will run on Parrot), as well as to give Larry a working Perl 6 example through
which he can focus on the details in the Perl 6 language design.  About a
dozen Pugs hackers will show up in Toronto nearly a week before the conference
happens, and then be whisked away to a wilderness hideaway where they will do
nothing but hack on Pugs for several days before the conference starts.  (We
have a lot of wilderness in Canada, even near Toronto, and one of the
Toronto Mongers has a large cottage where he'll house the whole gang.)</p>

<p>From time to time we will throw them scraps of food.  If we are pleased
with the results, we'll drive them back to civilization in time for the
conference.</p>

<p><em>How did you go about wrangling sponsors?</em></p>

<p><strong>RD:</strong> I'd say it was a three-edged sword.</p>

<p><em>Yours, mine, and the truth?</em></p>

<p><strong>RD:</strong> You do not understand, but you will.</p>

<p>All 3 edges have something to do with simply being networked into various
IT communities.  The least of the 3 was me needing sponsors and flipping
through my Rolodex. (Well, Palm Pilot, but same idea.) The first--and crucial--sponsor 
came as a result of my being active in CLUE, the Canadian
Linux Users Exchange.  It is an organization that attempts to act as a
clearing-house for Linux community activities around Canada.  The head of that
organization, Matt Rice, is a big Perl programmer and advocate as well.  And
he is also closely connected with the people at LPI, the Linux Professional
Institute.</p>

<p>So one day Matt and I were talking, and I told him how I was mustering
TPM to make a YAPC bid.  This was in July 2004, making it the 2nd bid that TPM
would make for YAPC, as we lost the 2003 bid to Buffalo.  Buffalo did a great
job, and I was happy to have lost to them after I went to YAPC::NA 2004 there
and saw the quality of their event.  One of the really big things that they had
going for them was that the CompSci department at SUNY Buffalo
donated the entire venue to them, gratis.  They just had a new building built
on campus and they were eager for an opportunity to showcase it.
This, plus a desire on the part of the chairman of the CS department there to
'give back' to the open source community in general (and the Perl community in
specific) led to the donation of their new building as a venue.  It's a
really nice building.  We were very fortunate to have had it for the
conference.</p>

<p><em>Did this happen before TPF accepted the proposal or after?</em></p>

<p><strong>RD:</strong> It was part of the 2004 bid that Buffalo.pm submitted
to TPF in August 2003.  As a member of the Perl community, I was really happy
with the donation from the CS department there and how it made for a great YAPC.
As a losing bidder for YAPC::NA 2004, though, I felt differently.  (Like I
said, I'm glad that they did [win].  You can't look that kind of gift horse in the
mouth.)</p>

<p>I felt like I had a trump card played against me.  We put a lot into our
2004 bid, and yet there was no argument I could make that would have changed
the outcome, or <em>should have changed the outcome</em>.</p>

<p>So I felt vulnerable when it came to creating a bid in the summer of 2004
for 2005.  Like, no matter how hard I worked, someone else could produce the
same magical trump and we would be shut out.  So I made finding that same
trump card myself to put into the Toronto bid my first order of business.  I
explained it this way to Matt, and he brought it to some people at LPI, and
they realized the value of supporting a great open source community like the
Perl community, and they essentially committed to a sponsorship large enough
that our venue requirements would be covered.</p>

<p>So LPI became the foundation sponsor of YAPC::NA 2005 in Toronto.  I
honestly can't imagine how I would have made the conference work without
them.</p>

<p><em>How much of the previous bid did you re-use?</em></p>

<p><strong>RD:</strong> Much of it.  We cleaned it up a bit, and added
&quot;options&quot; to it.  In the previous year I identified one potential venue to put
into the bid.  For the 2005 bid, I kept that one but added another, in case
TPF found one or the other preferable.  But the main addition to the bid was
the LPI sponsorship.  To compare the work effort of the two bids, I'd say that
the bid we put together in the summer of 2003 took about a dozen of us about
2.5 weeks to put together, in our off-hours, using a Kwiki.  (That was when I
first appreciated just how useful wikis can be in collaborative documentation
development tasks!)</p>

<p>The bid in 2004, I assembled myself in about 2 days.  (Not including the
effort of finding the LPI sponsorship or in 'scouting out' the venue
possibilities.)</p>

<p><em>Having potential venues and a real sponsor must have helped.</em></p>

<p><strong>RD:</strong> I don't know if the 2005 bid benefited from having two
venue possibilities as opposed to one, but it certainly benefited from having
the foundational sponsorship of LPI.</p>

<p><em>How about the rest of the sponsors?</em></p>

<p><strong>RD:</strong> So I've covered two edges of the sword.  The third edge
is by random chance.  Although it must be said that chance favors the
prepared mind.</p>

<p>In September 2004 there was a PHP conference happening in Toronto, and I kept
up a degree of correspondence with the producer of that conference, Marco
Tabini.  (This was as part of the work I was doing for CLUE, which was making
myself aware of open source events happening in Canada.) The day that
conference was to wrap up, I eked some time out of work and went over
to the conference venue to congratulate Marco on his conference.  So we
finally met in person there, and he invited me to stay and join him for lunch.
I did... and promptly got separated from him and the rest of his core group in
the buffet line.</p>

<p>So after I got my food, I went to whatever other random table appeared to
have a free seat and I got into conversation with the rest of the table.
At one point during conversation at the table one of the guys there
asked us all what we thought of DB2 (the IBM database product). About
a year earlier I had worked with it in a Perl project and I had had a hell of a
time, so I heaped a bit of good-natured scorn upon it, mostly having to
do with how difficult it was to integrate with Perl.  After a few minutes of
ranting I asked him why he asked.  The reason was because he was the Product
Manager for DB2 and Open Source Software at IBM.  (<code>$name = 'Dan
Scott'</code>)</p>

<p><em>Moral: ask before ranting, unless you're the kind of person who asks
and then doesn't rant.</em></p>

<p><strong>RD:</strong> Fortunately, Dan is one of those people who takes
criticism constructively! :-)  He was really happy to hear that I had an
opinion on Perl and DB2, and he wanted to get together with me to get down my
thoughts in a more organized fashion, so that he could direct some resources
within IBM toward addressing those concerns.  So we made an appointment to do
that.  And then I mentioned to him that there was this YAPC thing that had
just recently been awarded to Toronto, and maybe IBM would like to help out
with that too.  Actually, this may have been a few days before the official
announcement that Toronto.pm had been awarded YAPC, but Kevin Meltzer and I
had talked informally about it before that.</p>

<p>So anyhow, Dan was receptive to the idea, and he put me in touch with the
right people at IBM for this kind of thing.  It took a few months to move its
way through the process there, but with the help of some great sympathetic
people at IBM they came through with a tremendous sponsorship, which is how we
are able to have the cruise/banquet I told you about earlier.  To summarize:
direct networking, Rolodex, and random.  (The latter two being manifestations of
indirect networking, I suppose).</p>

<p>This covers my sponsorship efforts.  Since then I have deputized a few
people at TPM to try to find some more.  That is in process but they've had
some promising responses so far.</p>

<p><em>Is the goal of a YAPC to be self-sufficient or to make a bit of
money?</em></p>

<p><strong>RD:</strong> The goal is to be self-sufficient.  As I understand
it, there is no official TPF position that YAPC should create a surplus that
can go back to TPF to help it fund its other goals.</p>

<p>That said, the previous few YAPCs have had surpluses, though not huge ones.
I really don't know if YAPC::NA 2005 in Toronto will or won't this year.</p>

<p><em>Thus every new sponsor you find can fund some other neat thing, like a
movie trip or the cruise?</em></p>

<p><strong>RD:</strong> Yes, that's exactly correct.  As I mentioned earlier,
we're still hoping to find a sponsor for the movie night that Uri is
organizing.  Sometimes sponsorship money won't be used for &quot;fun&quot; or
&quot;conference enhancing&quot; items.  For instance, I really don't know whether or
not I can provide my conference volunteers with free admission to the
conference.  I need to find maybe $2000 in order just to cover their variable
food costs.</p>

<p><em>A conference without volunteers definitely counts as &quot;not fun&quot; in my
book.</em></p>

<p><strong>RD:</strong> Oh, we'll have volunteers.  It's just that, as things stand
right now, they'll pay their conference fee just like everyone else.  I've
paid my conference fee.  Many others on the volunteer side of things have
already, too.  It's like that bit in &quot;Starship Troopers&quot;:  In Raczak's
Roughnecks, everyone jumps, everyone fights!</p>

<p><em>What were you looking for when you and your team put together the
schedule this year?</em></p>

<p><strong>RD:</strong> We kind of didn't know what we were looking for, at
first.  The call-for-papers (CFP) went active on January 24, I think.  Up until maybe three
days before the close of CFP (April 18), we had paper submissions totaling
maybe only 75% of what was needed to fill the conference, even if we stretched
some of the talks out.  When the CFP ended, we were up to maybe 250% of what
was needed to fill the conference.  Yes, there were a LOT of last minute
submissions.</p>

<p><em>I can't manage to feel any surprise!</em></p>

<p><strong>RD:</strong> No, I don't blame you.</p>

<p>But there's a huge difference between being an impassionate outside
observer, and being the poor schmuck who won't know whether or not their life
has meaning until the CFP totals are in in another couple of days.  I was
pretty tense leading up to that.</p>

<p>It was pretty obvious to us that there would be certain &quot;tracks&quot; 
that would form in the conference:  Perl 6 and testing were the two big ones.
The process of putting together the schedule went something like this:</p>

<ul>
<li>Pick out the very few &quot;absolute-must-have&quot; talks from the stack.</li>
<li>Find a time for them in the utterly empty schedule.</li>
<li> Now, figure out the talks which thematically support those talks.</li>

<li> If there are too many for those themes, then figure out if any of those
overlap, and pick one of the overlapping.</li>

<li> And now cut the list down by another talk or two, somehow.</li>

</ul>

<p>So now we have our anchors, and our tracks.  That left us with only so much
schedule left to fill, and way too many talks to do it with.  So we (the
program selection committee) went into a kind of frenzied scrum for about two
hours with back-and-forth advocating of personal favorites.  When the dust
cleared, we had our schedule.</p>

<p>I should say that all of this happened on Saturday, April 23, when six of us
got together and spent the whole day working through the schedule.</p>

<p><em>Did you notice other trends></em></p>

<p><strong>RD:</strong> Other trends... hmm... well, we have a database track,
more or less, which is heavily influenced by Class::DBI.  Apart from that, I
don't know if there is anything we can call a trend, but I can point out a few
other features of the schedule.</p>

<p>The opening 1.5 hours of the first day is a plenary session--a bit of time
for Toronto.pm to welcome everyone who came (and we've got people coming from
all over the world!), followed by Larry giving a keynote, followed by Allison
giving her &quot;state of the carrot&quot; update on the world of Perl over the past
year.  The afternoon of day three will be much as it has been the past few years; 
the Lightning Talks, followed by a closing keynote, followed by a Town Hall
meeting.</p>

<p>One interesting thing that happened with the schedule that I was expecting
is that, in day two, we are actually going to bump up the number of parallel
tracks from three to four, which I think is a first for a YAPC::NA.  This is to
accommodate a &quot;donated tutorial&quot; from Stonehenge that <code>brian d foy</code>,
Stonehenge trainer and originator of the Perl Monger movement, will present.
We haven't yet identified the room at the conference venue that we will book for
him, so we've been calling it the &quot;<code>brian d foy</code>er&quot;.  We're all just
way too pleased with ourselves for that.  Even once we have figured out a room,
no doubt that name will stick.</p>

<p>We thought it was important to put this tutorial into the schedule so that
newcomers to Perl would have something meaningful at the conference to cater
to their needs.  This was raised at the Town Hall meeting in Buffalo at the
end of YAPC::NA 2004 and so we're trying to take those comments to heart.  It
has meant finding more money to book the extra room, but we all thought it was
important enough to make the stretch to do this.</p>

<p><em>Do you expect a lot of newcomers?  I didn't really catch the breakdown
between experienced programmers and neophytes at the last couple of
YAPCs.</em></p>

<p><strong>RD:</strong> I wish I was in a better position to answer that.
Almost by definition it's hard to predict, as these people don't circulate in
the same communication channels that I do.  I talked with <code>brian d
foy</code> about what his expectations were in terms of the number of people who would
attend his introductory Perl tutorial at YAPC, and he said that when he has
given similar talks at similar conferences he's always had a good turn out.</p>

<p>That's as close I can get to knowing, I'm afraid.  As for previous YAPCs,
well, what I recall from Buffalo was that the newcomers were certainly vocal
in the Town Hall meeting.  That's a good thing!  I absolutely hate the idea
that the Perl community could degenerate into an echo chamber.  New
perspectives are necessary.</p>

<p><em>How is registration going?</em></p>

<p><strong>RD:</strong> Just a second...I'll have a look....</p>

<p>Wow!  This was the first time I looked today--seven new since yesterday.
Which is huge.  It could be the biggest single day jump yet.  The total is
106.  Which is <em>considerably</em> ahead of any previous YAPC::NAs I have
any data for this number of days before the conference starts.
(T-minus-YAPC, as it were.)</p>

<p>My data set goes back to YAPC::NA 2002 in St. Louis.  1999 - 2001, I don't
know.  Maybe the information is out there somewhere within TPF, but I haven't
figured out where yet.  Right now, my projection for registrants + speakers +
volunteers is between 300 and 400.</p>

<p><em>Do you have access to a lot of that through previous
organizers?</em></p>

<p><strong>RD:</strong> Only going back to 2002.  I think that's when TPF
instituted a new back-end data system.</p>

<p><em>How many speakers and volunteers do you estimate will be there?</em></p>

<p><strong>RD:</strong> Speakers, I don't have to estimate--the number is 45.
(Not including Lightning Talks.) Volunteers--maybe 20?  25?  We're in low
teens now, and there's a lot of buzz within the larger TPM group so I expect a
lot of people will offer their time for the actual conference duration.</p>

<p>Regarding the range, my actual projections are for 340 right now.  300 is
being conservative, assuming we lose quite a lot of momentum.  My gut tells me
that we're actually going to gain a fair bit more.  400 would be a blow-out
success.</p>

<p><em>How many can the venue hold?</em></p>

<p><strong>RD:</strong> The venue can hold 420 before I start getting the
facility manager to start lining chairs up against the walls.  More
importantly, the cruise boat can hold 500. :-) While this is all going by gut,
I think we'll be around the 400 total mark.  Maybe I'm being influenced by the
seven registrants today. Earlier this weekend there was a day when there wasn't a
single registrant.  That doesn't happen often.  Maybe had you asked me on that
day I wouldn't have been so optimistic.</p>

<p><em>How about the hotel and the dorms?</em></p>

<p><strong>RD:</strong>Ahh....there's the rub.</p>

<p>Right now, I have 250 rooms reserved in the same hotel facility that is
hosting the conference.  I have 100 rooms reserved in a university dorm about
1km away from the conference, for students or other people who are
particularly cost-conscious.  I also have 50 rooms reserved in a hotel that is
part of the same university that has the dorm rooms, so that's also about 1km 
away from the conference facility.  So, we have plenty for the whole
conference.</p>

<p>But...</p>

<p>The group reservation for the 250 rooms at the hotel facility expires on
May 12.  At that point, any unbooked rooms go back on the open market.
They're still bookable with the conference code, but they just aren't
reserved for us.  So they'll probably be sold to the public with a
half-life of 4 days.</p>

<p>Toronto is notoriously under-served by hotels, and compounding this is that
AA is having its 75th anniversary conference in Toronto on June 30th and July
1.  That conference is bringing 79,000 people into the city.  The 'thin tail'
of AA conference attendees who want to come to Toronto a bit early to do some
touristing before their conference starts will put a great deal of
strain on the hotel availability in the city.</p>

<p><em>We call that the long snout.  Or the short snout, I forget.</em></p>

<p><strong>RD:</strong> Right!  That's a better term.  I was wondering what to
call it.</p>

<p>Looking at things from the opposite direction, YAPC attendees who decide at
the last minute that they want to spend a few extra days in Toronto after the
conference ends will be S.O.L. trying to find a hotel.  So I'm concerned about
all this.</p>

<p>Looking at the registration figures from the previous few years of YAPCs,
about 40% of attendees register in the last 2.5 weeks.  So for YAPC this year,
that would mean 40% registering June 6 and after.  There will still be a few
rooms left in the dorms and the hotel attached to the university that contains
the dorms (our booking arrangements are slightly different with them), but
still, there will be a distinct shortage of hotel rooms.</p>

<p><em>Anything else to say in closing?</em></p>

<p><strong>RD:</strong> YAPC is the Perl conference by Perl programmers, for
Perl programmers (and people who think they might like to be Perl
programmers).  Everyone in the Toronto.pm organizing team is doing it because
we all feel so fortunate for all the support we have received from our fellow
Perl Mongers around the world, and we feel privileged to return the generosity
as best we can through the conference.</p>

<p>We hope you can join us in Toronto for the conference, and we're hoping to
make it a memorable one for everyone.</p>

<!-- sidebar begins -->
 <csperl file="grab" domain="on" record="b/1714" template="b/article_sidebar2.view">
<!-- sidebar ends -->

        </div>



    </div>
    <div class="asset-footer"></div>
</div>


                            
                            <div id="entry-768" class="entry-asset asset hentry">
    <div class="asset-header">
        <h2 class="asset-name entry-title"><a href="/pub/2005/05/05/aggregation.html" rel="bookmark">Massive Data Aggregation with Perl</a></h2>
        <div class="asset-meta">
            <span class="byline">
    
                By <span class="vcard author">Fred Moyer</span> on <abbr class="published" title="2005-05-05T00:00:00-08:00">May  5, 2005 12:00 AM</abbr>
    
            </span>

            
            

        </div>
    </div>
    <div class="asset-content entry-content">

        <div class="asset-body">
            
<!-- sidebar begins -->
<!-- don't move sidebars-->
<!-- sidebar ends -->
<p>This article is a case study of the use of <a
href="http://www.perl.org/">Perl</a> and <a
href="http://www.w3.org/XML/">XML</a>/<a href="http://www.w3.org/RDF/">RDF</a>
technologies to channel disparate sources of data into a semi-structured
repository. This repository helped to build structured <a
href="http://en.wikipedia.org/wiki/OLAP">OLAP</a> warehouses by mining an RDF
repository with <a
href="http://search.cpan.org/~rbs/XML-SAX-Machines-0.41/lib/XML/SAX/Machines.pm">SAX
machines</a>. Channels of data included user-contributed datasets, data from
FTP and HTTP remote-based repositories, and data from other intra-enterprise
based assets.  We called the system the 'Kitchen Sync', but one of the project's visionaries best described it as akin to a device that accepts piles of random
coins and returns them sorted for analysis. This system collected voter data
and was the primary data collection point in a national organization for the
presidential campaign during the 2004 election.</p>

<h3>Introduction</h3>

<p>My initial question was why anyone would want to store data in XML/RDF
formats. It's verbose, it lacks widely accepted query interfaces (such as SQL),
and it generally requires more work than a database. XML, in particular, is a
great messaging interface, but a poor persistence medium.</p>

<p>Eventually, I concluded that this particular implementation did benefit from
the use of XML and RDF as messaging protocols. The messaging interface involved
the use of SAX machines to parse a queue of XML and RDF files. The XML files
contained the metadata for what we called polls, and the RDF files contained
data from those polls. We had a very large buffer, from which cron-based
processes frequently constructed data warehouses for analysis.</p>

<csperl file="grab" domain="on" record="b/708" template="b/article_sidebar.view">

<h3>Hindsight and Realizations</h3>

<p>The difficulty of this project was in the gathering of requirements and
vendor interfacing. When implementing application workflow, it is critical to
use a programming language that doesn't get in the way and allows you to do
what you want--and that is where Perl really shined. A language that allows
for quick development is an asset, especially in a rushed environment where
projects are due &quot;yesterday&quot;. The code samples here are not examples of how to
write great object-oriented Perl code. They are real world examples of the code
used to get things done in this project.</p>

<p>For example, when a voter-data vendor changed its poll format, our data
collection spiders stopped returned data and alerted our staff immediately. In
just minutes, we adapted our SAX machine to the vendor's new format and we had
our data streams back up and running. It would have taken hours or days to call
the vendor about the change and engage in a technical discussion to get them to
do things our way. Instead, Perl allowed us to adapt to their ways quickly and
efficiently.</p>

<h3>Project Goals</h3>

<p>The architects of this project specified several goals and metrics for the
application. The main goals--with the penultimate objective being to
accumulate as much data as possible before election day--were to:</p>

<ul>

<li><p>Develop a web-based application for defining metadata of polls, and
uploading sets of poll data to the system.</p>

<p>The application had to give the user the ability to define sets of questions
and answers known as polls. Poll metadata could contain related data contained
in documents of standard business formats (<em>.doc</em>, <em>.pdf</em>).
The users also needed an easy method, one that minimized possible errors,
to upload data to the system.</p></li>

<li><p>Meet requirements of adding 50 million new records per day.</p>

<p>That metric corresponds to approximately 578 records per second.
Assuming a non-linear load distribution over time, peak transaction
requirements were likely to be orders of magnitude higher than the
average of 578 per second.</p></li>

<li><p>Develop a persistent store for RDF and XML data representing
polls and poll data.</p>

<p>The web application had to generate XML documents from poll definitions and
RDF documents from uploaded poll data.  We stored the poll data in RDF. We
needed an API to manage these documents.</p></li>

<li><p>Develop a mechanized data collection system for the retrieval of data from
FTP- and HTTP-based data repositories.</p>

<p>The plan was to assimilate data sources into our organization from several
commercial and other types of vendors. Most vendors had varying schemas and
formats for their data. We wanted to acquire as much data as possible before
the election to gauge voter support levels and other key metrics crucial to
winning a political election.</p></li>

</ul>

<h3>Web Application</h3>

<p>When I started this project, I had been using <a
href="http://perl.apache.org/docs/2.0/index.html">mod_perl2</a> extensively in
prototyping applications and also as a means of finding all of the cool new
features. Mod_perl2 had proven itself stable enough to use in production, so I
implemented a Model-View-Controller application design pattern using a native
mod_perl2 and an <a
href="http://httpd.apache.org/apreq/docs/libapreq2/">libapreq2</a>-enabled <a
href="http://httpd.apache.org/">Apache server</a>. I adopted the controller
design patterns from recipes in the <a
href="http://www.modperlcookbook.org/">Modperl Cookbook</a>. The model classes
subclassed <a href="http://www.sleepycat.com/products/xml.shtml">Berkeley
DBXML</a> and <a
href="http://search.cpan.org/perldoc?XML::LibXML">XML::LibXML</a> for object
methods and persistence.  We used <a
href="http://search.cpan.org/perldoc?Template">Template Toolkit</a> to
implement views. (I will present more about the specifics of the persistence
layer later in this article.)</p>

<p>Of primary importance with the web application component of the system was
ease of use. If the system was not easy to use, then we would likely receive
less data as a result of user frustration. The component of the web application
that took extended transaction processing time was the poll data upload
component.</p>

<p>If the user uploads a 10MB file on a 10Kbps upstream
connection (common for residential DSL lines), the transaction would take
approximately twenty minutes. On a 100Kbps upstream connection
(business grade DSL), the transaction would take two minutes--certainly much
longer than most unsuspecting users would wait before clicking on the browser
refresh button.</p>

<p>To prevent the user from accidentally corrupting the lengthy upload process,
I created a monitoring browser window which opened via the following <a
href="http://www.mozilla.org/js/">JavaScript</a> call when the user clicked the
upload button.</p>

<pre><code>&lt;input type=submit name='submit' value='Upload'
    onClick=&quot;window.open('/ksync/dataset/monitor', 'Upload',
       'width=740,height=400')&quot;&gt;</code></pre>

<p>The server forked off a child process which read the upload status from a <a
href="http://www.sleepycat.com/products/db.shtml">BerkeleyDB</a> database. The
parent process used a <a href="http://httpd.apache.org/apreq/">libapreq</a> <a
href="http://httpd.apache.org/apreq/docs/libapreq2/group__apreq__xs__request.html#item_upload_hook">UPLOAD_HOOK</a>-based approach to measure the amount of data uploaded, and to write that plus a few other metrics to the BerkeleyDB database. The following is a snippet of
code from the upload handler:</p>

<pre><code>&lt;Location /ksync/poll/data/progress&gt;
    PerlResponseHandler KSYNC::Apache::Data::Upload-&gt;progress
&lt;/Location&gt;

sub progress : method {
    my ( $self, $r ) = @_;

    # We deal with commas and tabs as delimiters currently
    my $delimiter;

    # Create a BerkeleyDB to keep track of upload progress
    my $db = _init_status_db( DB_CREATE );

    # Get the specifics of the poll we're getting data for
    my $poll = $r-&gt;pnotes('SESSION')-&gt;{'poll'};

    # Generate a unique identifier for files based on the poll
    my $id = _file_id($poll);

    # Store any data which does not validate according to the poll schema
    my $invalid = IO::File-&gt;new();
    my $ivfn = join '', $config-&gt;get('data_root'), '/invalid/', $id, '.txt';
    $invalid-&gt;open(&quot;&gt; $ivfn&quot;);

    # Set the rdf filename
    my $gfn = join '', $config-&gt;get('data_root'), '/valid/', $id, '.rdf';

    # Create an RDF document object to store the data
    my $rdf = KSYNC::Model::Poll::Data::RDF-&gt;new(
                $gfn, 
                $poll,
                $r-&gt;pnotes('SESSION')-&gt;{'creator'}, 
                DateTime-&gt;now-&gt;ymd, 
    );

    # Get the poll questions for to make sure the answers are valid
    my $questions = $poll-&gt;questions;

    # Create a data structure to hold the answers to validate against.
    my @valid_answers = _valid_answers($questions);

    # And a data structure to hold the validation results
    my $question_data = KSYNC::Model::Poll::validation_results($questions);

    # Set progress store parameters
    my $length              = 0;
    my $good_lines_total    = 0;
    my $invalid_lines_total = 0;
    my $began;              # Boolean to determine if we've started parsing data
    my $li                  = 1;    # Starting line number

    # The subroutine to process uploaded data
    my $fragment;
    my $upload_hook = sub {
        my ( $upload, $data, $data_len, $hook_data ) = @_;

        if ( !$began ) {   # If this is the first set check the array length

            # Chop up the stream
            my @lines = split &quot;\n&quot;, $data;

            # Determine the delimiter for this line
            $delimiter = _delimiter(@lines);

            unless ( ( split( /$delimiter/, $lines[0] ) ) ==
                scalar( @{$question_data} ) + 1 )
            {
                $db-&gt;db_put( 'done', '1' );
                
                # The dataset isn't valid, so throw an exception
                KSYNC::Apache::Exception-&gt;throw('Invalid Dataset!');
            }
        }

        # Mark the start up the upload
        $began = 1;

        # Validate the data against the poll answers we've defined
        my ( $good_lines, $invalid_lines );

        ( $good_lines, $invalid_lines, $question_data, $li, $fragment ) =
          KSYNC::Model::Poll::Data::validate( \@valid_answers, 
                                              $data, 
                                              $question_data,
                                              $li, 
                                              $delimiter, 
                                              $fragment );

        # Keep up the running count of good and invalid lines
        $good_lines_total     += scalar( @{$good_lines} );
        $invalid_lines_total  += scalar( @{$invalid_lines} );

        # Increment the number of bytes processed
        $length += length($data);

        # Update the status for the monitor process
        $db-&gt;db_put(
                     valid     =&gt; $good_lines_total,
                     invalid   =&gt; $invalid_lines_total,
                     bytes     =&gt; $length,
                     filename  =&gt; $upload-&gt;filename,
                     filetype  =&gt; $upload-&gt;type,
                     questions =&gt; $question_data,
                   );

        # And store the data we've collected
        $rdf-&gt;write( $good_lines ) if scalar( @{$good_lines} );

        # Write out any invalid data points to a separate file
        _write_txt( $invalid, $invalid_lines ) if scalar( @{$invalid_lines} );
    };

    my $req = Apache::Request-&gt;new(
        $r,
        POST_MAX    =&gt; 1024 * 1024 * 1024,    # One Gigabyte
        HOOK_DATA   =&gt; 'Note',
        UPLOAD_HOOK =&gt; $upload_hook,
        TEMP_DIR    =&gt; $config-&gt;get('temp_dir'),
    );

    my $upload = eval { $req-&gt;upload( scalar +( $req-&gt;upload )[0] ) };
    if ( ref $@ and $@-&gt;isa(&quot;Apache::Request::Error&quot;) ) {

        # ... handle Apache::Request::Error object in $@
        $r-&gt;headers_out-&gt;set( Location =&gt; 'https://'
              . $r-&gt;construct_server
              . '/ksync/poll/data/upload/aborted' );
        return Apache::REDIRECT;
    }

    # Finish up
    $invalid-&gt;close;
    $rdf-&gt;save;

    # Set status so the progress window will close
    $db-&gt;db_put('done', 1');
    undef $db;
    
    # Send the user to the summary page
    $r-&gt;headers_out-&gt;set(
      Location =&gt; join('', 
                       'https://', 
                       $r-&gt;construct_server, 
                       '/poll/data/upload/summary',
                      )                   
    );
    return Apache::REDIRECT; 
}</code></pre>

<p>During the upload process, the users saw a status window which refreshed
every two seconds and had a pleasant animated GIF to enhance their experience,
as well as several metrics on the status of the upload. One user uploaded a
file that took 45 minutes because of a degraded network connection, but the
uploaded file had no errors.</p>

<p>The system converted <a
href="http://en.wikipedia.org/wiki/Comma-separated_values">CSV</a> files that
users uploaded into RDF and saved them to the RDF store during the upload
process. Because of the use of the UPLOAD_HOOK approach for processing uploaded
data, the mod_perl-enabled Apache processes never grew in size or leaked memory
as a result of handling the upload content.</p>













<h3>Poll and Poll Data Stores</h3>

<p>Several parties involved raised questions about the use of XML and RDF as
persistence mediums. Why not use a relational database? Our primary reasons for
deciding against a relational database were that we had several different
schemas and formats of incoming data, and we needed to be able to absorb huge
influxes of data in very short time periods.</p>

<p>Consider how a relational database could have handled the variation in
schemas and formats. Creating vendor-specific drivers to handle each format
would have been straightforward. To handle the variations in schema, we could
have normalized each data stream and its attributes so that we could store all
the data in source, object, attribute, and value tables. The problem with that
approach is that you get one really big table with all the values, which
becomes more difficult to manage as time goes on. Another possible approach,
which I have used in the past, is to create separate tables for each data
stream to fit the schema, and then use the power of left, right, and outer
joins to extract the needed information. It scales much better than the first
approach but it is not as well suited for data mining as warehouses are.</p>

<p>With regard to absorbing a lot of data very quickly, transactional
relational databases have limitations when you insert or update data in a table
with many rows. Additionally, the insert and update transactions are not
asynchronous. When inserting or updating a record, the transaction will not
complete until the indexes associated with the indexed fields of that record have
updated.  This slows down as the database grows in size.</p>

<p>We wanted the transactions between users, machines, and the Kitchen Sync to
be as asynchronous as possible. Our ability to take in data in RDF format would
not degrade with increasing amounts of data already taken in before warehousing
for analysis. Data exchange challenges between vendors and us included a few large
transactions in RDF format per data set, and how the length of the transaction
time depended solely on the speed of the network connection between the vendor
and our data center.</p>

<p>With the decision to use XML for storing poll metadata and RDF for storing
poll data in place, we turned our attention to the specifics of the persistence
layer.  We stored the poll objects in XML, as shown in this example:</p>

<pre><code>
&lt;?xml version=&quot;1.0&quot;?&gt;
&lt;poll&gt;
    &lt;creator&gt;Fred Moyer&lt;/creator&gt;
    &lt;date&gt;2005-03-01&lt;/date&gt;
    &lt;vendor&gt;Voter Data Inc.&lt;/vendor&gt;
    &lt;location&gt;https://www.voterdatainc.com/poll/1234&lt;/location&gt;
    &lt;questions&gt;
        &lt;question&gt;
            &lt;name&gt;Who is buried in Grant's Tomb?&lt;/name&gt;
            &lt;answers&gt;
                &lt;answer&gt;
                    &lt;name&gt;Ulysses Grant&lt;/name&gt;
                    &lt;value&gt;0&lt;/value&gt;
                &lt;/answer&gt;
                &lt;answer&gt;
                    &lt;name&gt;John Kerry&lt;/name&gt;
                    &lt;value&gt;1&lt;/value&gt;
                &lt;/answer&gt;
                &lt;answer&gt;
                    &lt;name&gt;George Bush&lt;/name&gt;
                    &lt;value&gt;2&lt;/value&gt;
                &lt;/answer&gt;
                &lt;answer&gt;
                    &lt;name&gt;Alfred E.  Neumann&lt;/name&gt;
                    &lt;value&gt;3&lt;/name&gt;
                &lt;/answer&gt;
            &lt;/answers&gt;
        &lt;/question&gt;
    &lt;/questions&gt;
    &lt;media&gt;
        &lt;pdf&gt;
            &lt;name&gt;Name of a PDF file describing this poll&lt;/name&gt;
            &lt;raw&gt;The raw contents of the PDF file&lt;/raw&gt;
            &lt;text&gt;The text of the PDF file, generated with XPDF libs&lt;/text&gt;
        &lt;/pdf&gt;
    &lt;/media&gt;
&lt;/poll&gt;</code></pre>

<p>We also needed an API to manage those documents. We chose <a
href="http://www.sleepycat.com/products/xml.shtml">Berkeley DBXML</a> because
of its simple but effective API and its ability to scale to terabyte size if
needed. We created a poll class which subclassed the Sleepycat and XML::LibXML
modules and provided some Perlish methods for manipulating polls.</p>

<pre><code>package KSYNC::Model::Poll;

use strict;
use warnings;

use base qw(KSYNC::Model);
use SleepyCat::DbXml qw(simple);
use XML::LibXML;
use KSYNC::Exception;

my $ACTIVITY_LOC = 'data/poll.dbxml';

BEGIN {
    # Initialize the DbXml database
    my $container = XmlContainer-&gt;new($ACTIVITY_LOC);
}

# Call base class constructor KSYNC::Model-&gt;new
sub new {
    my ($class, %args) = @_;

    my $self = $class-&gt;SUPER::new(%args);
    return $self;
}

# Transform the poll object into an xml document
sub as_xml {
    my ($self, $id) = @_;
    
    my $dom = XML::LibXML::Document-&gt;new();
    my $pi = $dom-&gt;createPI( 'xml-styleshet', 
                             'href=&quot;/css/poll.xsl&quot; type=&quot;text/xsl&quot;' );
    $dom-&gt;appendChild($pi);
    my $element = XML::LibXML::Element-&gt;new('Poll');

    $element-&gt;appendTextChild('Type',        $self-&gt;type);
    $element-&gt;appendTextChild('Creator',     $self-&gt;creator);
    $element-&gt;appendTextChild('Description', $self-&gt;description);
    $element-&gt;appendTextChild('Vendor',      $self-&gt;vendor);
    $element-&gt;appendTextChild('Began',       $self-&gt;began);
    $element-&gt;appendTextChild('Completed',   $self-&gt;completed);

    my $questions = XML::LibXML::Element-&gt;new('Questions');

    for my $question ( @{ $self-&gt;{question} } ) {
        $questions-&gt;appendChild($question-&gt;as_element);
    }

    $element-&gt;appendChild($questions);

    $dom-&gt;setDocumentElement($element);
    return $dom;
}

sub save {
    my $self = shift;

    # Connect to the DbXml databae
    $container-&gt;open(Db::DB_CREATE);

    # Create a new document for storage from xml serialization of $self
    my $doc = XmlDocument-&gt;new();
    $doc-&gt;setContent($self-&gt;as_xml);
    
    # Save, throw an exception if problems happen
    eval { $container-&gt;putDocument($doc); };
    KSYNC::Exception-&gt;throw(&quot;Could not add document: $@&quot;) if $@;

    # Return the ID of the newly added document
    return $doc-&gt;getID();
}</code></pre>

<p>We chose RDF as the format for poll data because the format contains links
to resources that describe the namespaces of the document, making the document
self-describing. The availability of standardized namespaces such as <a
href="http://dublincore.org/">Dublin Core</a> gave us predefined tags such as
<code>dc:date</code> and <code>dc:creator</code>. We added our own namespaces
for representation of poll data. Depending on what verbosity of data the
vendors kept, we could add <code>dc:date</code> tags to different portions of
the document to provide historical references. We constructed our URLs in a <a
href="http://en.wikipedia.org/wiki/REST">REST</a> format for all web-based
resources.</p>

<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;rdf:RDF
	xmlns:RDF=&quot;http://www.w3.org/1999/02/22-rdf-syntax-ns#&quot;
        xmlns:dc=&quot;http://purl.org/dc/elements/1.1/&quot;
	xmlns:ourparty=&quot;http://www.ourparty.org/xml/schema#&quot;&gt;
	
	&lt;rdf:Description rdf:about=&quot;http://www.ourparty.org/poll/1234&quot;&gt;
	    &lt;dc:date&gt;2004-10-14&lt;/dc:date&gt;
            &lt;dc:creator&gt;fmoyer@plusthree.com&lt;/dc:creator&gt;
        &lt;/rdf:Description&gt;
        
        &lt;rdf:Bag&gt;
        &lt;rdf:li ourparty:id=&quot;6372095736&quot; ourparty:question=&quot;1&quot;
		    ourparty:answer=&quot;1&quot; dc:date=&quot;2005-03-01&quot; /&gt;
        &lt;rdf:li ourparty:id=&quot;2420080069&quot; ourparty:question=&quot;2&quot;
            ourparty:answer=&quot;3&quot; dc:date=&quot;2005-03-02&quot; /&gt;
	&lt;/rdf:Bag&gt;
&lt;/rdf:RDF&gt;</code></pre>

<p>We used <a href="http://search.cpan.org/perldoc?XML::SAX::Machines">SAX
machines</a> as drivers to generate summary models of RDF files and <a
href="http://search.cpan.org/perldoc?XML::LibXML">LibXML</a> streaming parsers
to traverse the RDF files.  We stacked drivers by using <a
href="http://search.cpan.org/perldoc?XML::SAX::Pipeline">pipelined SAX
machines</a> and constructed SAX drivers for the different vendor data schemas.
Cron-based machines scanned the RDF store, identified new poll data, and
processed them into summary XML documents which we served to administrative
users via XSLT transformations. Additionally, we used the SAX machines to
create denormalized SQL warehouses for data mining.</p>

<p>An example SAX driver for Voter Data, Inc. RDF poll data:</p>

<pre><code>package KSYNC::SAX::Voterdatainc;

use strict;
use warnings;

use base qw(KSYNC::SAX);

my %NS = (
    rdf      =&gt; 'http://www.w3.org/1999/02/22-rdf-syntax-ns#',
    dc       =&gt; 'http://purl.org/dc/elements/1.1/',
    ourparty =&gt; 'http://www.ourparty.org/xml/schema#',
);

my $VENDOR = 'Voter Data, Inc.';

sub new {
    my $class = shift;

    # Call the super constructor to create the driver
    my $self = $class-&gt;SUPER::new(@_, { vendor =&gt; $VENDOR });

    return $self;
}

sub start_element {
    my ($self, $data) = @_;
    
    # Process rdf:li elements
    if ( $data-&gt;{Name} eq 'rdf:li' ) {
    
        # Grab the data
        my $id      = $data-&gt;{Attributes}{ &quot;{$NS{ourparty}}id&quot; }{Value};
        my $answer  = $data-&gt;{Attributes}{ &quot;{$NS{ourparty}}answer&quot; }{Value};
        my $creator = $data-&gt;{Attributes}{ &quot;{$NS{dc}}creator&quot; }{Value};
        my $date    = $data-&gt;{Attributes}{ &quot;{$NS{dc}}date&quot; }{Value};

        # Map the data to a common response
        $self-&gt;add_response({ vendor        =&gt; $VENDOR,
                              voter_id      =&gt; $id, 
                              support_level =&gt; $answer, 
                              creator       =&gt; $creator,
                              date          =&gt; $date,
                           });

        # Call the base class start_element method to do something with the data
        $self-&gt;SUPER::start_element($data);
}

1;</code></pre>

<p>We stored RDF documents compressed in bzip2 format, because bzip2
compression algorithm is especially efficient at compressing repeating element
data. As shown below in the SAX machine example, using <code>bzcat</code> as
the intake to a pipeline parser allowed decompression of the bzip2 documents for
parsing and creating a summary of a poll data set.</p>

<pre><code>#!/usr/bin/env perl

use strict;
use warnings;

use KSYNC::SAX::Voterdatainc;
use XML::SAX::Machines qw(Pipeline);

# The poll data
my $rdf = 'data/voterdatainc/1759265.rdf.bz2';

# Create a vendor specific driver
my $driver = KSYNC::SAX::Voterdatainc-&gt;new();

# Create a driver to add the data to a data warehouse handle
my $dbh = KSYNC::DBI-&gt;connect();
my $warehouser = KSYNC::SAX::DBI-&gt;new(
                    source =&gt; 'http://www.voterdatainc/ourparty/poll.xml',
                    dbh    =&gt; $dbh,
                );

# Create a parser which uncompresses the poll data set, summarizes it, and 
# outputs data to a filter which warehouses the denormalized data
my $parser = Pipeline(
                &quot;bzcat $rdf |&quot; =&gt;
                $driver        =&gt; 
                $warehouser    =&gt; 
;

# Parse the poll data
$parser-&gt;parse();

# Summarize the poll data
print &quot;Average support level:  &quot;,   $driver-&gt;average_support_level, &quot;\n&quot;;
print &quot;Starting date:  &quot;, 	    $driver-&gt;minimum_date, &quot;\n&quot;;
print &quot;Ending date:  &quot;, 	    $driver-&gt;maximum_date, &quot;\n&quot;;</code></pre>

<p>Between the polls, the XML Schema dictionaries, and the RDF files, we know
who the polls contacted, what they saw, and how they responded. A major benefit
of keeping the collected information in RDF format is the preservation of
historical information. We constructed SQL warehouses to analyze changes in
voter support levels over time.  This was critical for measuring the effect of
events such as presidential debates on voter interest and support.</p>

<p>Using RDF also provided us with the flexibility to map new data sources as
needed. If a vendor collected some information which we had not processed
before, they would add an <code>about</code> tag such as
<code>&lt;rdf:Description
rdf:about=&quot;http://www.datavendor.com/ourparty/poll5.xml&quot; /&gt;</code> , which
we would map to features of our SAX machines as needed.</p>

<p>We added some hooks to the SAX machines to match certain URIs and then
process selected element data. Late in the campaign, when early voting
started, we were able to quickly modify our existing SAX machines to collect
early voting data from the data streams and produce SQL warehouses for
analysis.</p>













<h3>Mechanization of Data Collection</h3>

<p>A major focus of the application was retrieving data from remote sources.
Certain vendors used our secure FTP site to send us data, but most had web and
FTP sites to which they posted the information. We needed a way to collect data
from those servers. Some vendors were able to provide data to us in XML and RDF
formats, but for the most part, we would receive data in CSV, TSV, or some
form of XML.  Each vendor generally had supplementary data beyond the normal
voter data fields which we also wanted to capture. Using that additional data
was not an immediate need, but by storing it in RDF format we could extract it
and generate SQL warehouses whenever necessary.</p>

<p>We developed a part of the application known as the spider and created a
database table containing information on the data source authentication,
protocol, and data structure details. A factory class
<code>KSYNC::Model::Spider</code> read the data source entries and constructed
spider objects for each data source. These spiders used <a
href="http://search.cpan.org/perldoc?Net::FTP">Net::FTP</a> and <a
href="http://search.cpan.org/perldoc?LWP">LWP</a> to retrieve poll data, and
processed the data using the appropriate <code>KSYNC::SAX</code> machine. To
add a new data source to our automated collection system, an entry in the
database configured the spider, and if the new data source had data in a format
that we did not support, we added a SAX machine for that data source.</p>

<p>An example of spider usage:</p>

<pre><code>package KSYNC::Model::Spider;

use strict;
use warnings;

use Carp 'croak';
use base 'KSYNC::Model';

sub new {
    my ($class, %args) = @_;
    
    # Create an FTP or HTTP spider based on the type specified in %args
    my $spider_pkg = $class-&gt;_factory($args{type});
    my $self = $spider_pkg-&gt;new(%args);

    return $self;
}

sub _factory {
    my ($class, $type) = @_;

    # Create the package name for the spider type
    my $pkg = join '::', $class, $type;
    
    # Load the package
    eval &quot;use $pkg&quot;;
    croak(&quot;Error loading factory module: $@&quot;) if $@;

    return $pkg;
}

1;

package KSYNC::Model::Spider::FTP;

use Net::FTP;
use KSYNC::Exception;

sub new {
    my ($class, %args) = @_;
    
    my $self = { %args };

    # Load the appropriate authentication package via Spider::Model::Auth 
    # factory class
    $self-&gt;{auth} = Spider::Model::Auth-&gt;new(%{$args{auth}});

    return bless $self, $class;
}

sub authenticate {
    my $self = shift;
    
    # Login
    eval { $self-&gt;ftp-&gt;login($self-&gt;auth-&gt;username, $self-&gt;auth-&gt;password); };
     
    # Throw an exception if problems occurred
    KSYNC::Exception-&gt;throw(&quot;Cannot login &quot;, $self-&gt;ftp-&gt;message) if $@;
}

sub crawl {
    my $self = shift;
    
    # Set binary retrieval mode
    $self-&gt;ftp-&gt;binary;

    # Find new poll data
    my @datasets = $self-&gt;_find_new();

    # Process that poll data
    foreach my $dataset (@datasets) {
        eval { $self-&gt;_process($dataset); };
        $self-&gt;error(&quot;Could not process poll data $dataset-&gt;id&quot;, $@) if $@;
    }
}

sub ftp { 
    croak(&quot;Method Not Implemented!&quot;) if @_ &gt; 1; 
    $_[0]-&gt;{ftp} ||= Net::FTP-&gt;new($self-&gt;auth-&gt;host); 
}

1;

#!/usr/bin/env perl

use strict;
use warnings;

use KSYNC::Model::Spider;
use KSYNC::Model::Vendor;

# Retrieve a vendor so we can grab their latest data
my $vendor = KSYNC::Model::Vendor-&gt;retrieve({ 
  name =&gt; 'Voter Data, Inc.',
});

# Construct a spider to crawl their site
my $spider = KSYNC::Model::Spider-&gt;new({ type =&gt; $vendor-&gt;type });

# Login
$spider-&gt;login();

# Grab the data
$spider-&gt;crawl();

# Logout
$spider-&gt;logout();

1;</code></pre>

<h3>Conclusions</h3>

<p>In this project, getting things done was of paramount importance.  Perl
allowed us to deal with the complexities of the business requirements and the
technical details of data schemas and formats without presenting additional
technical obstacles, as programming languages occasionally do. The <a
href="http://www.cpan.org">CPAN</a>, <a
href="http://perl.apache.org">mod_perl</a>, and <a
href="http://httpd.apache.org/apreq">libapreq</a> provided the components that
allowed us to quickly build an application to deal with complex, semi-structured
data on an enterprise scale. From creating a user friendly web application to
automating data collection and SQL warehouse generation, Perl was central to
the success of this project.</p>

<h3>Credits</h3>

<p>Thanks to the following people who made this possible and contributed to
this project: Thomas Burke, Charles Frank, Lyle Brooks, Lina Brunton, Aaron
Ross, Alan Julson, Marc Schloss, and Robert Vadnais.</p>

<p>Thanks to <a href="http://www.plusthree.com/">Plus Three LP</a> for
sponsoring work on this project.</p>



        </div>



    </div>
    <div class="asset-footer"></div>
</div>


                            
                            <div id="entry-764" class="entry-asset asset hentry">
    <div class="asset-header">
        <h2 class="asset-name entry-title"><a href="/pub/2005/04/p6pdigest/20050505.html" rel="bookmark">This Week in Perl 6, April 26 - May 3, 2005</a></h2>
        <div class="asset-meta">
            <span class="byline">
    
                By <span class="vcard author">Matt Fowles</span> on <abbr class="published" title="2005-05-05T00:00:00-08:00">May  5, 2005 12:00 AM</abbr>
    
            </span>

            
            

        </div>
    </div>
    <div class="asset-content entry-content">

        <div class="asset-body">
            
<!-- sidebar begins -->
<!-- don't move sidebars-->
<!-- sidebar ends -->
<p>All,</p>

<p>Welcome to another week's summary. This week I shall endeavor not to delete
my summary accidentally or destroy the world. Here we go with p6c.</p>

<h3>Perl 6 Compilers</h3>

<h4><a
href="http://groups-beta.google.com/group/perl.perl6.compiler/browse_frm/thread/69683b9aa7be224e/04e2d9f3c1e0a485#04e2d9f3c1e0a485">Implicit
<code>$_</code> on <code>for</code> Loops</a></h4>

<p>Kiran Kumar found a bug in Pugs involving <code>for</code> loops which use
<code>$_</code> but don't iterate over it. Aaron Sherman and Luke Palmer
confirmed the bug. There's no word as to its final status, but given the rate
of development of Pugs...</p>

<h4><a
href="http://groups-beta.google.com/group/perl.perl6.compiler/browse_frm/thread/7ba880a18e930ef0/eb57bb2f9e835725#eb57bb2f9e835725">Pugs
Darcs Trouble</a></h4>

<p>Glenn Ehrlich noticed that Pugs' Darcs repository wasn't updating. Sam
Vilain explained that occasionally a daemon needed kicking.</p>

<h4><a
href="http://groups-beta.google.com/group/perl.perl6.compiler/browse_frm/thread/27c9aa32b07143ac/d66c656ee7ac6104#d66c656ee7ac6104">Memory
Game v0.2</a></h4>

<p>B&Aacute;RTH&Aacute;ZI Andr&aacute;s announced the release of the latest version of
Memory.  He also put out a call for 85x75 pixel photos for the next
version.</p>

<h4><a
href="http://groups-beta.google.com/group/perl.perl6.compiler/browse_frm/thread/3b3b13aba5edc94a/71bcde78a82cf6e4#71bcde78a82cf6e4">Haddock
for Pugs</a></h4>

<p>Stuart Cook decided that the easiest way for him to understand Pugs
internals was to provide better documentation. To that end he started working
with <a href="http://haskell.org/haddock/">Haddock</a> to automatically
generate cross-linked documentation for Pugs. He even met with some
success.</p>

<h4><a
href="http://groups-beta.google.com/group/perl.perl6.compiler/browse_frm/thread/666781ac15240dd4/f454e750eba3d680#f454e750eba3d680"><code>is
export</code> Trait</a></h4>

<p>Garrett Rooney wondered why the <code>is export</code> trait appeared to do
nothing in Pugs. Stevan Little explained that it was just a place holder which,
though it parses, does nothing semantically yet.</p>

<h4><a
href="http://groups-beta.google.com/group/perl.perl6.compiler/browse_frm/thread/1972b001c76c652c/c8cfa416b5e7a7c7#c8cfa416b5e7a7c7">Pugs
6.2.2</a></h4>

<p>Autrijus proudly announced the release of Pugs 6.2.2. It features many, many changes. High on the list is a bunch of speed ups, and also thread-safe,
deadlock-free internal storage.</p>

<h4><a
href="http://groups-beta.google.com/group/perl.perl6.compiler/browse_frm/thread/1972b001c76c652c/c8cfa416b5e7a7c7#c8cfa416b5e7a7c7">Pugs
on Cygwin</a></h4>

<p>Rob Kinyon noticed that Pugs had trouble on Cygwin. He has made some headway
rectifying the situation, although work remains to be done.</p>

<h4><a
href="http://groups-beta.google.com/group/perl.perl6.compiler/browse_frm/thread/9483fd2a5aec22e9/54c6a4194d06bb4d#54c6a4194d06bb4d">Pugs
TODO Model</a></h4>

<p>Stevan has put some more thought into the TODO model for Pugs. His latest
suggestion, annotating TODO tests with a flag indicating why they are not
passing, seems a little less hackish then the last one and received general
support.</p>

<h4><a
href="http://groups-beta.google.com/group/perl.perl6.compiler/browse_frm/thread/b671d5f9c4af29f7/21ab762083e523b7#21ab762083e523b7">Parrot
Hiding Inside Pugs</a></h4>

<p>Autrijus wanted to embed the newly released PGE, which is PIR code that runs
on Parrot. He decided to embed Parrot into Pugs. He also posted an
interesting link to <a
href="http://repetae.net/john/computer/jhc/jhc.html">JHC</a> as a possible
bootstrap solution.</p>

<h4><a
href="http://groups-beta.google.com/group/perl.perl6.compiler/browse_frm/thread/013c11d7818c06ce/989a407cc3427641#989a407cc3427641">New
PGE Released</a></h4>

<p>Maybe I should have mentioned this first.  Patrick R. Michaud released a new
version of the Parrot Grammar Engine. It is entirely PIR code and generates PIR
code. It has many features but not enough tests...
&lt;cough&gt;hint&lt;/cough&gt;.</p>

<h3>Parrot</h3>

<h4><a
href="http://groups-beta.google.com/group/perl.perl6.internals/browse_frm/thread/c84185258e7e0d7b/f7f3543949eda594#f7f3543949eda594">Monthly
Release? </a></h4>

<p>Jared Rhine wondered if the monthly releases included April. Chip announced
that April's release would be slushier then most, but would start on the
fourth.</p>

<h4><a
href="http://groups-beta.google.com/group/perl.perl6.internals/browse_frm/thread/b03818f8c24a714d/bc38b1b8f82072c2#bc38b1b8f82072c2"><em>t/op/debuginfo.t</em>
Failure</a></h4>

<p>Fran&ccedil;ois Perrad noticed a failure in <code>debuginfo</code>. Leo
pointed out that it was an issue of flushing output handles. Francois provided
a patch (well, actually two patches). Warnock applies to the second.</p>

<h4><a
href="http://groups-beta.google.com/group/perl.perl6.internals/browse_frm/thread/59555e75b86096e7/417caf2641040a92#417caf2641040a92">ParTcl
Happy? </a></h4>

<p>Will Coleda thought that ParTcl's GC bugs had finally gone away.  Leo burst
his bubble. Apparently these GC bugs can disappear and reappear according to
sunspot activity.</p>

<h4><a
href="http://groups-beta.google.com/group/perl.perl6.internals/browse_frm/thread/28bb0c982dc96158/4bb715005cd477ff#4bb715005cd477ff">S1zzegfault
in <code>load_bytecode</code></a></h4>

<p>Nick Glencross submitted a patch fixing a segfault in
<code>load_bytecode</code>.  Jens pointed out that it should use
<code>real_exception</code> instead of <code>internal_exception</code>.
chromatic offered to write the test.  There is no official committed message
though.</p>

<h4><a
href="http://groups-beta.google.com/group/perl.perl6.internals/browse_frm/thread/f66e120a77b7dea1/a76a1532c9d73a71#a76a1532c9d73a71">Large
<code>PackFile</code> Tinker</a></h4>

<p>Leo implemented a change in the interpreter <code>PackFile</code> structure
which has been under discussion for a long time. Unfortunately, it has the
potential to break a lot of JIT stuff. Tests and fixes would be wonderful.</p>

<h4><a
href="http://groups-beta.google.com/group/perl.perl6.internals/browse_frm/thread/3355689f7d93ef77/efa3de4e8a1773d0#efa3de4e8a1773d0">PMC
Inheritance Issue</a></h4>

<p>Nicholas Clark had some trouble with his Perl5 PMCs. Later, he posted a &quot;mea
culpa&quot; email, but Leo provided some useful pointers anyway.</p>

<h4><a
href="http://groups-beta.google.com/group/perl.perl6.internals/browse_frm/thread/e5f150409499a4b9/e90b1895bf492ec0#e90b1895bf492ec0">RT
Cleanup</a></h4>

<p>Bernhard Schmalhofer cleaned out an old ticket from RT.</p>

<h4><a
href="http://groups-beta.google.com/group/perl.perl6.internals/browse_frm/thread/8e7c77c1e58a7a63/7521b02224111fd6#7521b02224111fd6">RFC
<code>assign Px, Py</code></a></h4>

<p>Some time ago, Leo requested comments on the semantics of <code>assign</code>. Brent
&quot;Dax&quot; Royal-Gordon tried to de-Warnock the thread with his support. He also
suggested a <code>clone</code> operator.</p>

<h4><a
href="http://groups-beta.google.com/group/perl.perl6.internals/browse_frm/thread/8614b5f46c5afef5/9127affc3fb8db0f#9127affc3fb8db0f">NULL
in <code>real_exception</code></a></h4>

<p>Nicholas Clark struggled with a NULL pointer deref in
<code>real_exception</code>. Leo pointed him toward the correct approach.</p>

<h4><a
href="http://groups-beta.google.com/group/perl.perl6.internals/browse_frm/thread/0ada304f7b12b3b9/78369daf6a33d1ec#78369daf6a33d1ec">Unary
Operator Overhaul</a></h4>

<p>Having finished overhauling the infix operators, Leo set to work updating
the unary operators to provide variants which allocate their results.</p>

<h4><a
href="http://groups-beta.google.com/group/perl.perl6.internals/browse_frm/thread/726a70c07d030bc9/b5218dafc585575b#b5218dafc585575b">Die
<code>die</code>, die! </a></h4>

<p>Leo announced that he was removing the <code>die</code> opcode and adding a
Bruce Willis opcode in its place. Unlike Mr. Willis, the <code>die_hard</code>
opcode actually <code>died</code> relatively easily.  Leo then renamed it to
just <code>die</code> out of popular demand.</p>

<h4><a
href="http://groups-beta.google.com/group/perl.perl6.internals/browse_frm/thread/5cc6fc1e15d9aca5/2ec2ad5764204fee#2ec2ad5764204fee">Core
Dump with Computed goto Core</a></h4>

<p>Nick Glencross found a core dump with the computed goto core. Leo explained
that a hackish attempted optimization caused it. He also fixed it.</p>

<h4><a
href="http://groups-beta.google.com/group/perl.perl6.internals/browse_frm/thread/6f24da5492f08cf3/fac81156831a7cce#fac81156831a7cce">Ignore
Generated Files in SVN</a></h4>

<p>Juergen Boemmels made SVN ignore some <em>.so</em> files. Leo asked if it
could also ignore <em>.rej</em> and <em>.orig</em> files.</p>

<h4><a
href="http://groups-beta.google.com/group/perl.perl6.internals/browse_frm/thread/3afbf12eccf3dd61/a49d30cc2e4850c2#a49d30cc2e4850c2"><code>DYNSUPER</code>
Issues</a></h4>

<p>Nicholas Clark found that <code>DYNSUPER</code> did not work well with his
dynamic classes. Leo provided a suggestion for something to try and also
suggested a <code>super</code> vtable call.</p>

<h4><a
href="http://groups-beta.google.com/group/perl.perl6.internals/browse_frm/thread/a86ffd2aa7f742c0/51154d82ec3ad392#51154d82ec3ad392">MMD
Type Info</a></h4>

<p>Autrijus wondered how Parrot carries around the type info for MMD. Leo
provided answers.</p>

<h4><a
href="http://groups-beta.google.com/group/perl.perl6.internals/browse_frm/thread/b00883386e35f9bb/f7f80c8c5ba7c896#f7f80c8c5ba7c896">IMC
HTTP Server</a></h4>

<p>Markus Amslser wrote a tiny webserver in IMC. This led to the
discovery of that the binary to ASCII transcoding is missing. Leo suggested
several possible solutions.</p>

<h4><a
href="http://groups-beta.google.com/group/perl.perl6.internals/browse_frm/thread/63537ac226178af4/cc3076d2e3060e93#cc3076d2e3060e93">Ponie's
Use of PMC Flag Bits</a></h4>

<p>Nicholas Clark asked how best to use the 8 private bits of PMC in Ponie.
His initial thought was to mark type with it. Leo suggested that adding the
type to the flag bits was unnecessary, as one can usually just call a vtable or
MMD function directly and the type will work out.</p>

<h4><a
href="http://groups-beta.google.com/group/perl.perl6.internals/browse_frm/thread/1a771b6b259aba13/264e518a2ae3e29a#264e518a2ae3e29a">Built-in MMDs as Methods</a></h4>

<p>Leo added support for calling built-in MMDs on objects as methods.</p>

<h4><a
href="http://groups-beta.google.com/group/perl.perl6.internals/browse_frm/thread/16710a4ac706a01e/49e7fa9bd58cb829#49e7fa9bd58cb829">Unary
and Infix Ops Update</a></h4>

<p>Leo posted a summary and TODO for his overhaul of opcodes that return new
results. Jerry Gay and Bob Rogers helped fill out the corners. Bob even
provided some tests.</p>

<h4><a
href="http://groups-beta.google.com/group/perl.perl6.internals/browse_frm/thread/c07a32bc11b665cc/d549c4a3dd3225ad#d549c4a3dd3225ad">Parrot
and Ref Counting</a></h4>

<p>Robin Redeker wondered why Parrot had decided to go with a non-ref counting
GC. Dan Sugalski took responsibility for the decision and explained his
motivations. Non-ref counting GCs are essentially simpler, cleaner, and faster.  You can get a more detailed answer from reading the thread or Dan's <a
href="http://www.sidhe.org/~dan/blog/archives/000200.html">Squawks of the
Parrot: What the heck is: Garbage Collection</a> from way back when.</p>

<h4><a
href="http://groups-beta.google.com/group/perl.perl6.internals/browse_frm/thread/6d7d76ccd034d582/bbf3b646460a8de9#bbf3b646460a8de9">Deprecate
<code>fast_call</code>? </a></h4>

<p>Leo mused that he would like to deprecate the <code>fast_call</code> PIR
construct.  No one squawked, so I call it officially deprecated.</p>

<h4><a
href="http://groups-beta.google.com/group/perl.perl6.internals/browse_frm/thread/66b98ffd6b21d491/7055c56da4e90399#7055c56da4e90399">Win32
Thread Primitives</a></h4>

<p>Vladimir Lipsky and Leo went back and forth a few times working out thread
primitives for Windows. I am not sure what state they finally reached.</p>

<h4><a
href="http://groups-beta.google.com/group/perl.perl6.internals/browse_frm/thread/06c1d2b53c317fda/739ced0badff1626#739ced0badff1626">Call
Syntax Abstraction</a></h4>

<p>Leo posted a proposal for a calling convention abstraction. No comments have
appeared yet, but it has not been up for long.</p>

<h4><a
href="http://groups-beta.google.com/group/perl.perl6.internals/browse_frm/thread/06bc2256eb0fa02f/4764b4627545d841#4764b4627545d841">Tailcalls
in PIR</a></h4>

<p>Patrick R. Michaud wondered if PIR supported tailcalls and tailmethods yet.
Leo provided a few pointers. Bob Rogers suggested a nice syntax, which Leo
implemented.</p>

<h4><a
href="http://groups-beta.google.com/group/perl.perl6.internals/browse_frm/thread/8275c0e33fbe7f73/8afa1165fe253894#8afa1165fe253894">Vtables
in <em>extend.h</em></a></h4>

<p>Nicholas Clark noted a need for vtables in <em>extend.h</em>. Leo agreed
that they should be auto-generated. chromatic eagerly requested the chance to
write the Perl code that does this auto-generation.</p>

<h4><a
href="http://groups-beta.google.com/group/perl.perl6.internals/browse_frm/thread/cfe99da639662579/fcdb54c7e2a042c0#fcdb54c7e2a042c0"><code>s/BAILOUT/BAIL_OUT/</code></a></h4>

<p>Michael G. Schwern announced that he'd removed <code>BAILOUT</code> from
Test::Builder in favor of <code>BAIL_OUT</code>. He admitted that a deprecated
<code>BAILOUT</code> would remain as undocumented. At some point we should
update.</p>













<h3>Perl 6 Language</h3>

<h4><a
href="http://groups-beta.google.com/group/perl.perl6.language/browse_frm/thread/925efba5007e366b/278b07bf0ab6408d#278b07bf0ab6408d">Anonymous
Roles and Closures</a></h4>

<p>Aaron Sherman wondered if he could generate anonymous roles that are also
closures. It made my head hurt. People seem to think it's possible though.</p>

<h4><a
href="http://groups-beta.google.com/group/perl.perl6.language/browse_frm/thread/24e369fba3ed626e/b64aaafcca1c055e#b64aaafcca1c055e">Peter
Piper picked a hash...</a></h4>

<p>Ingo Blechschmidt wondered what <code>pick</code> would return when called
on a hash.  Rod Adams suggested that it would return a pair. Larry thought that
would be a good idea, if perhaps difficult to implement.</p>

<h4><a
href="http://groups-beta.google.com/group/perl.perl6.language/browse_frm/thread/e08f7de7b69df5eb/aba86b97f1a1251c#aba86b97f1a1251c">All (Junctions,
Bad Subjects, Indecision)</a></h4>

<p>Joshua Gatcomb found that he could use junctions to quickly answer questions
but not provide specifics. Sadly, he is not the first person to have this
problem. Junctions naturally provide Boolean operations but do not naturally
explain what motivated that answer. Perhaps they should be thrown out along
with the axiom of choice. After all, do we really need a basis for ALL of our
vector spaces?</p>

<h4><a
href="http://groups-beta.google.com/group/perl.perl6.language/browse_frm/thread/90ff5afe035da8da/baef5fa481f0fdf3#baef5fa481f0fdf3"><code>is
rw</code> a No-Op on References? </a></h4>

<p>Ingo Blechschmidt wondered if <code>is rw</code> did anything for
references, as you can still modify the value to which they refer. Juerd
answered basically yes.</p>

<h4><a
href="http://groups-beta.google.com/group/perl.perl6.language/browse_frm/thread/2a97f706fe9155c1/cf1a5838783a72ad#cf1a5838783a72ad">Complex
Number Package</a></h4>

<p>Jonathan Lang wondered about creating a complex number package. Including
returning junctions of values for roots of unity. Unfortunately these lists can
be quite large, even infinite. Thus, he wondered if he could use lazy junctions.
Thomas Sandla&szlig; conjectured that he could by the &quot;law of laziness
preservation&quot;.</p>

<h4><a
href="http://groups-beta.google.com/group/perl.perl6.language/browse_frm/thread/778dca4cf38a52d8/361f6f87d1cff32c#361f6f87d1cff32c">Auto-Threading
of Junctions and Threads</a></h4>

<p>Aaron Sherman worried that the auto-threading of junction would actually run
in separate threads. This is most assuredly not the common case, although some
warped soul could implement it that way.</p>

<h4><a
href="http://groups-beta.google.com/group/perl.perl6.language/browse_frm/thread/c96c85ea8f511acc/3ad64e02a95dcf69#3ad64e02a95dcf69">Context
of Indices</a></h4>

<p>Autrijus asked what context <code>want</code> would provide when used as an
index. Larry provided answers.</p>

<h4><a
href="http://groups-beta.google.com/group/perl.perl6.language/browse_frm/thread/017005a999609b34/630048a564c26aed#630048a564c26aed">Sun's
Fortress</a></h4>

<p>Autrijus posted a link to a next-generation computer language from Sun
called Fortress and then went on to ask about parameterized types, tuple types,
and block labels. Bad Autrijus! Make summarizers lives hard. Then we have to
punt like this rather than try to extract the three different threads at
once.</p>

<h4><a
href="http://groups-beta.google.com/group/perl.perl6.language/browse_frm/thread/2ef6fef80e878793/436d5489b9a75b49#436d5489b9a75b49">Restricting
Variable Scopes With <code>while</code></a></h4>

<p>Joshua Gatcomb wanted to know how he could restrict the scope of variables
used in the conditionals of his <code>while</code> statement to the loop. This
led to some discussion about the implementation of <code>while</code> as a
macro or some other beast.  Larry began to ponder the submacro.</p>

<h4><a
href="http://groups-beta.google.com/group/perl.perl6.language/browse_frm/thread/dd5ffb21b1415af0/a0831d58dd4fc1ff#a0831d58dd4fc1ff"><code>FIRST</code>,
<code>LAST</code> et al. Support in Pugs</a></h4>

<p>David Christensen decided to try to add support for <code>FIRST</code>,
<code>LAST</code> blocks and the like into Pugs. This led him to p6l with some
questions about traits which are closures. Answers and suggestions
followed.</p>

<h4><a
href="http://groups-beta.google.com/group/perl.perl6.language/browse_frm/thread/a3d674ff66f67da0/fa3e3e7418df928c#fa3e3e7418df928c">Junctions
of Classes</a></h4>

<p>Ingo Blechschmidt wondered how junctions of classes would act. The consensus
seems to be that they act as type specifiers of a sort, restricting whatever
the variables they describe can contain.</p>

<h4><a
href="http://groups-beta.google.com/group/perl.perl6.language/browse_frm/thread/f221c018f819b86f/4c031821dcb63e17#4c031821dcb63e17">Subtype
Declarations</a></h4>

<p>Luke Palmer wondered what exactly subtype declarations provided and
suggested jettisoning them. Larry remained unconvinced.</p>

<h4><a
href="http://groups-beta.google.com/group/perl.perl6.language/browse_frm/thread/f9148955e4c08bb2/0b2779b4506808ff#0b2779b4506808ff">Labels
on Blocks</a></h4>

<p>Stevan Little wondered if there was some way to attach labels to blocks.
Discussion ensued, including a comment from Larry that it won't need to be
redone.</p>

<h4><a
href="http://groups-beta.google.com/group/perl.perl6.language/browse_frm/thread/ed05cb58e8f61b17/b22033c9c8530e13#b22033c9c8530e13"><code>open</code>
and <code>pipe</code></a></h4>

<p>Gaal Yahas proposed a basic <code>open</code> and <code>pipe</code> built-in
for discussion.  Discussion followed. Larry mentioned that he has &quot;pretty much&quot;
blessed <code>io</code> (from <a
href="http://search.cpan.org/perldoc?IO::All">IO::All</a>).</p>

<h4><a
href="http://groups-beta.google.com/group/perl.perl6.language/browse_frm/thread/a6c71df5881d333e/f3d3ef24db245638#f3d3ef24db245638">Is
<code>if</code> Function? </a></h4>

<p>Juerd wondered if <code>if</code> as a function had unintended consequences.
Fortunately, <code>if</code> is not a function, it is a statement-level
construct.</p>

<h4><a
href="http://groups-beta.google.com/group/perl.perl6.language/browse_frm/thread/072b19fefc404f80/fbb2a6e537cddab5#fbb2a6e537cddab5">Junctions
in <code>use</code> Statements</a></h4>

<p>Juerd wondered if he could say <code>use strict &amp; warnings</code>.
Larry explained that there were parsing problems with it and possibly limited
utility, but he has not officially ruled it out, as the problems have
workarounds.</p>

<h4><a
href="http://groups-beta.google.com/group/perl.perl6.language/browse_frm/thread/d3ab335df56c8fc4/fd9dc1f0e0e1cf20#fd9dc1f0e0e1cf20"><code>.foo()
== one($_.foo(), $?SELF.foo())</code></a></h4>

<p>This great quandary continues. This week, Larry is leaning towards the
<code>.foo() == $_.foo()</code> camp, but nothing is yet set. He also
suggested <code>$^</code> as being equivalent to <code>$?SELF</code> (which I
really like). Time will tell how this one will work out. My prediction is that
the argument will rage on until Pugs is ready to implement it and needs a
definitive answer...then it will change a few more times.</p>

<h4><a
href="http://groups-beta.google.com/group/perl.perl6.language/browse_frm/thread/82ecf6620c641ddd/500a69e034596d36#500a69e034596d36">Type
System Questions</a></h4>

<p>Autrijus asked a few questions about the type system, and at which times it
did what things. Larry provided some answers.</p>

<h3>The Usual Footer</h3>

<p>Posting via the Google Groups interface does not work. To post to any of
these mailing lists please subscribe by sending email to
<code>perl6-internals-subscribe@perl.org</code>,
<code>perl6-language-subscribe@perl.org</code>, or
<code>perl6-compiler-subscribe@perl.org</code>. If you find these summaries
useful or enjoyable, please consider contributing to the Perl Foundation to
help support the development of Perl. You might also like to send feedback to
<csperl file="mailmunge" arg_email="ubermatt@gmail.com" arg_ending="." /></p>

<ul>

<li><a href="http://donate.perl-foundation.org/">The Perl Foundation</a></li>
<li><a href="http://dev.perl.org/perl6/">Perl 6 Development site</a></li>
<li><a href="http://planet.parrotcode.org/">Parrot Blog aggregator</a></li>

</ul>

<csperl file="grab" domain="on" record="b/1424" template="b/article_sidebar2.view">

        </div>



    </div>
    <div class="asset-footer"></div>
</div>


                            
                            <div id="entry-762" class="entry-asset asset hentry">
    <div class="asset-header">
        <h2 class="asset-name entry-title"><a href="/pub/2005/04/p6pdigest/20050428.html" rel="bookmark">This Week in Perl 6, April 20 - 26, 2005</a></h2>
        <div class="asset-meta">
            <span class="byline">
    
                By <span class="vcard author">Piers Cawley</span> on <abbr class="published" title="2005-05-02T00:00:00-08:00">May  2, 2005 12:00 AM</abbr>
    
            </span>

            
            

        </div>
    </div>
    <div class="asset-content entry-content">

        <div class="asset-body">
            
<!-- sidebar begins -->
<!-- don't move sidebars-->
<!-- sidebar ends -->
<h3>The Perl 6 Summary for the Week Ending 2005-04-26</h3>

<p>It's my turn again. What fun.</p>

<p>"What," I hear you all ask, "has been going on in the crazy, mixed-up world
of Perl 6 design and development?" Read this summary and, beginning with
perl6-compiler, I shall tell you.</p>

<h3>This Week In perl6-compiler</h3>

<h4><a
href="http://groups.google.com/groups?threadm=ffec23e5c25f0424eb0e39e9005d8169@iinteractive.com">Refactoring
<em>Test.pm</em></a></h4>

<p>Stevan Little had an idea while he was refactoring <em>Test.pm</em>. He
wondered whether to get rid of the various <code>todo_*</code> functions in
favour of just using a <em>t/force_todo</em> file. This led him to wonder about
doing away with <em>t/force_todo</em> in favour of a <code>force_todo()</code>
function. He asked for opinions before he started making the change (which
isn't exactly a refactoring).</p>

<p>General opinion seemed favorable, though I confess to feeling perturbed by
the proposed release trick of proclaiming all failures, whether expected or
not, to be TODOs. The current system generates an explicit list of tests that
fail on "core" systems. The proposed solution seems to make all failures equal,
so as not to catch even unexpected "platform" failures.</p>

<h4><a
href="http://groups.google.com/groups?threadm=20050421083227.27464.qmail@lists.develooper.com">Weird
Thing with <code>say ++$</code></a></h4>

<p>What do you know, <code>say $i++, ++$i</code> behaves weirdly.</p>

<h4><a
href="http://groups.google.com/groups?threadm=20050423225546.GA26560@aut.dyndns.org">Pugs
6.2.1 Released</a></h4>

<p>Autrijus announced the availability of Pugs 6.2.1 which comes complete with
much shininess.</p>

<h3>This Week in perl6-language</h3>

<h4><a
href="http://groups.google.com/groups?threadm=Pine.LNX.4.62.0504141459030.32167@okcomputer.antiflux.org">Parrot
Common Lisp</a></h4>

<p>Cory Spencer's port of Common Lisp to Parrot received much admiration (it
has some way to go before it's <em>really</em> Common Lisp, but it's a cracking
start). Uwe Volker suggested porting Emacs to it, and Lars Balker
Rasmussen promptly accused him of being Erik Naggum.</p>

<p>Cory acquired (or is acquiring) a committer bit.</p>

<h4><a
href="http://groups.google.com/groups?threadm=4265DCD4.5060708@coleda.com">State
of the Tcl</a></h4>

<p>Will Coleda gave the list a heads up on the state of ParTCL, the Parrot TCL
port. It still fails some tests, apparently because of GC issues.</p>

<p>A few days later, <a
href="http://groups.google.com/groups?threadm=426D8EFD.1020201@coleda.com">these
problems went away</a>. We're not quite sure how, though.</p>

<h4><a
href="http://groups.google.com/groups?threadm=200504200620.j3K6K4T02837@thu8.leo.home"><code>alarm()</code>
and <code>later()</code></a></h4>

<p>Leo stated that Parrot provides subsecond timer resolution as well as alarm
callbacks and multiple timers. Hurrah!</p>

<h4><a
href="http://groups.google.com/groups?threadm=4268AD4F.2030708@toetsch.at">RFC
<code>assign Px, Py</code></a></h4>

<p>Leo posted a discussion of the semantics of <code>assign</code> and
<code>set</code>, with a proposed change to PIR syntax. Warnock applies.</p>

<h4><a
href="http://groups.google.com/groups?threadm=42691D77.6060808@toetsch.at">RFC
Unary Operations</a></h4>

<p>In another RFC, Leo discussed changes to Parrot's unary operators and
proposed other changes.</p>

<h4><a
href="http://groups.google.com/groups?threadm=a06210215be8ed35f7f36@[172.24.18.155]">One
More MMD: Assignment</a></h4>

<p>Dan noted that he was writing a great deal of code in his
<code>set_pmc</code> vtable methods that looked very MMD-like. He suggested
that adding assignment to the list of MMD functions might be a good idea.  Leo
pointed him at his assignment RFC.</p>

<h4><a
href="http://groups.google.com/groups?threadm=20050423220805.GQ57402@plum.flirble.org">Fun
with <code>morph()</code></a></h4>

<p>Nicholas Clark wondered about the responsibilities of the <code>morph</code>
method with respect to handling <code>PMC_struct_val</code>. In the subsequent
discussion it became apparent that <code>morph</code> can grow complicated. Bob
Rogers supplied a bunch of extra complications and wondered about the
feasibility of making Parrot morph-free. Leo agreed that it seemed feasible and
is probably a good idea. Another subthread made my head hurt; I can
understand this stuff much better when I sit 'round a table with people and we
have a plentiful supply of drinks, notepaper and, in Leo's case, industrial
quantities of tobacco. (Ah... YAPC::Paris!)</p>

<h4><a
href="http://groups.google.com/groups?threadm=20050424011934.ey5ch49tavo08k0o@www.adampreble.com">Building
An Incomplete Code Generator into Parrot</a></h4>

<p>rocko@adampreble.com (that's the only name I have) has started work on
implementing a JIT backend for the AMD64 processor. He asked a few questions
and Leo provided answers.</p>

<h4><a
href="http://groups.google.com/groups?threadm=426B5794.9010101@toetsch.at">Calling
Convention Abstraction</a></h4>

<p>This thread continues to rumble on. Leo said that what he wants is for the
HLL folks to create a workable scheme for abstract and extendable calling
conventions that could express all the various HLL-specific semantics of
function calling.  He pointed out that unless we have this we can forget
interoperability (or at least easy interoperability).</p>

<h4><a
href="http://groups.google.com/groups?threadm=17004.19419.780341.502435@rgrjr.dyndns.org">Alpha
Development Box</a></h4>

<p>Bob Rogers "has" an Alpha development box that open source projects can use.
He wondered if the Parrot project could make use of it, and if so what was the
best way of doing this. Some discussion occurred on the list, but I assume
(hope) more happened offline.</p>

<h3>Meanwhile, in perl6-language...</h3>

<h4><a
href="http://groups-beta.google.com/group/perl.perl6.language/browse_thread/thread/6062c2be978f857c/2b9510e197f06510#2b9510e197f06510">Calling
Junctions of Closures</a></h4>

<p>Brad Bowman wondered about calling junctions of closures. He guessed that
the rule is "call 'em all and return a similarly structured junction", but
wasn't sure. Thomas Sandla&szlig; wasn't so sure.</p>

<p>My head hurts.</p>

<h4><a
href="http://groups-beta.google.com/group/perl.perl6.language/browse_thread/thread/28e2cc6fca25de34/8b4fdd6e574cc4f7#8b4fdd6e574cc4f7"><code>{
=&gt; }</code> Autocomposition</a></h4>

<p>Autrijus asked about the following fragment:</p>

<pre><code>%ret = map { $_ =&gt; uc $_ }, split '', $text;</code></pre>

<p>which give Pugs a massive headache.</p>

<p>From the ensuing discussion, it appears to cause Larry and Autrijus
headaches, too. Also, it turns out that Larry's Perl 5 to Perl 5 translator has
both madprops and madskills. Hurrah! Darren Duncan suggested that</p>

<pre><code>%ret = map:{ $_ =&gt; uc $_ }, split '', $text;</code></pre>

<p>should serve to say that the block is a block rather than a hash
constructor. He thought that this came from one of the synopses, but couldn't
remember which.</p>

<p>I wonder if:</p>

<pre><code>%ret = map -&gt; {$_ =&gt; uc $_}, split '', $text; </code></pre>

<p>wouldn't do the job. (Or did the syntax change on me when I wasn't
looking?)</p>

<h4><a
href="http://groups-beta.google.com/group/perl.perl6.language/browse_thread/thread/e853d32e4575cf8d/52ba4d2059e88f36#52ba4d2059e88f36">Embedding
Languages in Perl 6</a></h4>

<p>B&Aacute;RTH&Aacute;ZI Andr&aacute;s had some questions about introducing different
parsing rules in the middle of a Perl 6 program. Larry's answer was
essentially, "All's fair if you predeclare", but with an interesting idea about
using <code>`</code> as a way of introducing a "self-terminating construct". So
one could do:</p>

<pre><code>use XML;

$a = `&lt;elems&gt;&lt;elem&gt;Content #1&lt;/elem&gt;&lt;elem&gt;Content #2&lt;/elem&gt;&lt;/elems&gt;;
</code></pre>

<p>or</p>

<pre><code>use SQL;

$a = `select * from table`;
</code></pre>

<p>Various possibilities came up, but nothing set in stone.</p>

<h4><a
href="http://groups-beta.google.com/group/perl.perl6.language/browse_thread/thread/0c06c8f07c23cab9/418c87f274eb32d2#418c87f274eb32d2">Closure/Block/Sub
Multiplier</a></h4>

<p>Matt Creenan wondered about doing <code>@names = &amp;get_next(...) XX
5;</code> (which, obviously, would call <code>&amp;get_next</code> five times
and shove the results into <code>@names</code>). Juerd pointed out some
subtleties to do with functions that return closures. Later in the thread he
decided that he controlled both the horizontal and the vertical, with
particular reference to redefining true, false, and undef.</p>

<h4><a
href="http://groups-beta.google.com/group/perl.perl6.language/browse_thread/thread/5ef4b7c6b01cd63a/79771d86e62deab4#79771d86e62deab4"><code>alarm()</code>
and <code>later()</code></a></h4>

<p>Remember the discussion of <code>alarm</code> and <code>later</code> in
perl6-internals? It moved over to perl6-language. Larry agreed that Perl 6's
time interfaces will favor floating point time values, but he wasn't quite sure
if any of them will have the name <code>alarm</code>. Discussion ensued, both
on the topic and on matters of naming style.</p>

<h4><a
href="http://groups-beta.google.com/group/perl.perl6.language/browse_thread/thread/80ae35425a822162/56f8e74954c602af#56f8e74954c602af"><code>$?OS</code>
Globals, Etc.</a></h4>

<p>Scott McWhirter proposed making the various <code>$?OS</code>, etc. variables
into attributes of some <code>GLOBAL</code> class. Larry thought it was a good
idea, but wasn't sure it was entirely right as proposed. This area is still
under design.</p>

<h4><a
href="http://groups-beta.google.com/group/perl.perl6.language/browse_thread/thread/10e17e64680febd3/78fc2e5d04f78df4#78fc2e5d04f78df4">Parens
v. Subroutine Parameter</a></h4>

<p>Autrijus had a question about how function signatures and various forms of
paren magic interacted. He, Juerd, and Larry thrashed things out.</p>

<h4><a
href="http://groups-beta.google.com/group/perl.perl6.language/browse_thread/thread/778dca4cf38a52d8/e4c3ebbcbd211977#e4c3ebbcbd211977"><code>-X</code>s
Auto-(Un)quoting</a></h4>

<p>Michele Dondi had some questions/suggestions about the various file test
operators. Larry answered and the thread spun off into a discussion of all
sorts of aspects of these handy operators. Well, that was before it turned into
a discussion of the semantics of <code>&lt;.foo&gt;</code>, or
<code>^foo</code>, or maybe <code>_foo</code>, or possibly
<code>....foo</code>. At this point, things grew a little heated. There's no
decision yet. (Personally, I'm a fan of the scheme as originally proposed;
<code>.foo</code> calls the method foo on the current topic, whatever that may
be. If you need to hang on to old topics, give them a name. I appear to be in
something of a minority on this.)</p>

<h4><a
href="http://groups-beta.google.com/group/perl.perl6.language/browse_thread/thread/c1ff319f1cf023f5/0b8ed8e97e51750a#0b8ed8e97e51750a">Unify
<code>cwd</code></a></h4>

<p>It turns out that the "current working directory" isn't as obvious as it
sounds. It also turns out that Larry would like to be able to pretend that it
is until it turns out not to be.</p>

<h4><a
href="http://groups-beta.google.com/group/perl.perl6.language/browse_thread/thread/28162cd4f259743f/62bfd7a95b2ea891#62bfd7a95b2ea891">Blocks,
Continuations, and <code>eval</code></a></h4>

<p>When last we saw this thread, Larry had said that continuations would be
available in Perl for people who ask specially, but that he wouldn't leave them
lying around in the open where "some poor benighted pilgrim might trip over
them, unaware." Wolverian asked what the interface would be. Larry thought it
would probably start <code>use Continuations;</code>, or possibly <code>use
CONTINUATIONS;</code>.</p>

<p>The thread prompted St&eacute;phane Payrard to ask about the possibility of
some of the more "out there" functional programming tricks making it into Perl
6. Once again, all's fair if you predeclare, but it looks like Perl 6 already
has core access to some pretty "out there" stuff.</p>

<h4><a
href="http://groups-beta.google.com/group/perl.perl6.language/browse_thread/thread/cf451fce64f5edab/3287e24605f226ee#3287e24605f226ee">Accepted
Abbreviations</a></h4>

<p>Juerd wondered if we could compile a list of standard abbreviations for
various terms so as to apply them consistently. He kicked off with a list of
his own. There was some discussion, but I somehow doubt that people will use his
list rigorously.</p>

<h4><a
href="http://groups-beta.google.com/group/perl.perl6.language/browse_thread/thread/49ea270756fc9d7e/a78fa00a63a5c83a#a78fa00a63a5c83a">Thunking
Semantics of <code>:=</code></a></h4>

<p>Once someone starts to implement a language, you have a wonderful driver for
design decisions that need to be made and for finding ambiguities that need to be ironed out.  On this occasion, Autrijus needed some clarification of the semantics of the binding
operator, <code>:=</code>. Now we have ironed out ambiguities and written
implementations (and yes, I <em>do</em> mean implementations.)</p>

<h4><a
href="http://groups-beta.google.com/group/perl.perl6.language/browse_thread/thread/7b3afb5a9c87e76c/9b7675e43936ebd9#9b7675e43936ebd9"><code>for
all(@foo) {...}</code></a></h4>

<p>Brad Bowman had questions about the workings of <code>for all(@foo)
{...}</code> based on S03. It turns out that the Synopsis is wrong. Larry
explained how it really should work (which is how it already works in
Pugs).</p>

<h4><a
href="http://groups-beta.google.com/group/perl.perl6.language/browse_thread/thread/6fe93d9d27f26708/46b2356c2fc35b43#46b2356c2fc35b43">Lazy
Lists + Mutable Arrays + Garbage Collection</a></h4>

<p>Brad also had questions about the workings of lazy lists. In particular, he
wondered about treating streams as mutable arrays. Warnock applies.</p>

<h4><a
href="http://groups-beta.google.com/group/perl.perl6.language/browse_thread/thread/abe0f2ac4794231e/677f8877530c2aee#677f8877530c2aee"><code>map
{ $_ =&gt; uc $_ }, @foo</code> Again</a></h4>

<p>Autrijus proposed a cunning plan to deal with the ambiguities inherent
in:</p>

<pre><code>map { $_ =&gt; uc $_ }, @foo;</code></pre>

<p>by suggesting that using a block without the comma should force the
interpretation of said block as a block rather than as a hash constructor. Larry
wasn't sure, arguing that it was best to disambiguate with something just
before or just inside the block (in the same way that pattern modifiers now go
before the pattern.)</p>

<h4><a
href="http://groups-beta.google.com/group/perl.perl6.language/browse_thread/thread/b510cce894d07d9c/8a5a8d51f3dc378d#8a5a8d51f3dc378d">Passing
Hash to a Sub Expecting Named Params</a></h4>

<p>Carl Franks wondered if he could pass a splatted hash (<code>*%hash</code>)
to a function that expects named arguments. Answer: yep.</p>

<h4><a
href="http://groups-beta.google.com/group/perl.perl6.language/browse_thread/thread/c9a4e0927b5c253c/643d8ed5c45ed6ab#643d8ed5c45ed6ab">Turning Off Warnings For a Function's Params? </a></h4>

<p>David Storrs wanted to be able to selectively turn off some
warnings when he's testing. He asked how to go about doing it. Luke and Juerd
provided some answers.</p>

<h4><a
href="http://groups-beta.google.com/group/perl.perl6.language/browse_thread/thread/4bf493833cdb0e0b/c6002e47cb602efa#c6002e47cb602efa">How
do I Tie Hashes/Arrays?</a></h4>

<p>Discussion of how to tie hashes and arrays continued.</p>

<h4><a
href="http://groups-beta.google.com/group/perl.perl6.language/browse_thread/thread/a6c71df5881d333e/9b3f8e517837391f#9b3f8e517837391f">Surprising consequences</a></h4>

<p>Juerd worried that code like <code>if($foo) { say 'foo'}</code> would throw
syntax errors. It turns out that one of his givens wasn't quite as given as he
thought, so it's not a syntax error.</p>

<h4><a
href="http://groups-beta.google.com/group/perl.perl6.language/browse_thread/thread/fde913c5d15a013c/c01f77f5caa72bf1#c01f77f5caa72bf1">Calls
and Parens</a></h4>

<p>Juerd posted a set of examples of the new rules for parsing parentheses in
function calls and asked which of his assumptions were wrong. Luke Palmer
reassured him.</p>

<h4><a
href="http://groups-beta.google.com/group/perl.perl6.language/browse_thread/thread/c96c85ea8f511acc/c1f3e4b3bd643ee9#c1f3e4b3bd643ee9">Context
and Index Expressions</a></h4>

<p>Autrijus posted a set of examples of array indexes and asked if he had all
the contexts right. There was no answer at the time of this writing.</p>

<h3>Hmm...still fun. I could get used to this.</h3>

<p>If you find these summaries useful or enjoyable, please consider
contributing to the Perl Foundation to help support the development of
Perl.</p>

<ul>

<li><a href="http://donate.perl-foundation.org/">The Perl Foundation</a></li>

<li><a href="http://dev.perl.org/perl6/">Perl 6 Development site</a></li>

</ul>

<p>Or, you can check out <a href="http://www.bofh.org.uk/">my website</a>.
Maybe now that I'm back to writing stuff I'll start updating it.</p>

<p>There are also <a href="http://www.flickr.com/photos/pdcawley">vaguely
pretty photos</a> by me.</p>

<p>See you all in a fortnight.</p>
<csperl file="grab" domain="on" record="b/1424" template="b/article_sidebar2.view">



        </div>



    </div>
    <div class="asset-footer"></div>
</div>




                            <div class="content-nav">
                                <a href="/pub/2005/04/">&laquo; April 2005</a> |
                                <a href="/pub/">Main Index</a> |
                                <a href="/pub/archives.html">Archives</a>
                                | <a href="/pub/2005/06/">June 2005 &raquo;</a>
                            </div>


                        </div>
                    </div>


                    <div id="beta">
    <div id="beta-inner">


    
    <div class="widget-what-is-perl widget">
    <div class="widget-content widget-content-what-is-perl">
       Visit the home of the  Perl programming language: <a href="http://www.perl.org/">Perl.org</a
    </div>
</div>
<div class="widget-find-out-more widget-archives widget">
    <div class="widget-content">
        <ul>
            <li><a href="http://www.perl.org/get.html">Download</a></li>
            <li><a href="http://perldoc.perl.org/">Documentation</a></li>
            <li><a href="http://blogs.perl.org/">Perl Bloggers</a></li>
            <li><a href="http://news.perlfoundation.org/">Foundation News</a></li>
        </ul>
    </div>
</div><div class="widget-tcpc widget">
<h3 class="widget-header">Sponsored by</h3>
    <div class="widget-content">
        <a href="http://training.perl.com/" alt="Perl Training" target="_blank"><img src="/i/tcpc.png" width="150" height="50"></a>
    </div>
</div>

<div class="widget-syndication widget">
    <div class="widget-content">
        <ul>
            <li><img src="/mt-static/images/status_icons/feed.gif" alt="Subscribe to feed" width="9" height="9" /> <a href="/pub/atom.xml">Subscribe to this website's feed</a></li>

        </ul>
    </div>
</div>
<div class="widget-archive-monthly widget-archive widget">
    <h3 class="widget-header">Monthly <a href="/pub/archives.html">Archives</a></h3>
    <div class="widget-content">
        <ul>
        
            <li><a href="/pub/2014/02/">February 2014 (1)</a></li>
        
    
        
            <li><a href="/pub/2014/01/">January 2014 (1)</a></li>
        
    
        
            <li><a href="/pub/2013/10/">October 2013 (1)</a></li>
        
    
        
            <li><a href="/pub/2013/01/">January 2013 (1)</a></li>
        
    
        
            <li><a href="/pub/2012/12/">December 2012 (1)</a></li>
        
    
        
            <li><a href="/pub/2012/11/">November 2012 (1)</a></li>
        
    
        
            <li><a href="/pub/2012/10/">October 2012 (2)</a></li>
        
    
        
            <li><a href="/pub/2012/08/">August 2012 (2)</a></li>
        
    
        
            <li><a href="/pub/2012/06/">June 2012 (11)</a></li>
        
    
        
            <li><a href="/pub/2012/05/">May 2012 (18)</a></li>
        
    
        
            <li><a href="/pub/2012/04/">April 2012 (17)</a></li>
        
    
        
            <li><a href="/pub/2012/02/">February 2012 (1)</a></li>
        
    
        
            <li><a href="/pub/2011/12/">December 2011 (1)</a></li>
        
    
        
            <li><a href="/pub/2011/09/">September 2011 (1)</a></li>
        
    
        
            <li><a href="/pub/2011/08/">August 2011 (2)</a></li>
        
    
        
            <li><a href="/pub/2011/06/">June 2011 (1)</a></li>
        
    
        
            <li><a href="/pub/2011/05/">May 2011 (3)</a></li>
        
    
        
            <li><a href="/pub/2011/04/">April 2011 (1)</a></li>
        
    
        
            <li><a href="/pub/2011/03/">March 2011 (1)</a></li>
        
    
        
            <li><a href="/pub/2011/02/">February 2011 (1)</a></li>
        
    
        
            <li><a href="/pub/2011/01/">January 2011 (1)</a></li>
        
    
        
            <li><a href="/pub/2010/11/">November 2010 (1)</a></li>
        
    
        
            <li><a href="/pub/2010/10/">October 2010 (2)</a></li>
        
    
        
            <li><a href="/pub/2010/09/">September 2010 (1)</a></li>
        
    
        
            <li><a href="/pub/2010/08/">August 2010 (3)</a></li>
        
    
        
            <li><a href="/pub/2010/07/">July 2010 (2)</a></li>
        
    
        
            <li><a href="/pub/2010/04/">April 2010 (2)</a></li>
        
    
        
            <li><a href="/pub/2010/03/">March 2010 (4)</a></li>
        
    
        
            <li><a href="/pub/2008/05/">May 2008 (1)</a></li>
        
    
        
            <li><a href="/pub/2008/04/">April 2008 (2)</a></li>
        
    
        
            <li><a href="/pub/2008/03/">March 2008 (1)</a></li>
        
    
        
            <li><a href="/pub/2008/02/">February 2008 (1)</a></li>
        
    
        
            <li><a href="/pub/2008/01/">January 2008 (1)</a></li>
        
    
        
            <li><a href="/pub/2007/12/">December 2007 (2)</a></li>
        
    
        
            <li><a href="/pub/2007/09/">September 2007 (1)</a></li>
        
    
        
            <li><a href="/pub/2007/08/">August 2007 (1)</a></li>
        
    
        
            <li><a href="/pub/2007/07/">July 2007 (1)</a></li>
        
    
        
            <li><a href="/pub/2007/06/">June 2007 (1)</a></li>
        
    
        
            <li><a href="/pub/2007/05/">May 2007 (1)</a></li>
        
    
        
            <li><a href="/pub/2007/04/">April 2007 (1)</a></li>
        
    
        
            <li><a href="/pub/2007/03/">March 2007 (1)</a></li>
        
    
        
            <li><a href="/pub/2007/02/">February 2007 (1)</a></li>
        
    
        
            <li><a href="/pub/2007/01/">January 2007 (1)</a></li>
        
    
        
            <li><a href="/pub/2006/12/">December 2006 (1)</a></li>
        
    
        
            <li><a href="/pub/2006/11/">November 2006 (2)</a></li>
        
    
        
            <li><a href="/pub/2006/10/">October 2006 (1)</a></li>
        
    
        
            <li><a href="/pub/2006/09/">September 2006 (1)</a></li>
        
    
        
            <li><a href="/pub/2006/08/">August 2006 (1)</a></li>
        
    
        
            <li><a href="/pub/2006/07/">July 2006 (1)</a></li>
        
    
        
            <li><a href="/pub/2006/06/">June 2006 (1)</a></li>
        
    
        
            <li><a href="/pub/2006/05/">May 2006 (1)</a></li>
        
    
        
            <li><a href="/pub/2006/04/">April 2006 (1)</a></li>
        
    
        
            <li><a href="/pub/2006/03/">March 2006 (1)</a></li>
        
    
        
            <li><a href="/pub/2006/02/">February 2006 (4)</a></li>
        
    
        
            <li><a href="/pub/2006/01/">January 2006 (4)</a></li>
        
    
        
            <li><a href="/pub/2005/12/">December 2005 (4)</a></li>
        
    
        
            <li><a href="/pub/2005/11/">November 2005 (3)</a></li>
        
    
        
            <li><a href="/pub/2005/10/">October 2005 (2)</a></li>
        
    
        
            <li><a href="/pub/2005/09/">September 2005 (2)</a></li>
        
    
        
            <li><a href="/pub/2005/08/">August 2005 (9)</a></li>
        
    
        
            <li><a href="/pub/2005/07/">July 2005 (8)</a></li>
        
    
        
            <li><a href="/pub/2005/06/">June 2005 (9)</a></li>
        
    
        
            <li><a href="/pub/2005/05/">May 2005 (8)</a></li>
        
    
        
            <li><a href="/pub/2005/04/">April 2005 (7)</a></li>
        
    
        
            <li><a href="/pub/2005/03/">March 2005 (6)</a></li>
        
    
        
            <li><a href="/pub/2005/02/">February 2005 (7)</a></li>
        
    
        
            <li><a href="/pub/2005/01/">January 2005 (6)</a></li>
        
    
        
            <li><a href="/pub/2004/12/">December 2004 (8)</a></li>
        
    
        
            <li><a href="/pub/2004/11/">November 2004 (8)</a></li>
        
    
        
            <li><a href="/pub/2004/10/">October 2004 (5)</a></li>
        
    
        
            <li><a href="/pub/2004/09/">September 2004 (9)</a></li>
        
    
        
            <li><a href="/pub/2004/08/">August 2004 (6)</a></li>
        
    
        
            <li><a href="/pub/2004/07/">July 2004 (8)</a></li>
        
    
        
            <li><a href="/pub/2004/06/">June 2004 (6)</a></li>
        
    
        
            <li><a href="/pub/2004/05/">May 2004 (7)</a></li>
        
    
        
            <li><a href="/pub/2004/04/">April 2004 (8)</a></li>
        
    
        
            <li><a href="/pub/2004/03/">March 2004 (8)</a></li>
        
    
        
            <li><a href="/pub/2004/02/">February 2004 (9)</a></li>
        
    
        
            <li><a href="/pub/2004/01/">January 2004 (7)</a></li>
        
    
        
            <li><a href="/pub/2003/12/">December 2003 (4)</a></li>
        
    
        
            <li><a href="/pub/2003/11/">November 2003 (7)</a></li>
        
    
        
            <li><a href="/pub/2003/10/">October 2003 (8)</a></li>
        
    
        
            <li><a href="/pub/2003/09/">September 2003 (6)</a></li>
        
    
        
            <li><a href="/pub/2003/08/">August 2003 (7)</a></li>
        
    
        
            <li><a href="/pub/2003/07/">July 2003 (9)</a></li>
        
    
        
            <li><a href="/pub/2003/06/">June 2003 (9)</a></li>
        
    
        
            <li><a href="/pub/2003/05/">May 2003 (8)</a></li>
        
    
        
            <li><a href="/pub/2003/04/">April 2003 (8)</a></li>
        
    
        
            <li><a href="/pub/2003/03/">March 2003 (10)</a></li>
        
    
        
            <li><a href="/pub/2003/02/">February 2003 (8)</a></li>
        
    
        
            <li><a href="/pub/2003/01/">January 2003 (8)</a></li>
        
    
        
            <li><a href="/pub/2002/12/">December 2002 (5)</a></li>
        
    
        
            <li><a href="/pub/2002/11/">November 2002 (9)</a></li>
        
    
        
            <li><a href="/pub/2002/10/">October 2002 (7)</a></li>
        
    
        
            <li><a href="/pub/2002/09/">September 2002 (11)</a></li>
        
    
        
            <li><a href="/pub/2002/08/">August 2002 (8)</a></li>
        
    
        
            <li><a href="/pub/2002/07/">July 2002 (8)</a></li>
        
    
        
            <li><a href="/pub/2002/06/">June 2002 (4)</a></li>
        
    
        
            <li><a href="/pub/2002/05/">May 2002 (6)</a></li>
        
    
        
            <li><a href="/pub/2002/04/">April 2002 (6)</a></li>
        
    
        
            <li><a href="/pub/2002/03/">March 2002 (7)</a></li>
        
    
        
            <li><a href="/pub/2002/02/">February 2002 (5)</a></li>
        
    
        
            <li><a href="/pub/2002/01/">January 2002 (8)</a></li>
        
    
        
            <li><a href="/pub/2001/12/">December 2001 (7)</a></li>
        
    
        
            <li><a href="/pub/2001/11/">November 2001 (5)</a></li>
        
    
        
            <li><a href="/pub/2001/10/">October 2001 (9)</a></li>
        
    
        
            <li><a href="/pub/2001/09/">September 2001 (7)</a></li>
        
    
        
            <li><a href="/pub/2001/08/">August 2001 (13)</a></li>
        
    
        
            <li><a href="/pub/2001/07/">July 2001 (8)</a></li>
        
    
        
            <li><a href="/pub/2001/06/">June 2001 (13)</a></li>
        
    
        
            <li><a href="/pub/2001/05/">May 2001 (11)</a></li>
        
    
        
            <li><a href="/pub/2001/04/">April 2001 (9)</a></li>
        
    
        
            <li><a href="/pub/2001/03/">March 2001 (8)</a></li>
        
    
        
            <li><a href="/pub/2001/02/">February 2001 (8)</a></li>
        
    
        
            <li><a href="/pub/2001/01/">January 2001 (8)</a></li>
        
    
        
            <li><a href="/pub/2000/12/">December 2000 (6)</a></li>
        
    
        
            <li><a href="/pub/2000/11/">November 2000 (10)</a></li>
        
    
        
            <li><a href="/pub/2000/10/">October 2000 (10)</a></li>
        
    
        
            <li><a href="/pub/2000/09/">September 2000 (2)</a></li>
        
    
        
            <li><a href="/pub/2000/08/">August 2000 (2)</a></li>
        
    
        
            <li><a href="/pub/2000/07/">July 2000 (5)</a></li>
        
    
        
            <li><a href="/pub/2000/06/">June 2000 (7)</a></li>
        
    
        
            <li><a href="/pub/2000/05/">May 2000 (7)</a></li>
        
    
        
            <li><a href="/pub/2000/04/">April 2000 (3)</a></li>
        
    
        
            <li><a href="/pub/2000/03/">March 2000 (2)</a></li>
        
    
        
            <li><a href="/pub/2000/02/">February 2000 (2)</a></li>
        
    
        
            <li><a href="/pub/2000/01/">January 2000 (2)</a></li>
        
    
        
            <li><a href="/pub/1999/12/">December 1999 (6)</a></li>
        
    
        
            <li><a href="/pub/1999/11/">November 1999 (6)</a></li>
        
    
        
            <li><a href="/pub/1999/10/">October 1999 (5)</a></li>
        
    
        
            <li><a href="/pub/1999/09/">September 1999 (4)</a></li>
        
    
        
            <li><a href="/pub/1999/08/">August 1999 (3)</a></li>
        
    
        
            <li><a href="/pub/1999/07/">July 1999 (2)</a></li>
        
    
        
            <li><a href="/pub/1999/06/">June 1999 (3)</a></li>
        
    
        
            <li><a href="/pub/1999/04/">April 1999 (1)</a></li>
        
    
        
            <li><a href="/pub/1999/03/">March 1999 (1)</a></li>
        
    
        
            <li><a href="/pub/1999/01/">January 1999 (1)</a></li>
        
    
        
            <li><a href="/pub/1998/12/">December 1998 (1)</a></li>
        
    
        
            <li><a href="/pub/1998/11/">November 1998 (1)</a></li>
        
    
        
            <li><a href="/pub/1998/07/">July 1998 (2)</a></li>
        
    
        
            <li><a href="/pub/1998/06/">June 1998 (1)</a></li>
        
    
        
            <li><a href="/pub/1998/03/">March 1998 (1)</a></li>
        
        </ul>
    </div>
</div>
        
    

<div class="widget-powered widget">
    <div class="widget-content">
        <a href="http://www.movabletype.com/"><img src="/mt-static/images/bug-pbmt-white.png" alt="Powered by Movable Type 5.13-en" width="120" height="75" /></a>
    </div>
</div>



    </div>
</div>






                </div>
            </div>


            <div id="footer">
    <div id="footer-inner">
        <div id="footer-content">
            <div class="widget-powered widget">
                <div class="widget-content">
                    Powered by <a href="http://www.movabletype.com/" rel="generator">Movable Type Pro</a>
                </div>
            </div>

            <div class="widget-creative-commons widget">
                <div class="widget-content">
                    This blog is licensed under a <a href="http://creativecommons.org/licenses/by-nc-nd/3.0/">Creative Commons License</a>.
                </div>
            </div>

        </div>
    </div>
</div>



        </div>
    </div>
</body>
</html>
