<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" id="sixapart-standard">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<meta name="generator" content="Movable Type Pro 5.02" />
<link rel="stylesheet" href="/pub/styles.css" type="text/css" />
<link rel="start" href="/pub/" title="Home" />
<link rel="alternate" type="application/atom+xml" title="Recent Entries" href="/pub/atom.xml" />
<script type="text/javascript" src="/pub/mt.js"></script>

<script type="text/javascript">

 var _gaq = _gaq || [];
 _gaq.push(['_setAccount', 'UA-50555-22']);
 _gaq.push(['_trackPageview']);

 (function() {
   var ga = document.createElement('script'); ga.type =
   'text/javascript'; ga.async = true;
   ga.src = ('https:' == document.location.protocol ? 'https://ssl' :
   'http://www') + '.google-analytics.com/ga.js';
   var s = document.getElementsByTagName('script')[0];
   s.parentNode.insertBefore(ga, s);
 })();

</script>
    
    <link rel="prev bookmark" href="/pub/2003/03/20030309.html" title="This week on Perl 6, week ending 2003-03-09" />
    <link rel="next bookmark" href="/pub/2003/03/20030316.html" title="This week on Perl 6, week ending 2003-03-16" />
    
    
    <title>The Many Dates and Times of Perl - Perl.com</title>
</head>
<body id="perl-com" class="mt-entry-archive layout-wt">
    <div id="container">
        <div id="container-inner">


            <div id="header">
    <div id="header-inner">
        <div id="header-content">
        <div id="top_advert"> 
<!-- Put any landscape advert in here -->
<a href="http://www.perlfoundation.org/" target="_new">
<img src="/i/tpf_banner.png" width="468" height="60" /></a>
        </div> 



            <div id="header-name"><a href="/pub/" accesskey="1">Perl.com</a></div>
            <div id="header-description"></div>




        </div>
    </div>
</div>



            <div id="content">
                <div id="content-inner">


                    <div id="alpha">
                        <div id="alpha-inner">


                            <div id="entry-1086" class="entry-asset asset hentry">
                                <div class="asset-header">
                                    <h1 id="page-title" class="asset-name entry-title">The Many Dates and Times of Perl</h1>
                                    <div class="asset-meta">
                                        <span class="byline">

                                            By <span class="vcard author">Dave Rolsky</span> on <abbr class="published" title="2003-03-13T00:00:00-08:00">March 13, 2003 12:00 AM</abbr>

                                        </span>


                                    </div>
                                </div>
                                <div class="asset-content entry-content">

                                    <div class="asset-body">
                                         <!-- sidebar begins -->
<!-- don't move sidebars -->
<!-- sidebar ends -->
<h3><a name="some_basic_concepts">Some Basic Concepts</a></h3>
<p>In order to understand what you might want to do with dates and times,
it's good to have a handle on some basic concepts.  Here are some
terms that I'll be using in this article:</p>
<csperl file="grab" domain="on" record="b/795" template="article_sidebar.view">
<ul>
<li><strong><a name="item_datetime">datetime</a></strong><br />
</li>
This is not a word, but I will use it as a convenient shorthand to
refer to a date and time together, because they are basically the same
thing.  Adding time to a date simply increases its granularity.
<li><strong><a name="item_utc">UTC (also GMT and Zulu)</a></strong><br />
UTC stands for &quot;Coordinated Universal Time&quot;.  It is an international
standard which is kept using atomic clocks, and is kept to within 0.9
seconds of the rotation of the earth on its axis in order to work well
with traditional standards of time-keeping.  UTC time is measured at
the prime meridian (O degrees longitude).
<p>Time zones around the world are specified as an offset from UTC.  The
widely used term GMT (Greenwich Mean Time) refers to a time zone that
is equivalent to UTC.  In other words, it has no offset.</p>
<p>The US military has a set of terms used for time zones around the
world based on the alphabet (A-Z).  In this system UTC is Z, sometimes
called &quot;Zulu&quot;.</p>
<p>UTC is a good standard for the <em>internal</em> representation of dates and
times, as it makes comparing datetimes or doing datetime math much
easier.</p></li>
<li><strong><a name="item_time_zones_and_daylight_saving_time">Time zones and Daylight Saving Time</a></strong><br />
<p>Time zones, as mentioned above, are defined as an offset from UTC.
Most, but <em>not</em> all, time zones are in offsets of whole hours.
Adelaide, Australia has an offset of nine and a half hours ahead of
UTC, and Nepal has an offset five hours and forty-five minutes ahead
of UTC.</p>
<p>Time zones are complicated by the use of Daylight Saving Time, which
changes the actual offset of a given location to vary over the course
of the year.  The eastern US has an offset of -0500 from UTC, five
hours behind UTC.  This means that 12:00 (noon) UTC becomes 07:00
(AM).  However, when Daylight Saving Time is in effect, the offset
becomes -0400, four hours behind UTC.  Because time zones are
determined by governments, use of Daylight Saving Time, and the base
offsets, have changed over time, and may change again in the future.</p>
<p>This greatly complicates math when dealing with non-UTC datetimes.  
If I have a local datetime for the Eastern US of 2002-10-25 14:15:00
and I add six months to that datetime, then I will have crossed a DST
change.</p>
<p>The upshot of all this is that any code that represents time zones as
<em>fixed</em> offset will probably start producing errors once date math
gets involved.</p>
<p>The definitive source of time zone offsets and rules is the Olson time
zone database.  It defines zones according to names like
&quot;America/New_York&quot;, as opposed to &quot;EST&quot;.  The latter shorthand is
commonly used, but it should probably be avoided because these short
names are not unique or definitive.  For example, there is an &quot;EST&quot; at
-0500 and +1000.</p>
</li>
<li><strong><a name="item_local_time">Local time</a></strong><br />
<p>The local time is UTC plus the local time zone offset.  While UTC is
great for internal use, most people want to see datetimes in terms of
<em>their</em> location.  In a sense, local time is the <em>display</em> format,
while UTC is the <em>storage</em> format.</p></li>
<li><strong><a name="item_the_epoch">The epoch</a></strong><br />
<p>Epoch is a generic term referring to the &quot;start&quot; of any particular
system.  For example, the Gregorian calendar's epoch is January 1, 1
CE.</p>
<p>The epoch system, as used most operating systems, represents a
datetime as the number of seconds after a specific date and time.  For
Unix systems, the epoch began on January 1, 1970 at midnight GMT
(UTC).  Other systems have different epochs.  Because of this, you
cannot assume that an epoch time of 2,003,131 means the same thing
from system to system, because different systems have a different
&quot;second 0&quot;.  Storing a datetime as its epoch is not portable.</p>
<p>Even worse, on most current systems, epochs are represented by a 32
bit signed integer, which only lets you represent datetimes with a
range of about 136 years.  On most UNIX systems currently in use, this
means that the latest date you can represent right now is sometime in
the year 2038, and the earliest is around 1902.  This doesn't work
very well if you're trying to represent the birth date of your
great-great-grandmother.</p>
<p>The upshot of all this is I would strongly recommend <em>not</em> using
epochs except when you have no other choice.  Of course, you'll often
have no choice, so it's important to know how this system works.</p>
</li>
<li><strong><a name="item_the_gregorian_calendar">The Gregorian Calendar</a></strong><br />
<p>There have been many different calendar systems in use throughout
history.  The Gregorian calendar is the current generally agreed upon
international standard for representing dates, and is what you are
using when you say &quot;August 8, 1999&quot;.  Other calendars that are still
in use include the Hebrew calendar, the Islamic calendar, and the
Chinese calendar.</p>
<p>Even though the Gregorian calendar wasn't created until 1582, and it
wasn't adopted world wide until this century, we can still extrapolate
backwards in time using the Gregorian calendar.</p>
</li>
</ul>
<h3><a name="what_needs_doing_with_dates_and_times">What Needs Doing with Dates and Times?</a></h3>
<p>There are a lot of things you can do with dates and times, and
different modules/distributions provide different types of
functionality.  Broadly speaking, we can consider the following areas
of functionality:</p>
<ul>
<li><strong><a name="item_parsing%2fformatting">Parsing/Formatting</a></strong><br />
<p>There are more datetime formats in use in the computing world than you
can shake a stick at.  You'll often have to parse a datetime in one
format in order to turn it into something you can work with
internally, like a bunch of integers or an epoch time.</p>
<p>On the flip side, you'll often have to take some standard
representation, like an epoch, and convert it to some other format.</p>
</li>
<li><strong><a name="item_basic_representation">Basic representation</a></strong><br />
<p>A nice datetime object can be quite handy.  These range from
lightweight wrappers around Perl's <a href="#item_localtime"><code>localtime()</code></a> to objects that try
to provide methods for all possible datetime operations.</p>
</li>
<li><strong><a name="item_math_and_calculations">Math and calculations</a></strong><br />
<p>You'll often want to answer questions like &quot;what day is seven days
after today&quot; or &quot;how much time is there between now and midnight?&quot;
This is closely related to the task of figuring out the date Easter
falls on in a given year, or what day of the week Martin Luther King's
birthday falls on.</p>
</li>
</ul>
<p>There are plenty of other things we can do with datetimes, but these
are largely elaborations of the above areas of functionality.</p>
<h3><a name="perl's_builtin_date/time_functionality">Perl's Built-in Date/Time Functionality</a></h3>
<p>Perl has some built-in functionality for handling dates and times.
This functionality includes:</p>
<ul>
<li><strong><a name="item_time"><code>time()</code></a></strong><br />
<p>A function that returns the current epoch time.</p>
</li>
<li><strong><a name="item_localtime"><code>localtime()</code> and <code>gmtime()</code></a></strong><br />
<p>These functions convert an epoch time into a set of components
representing the local time.  They both return arrays containing
things like the hour, minute, month, etc., though some of the values
returned are awkward to use.  For example, the year is the actual year
minus 1900.</p>
<p>The <a href="#item_localtime"><code>localtime()</code></a> function returns the datetime of your current
location, based on your system's time zone setting, while the gmtime
function returns the current UTC datetime.</p>
<p>The <code>Time::localtime</code> and <code>Time::gmtime</code> modules provide a thin
object layer around <code>gmtime()</code> and <a href="#item_localtime"><code>localtime()</code></a> respectively, so
you can do things like <code>print gmtime()-&gt;year</code>.  Of course, that
<em>still</em> prints the year minus 1900.</p>
</li>
<li><strong><a name="item_time%3a%3alocal">Time::Local</a></strong><br />
<p>This core module provide functions that translate from the array of
components returned by <a href="#item_localtime"><code>localtime()</code></a> or <code>gmtime()</code> back to an epoch
time.</p>
</li>
<li><strong><a name="item_posix%2epm">POSIX.pm</a></strong><br />
<p>The <code>POSIX</code> module included with Perl provides interfaces to several
common C library functions for datetimes, such as <code>strftime()</code>.  I
consider this the last refuge for the desperate, because the
<a href="#item_posix%2epm"><code>POSIX.pm</code></a> module is a memory hog, and the C library interface is
rather un-Perlish.</p>
</li>
</ul>
















<h3><a name="the_big_stars">The Big Stars</a></h3>
<p>These are the modules that have the longest history, and are the most
widely used.</p>
<ul>
<li><strong><a name="item_timedate_distribution">TimeDate distribution</a></strong><br />
<p>This distribution, maintained and mostly written by Graham Barr,
includes three modules.  <code>Date::Format</code> module provides a few
functions for formatting datetime output, including a <code>strftime()</code>
similar to the one in the standard C library.  It can work with either
epoch times, or the array of components returned by Perl's
<a href="#item_localtime"><code>localtime()</code></a> function.</p>
<p><code>Date::Parse</code> parses a limited set of common datetime formats,
returning either an epoch time or an array of components.</p>
<p>The distribution also includes a number of language modules which can
be used to localize both parsing and formatting.</p>
<p>Finally, <code>Time::Zone</code> provides an interface to time zone offsets,
based on short time zone names like &quot;EST&quot; or &quot;GMT&quot;.  As was mentioned
before, these names are not official or standardized, so they are of
limited usefulness.</p>
<p>All of these modules are limited by their use of epoch time
internally, but they are fairly quick and light weight.  For complex
datetime problems, these modules probably don't automate enough of the
dirty work.</p>
</li>
<li><strong><a name="item_time%3a%3apiece">Time::Piece</a></strong><br />
<p>Written and maintained by Matt Sergeant, this module is based on an
interface designed by Larry Wall.  It provides a convenient object API
for datetimes, though the API is a bit confusing.  For example, <code>$time-&gt;mon</code> returns the month number (1-12) while <code>$time-&gt;month</code> returns the abbreviated name of the month.</p>
<p>It also implements basic parsing and formatting via the use of the
C-level <code>strptime()</code> and <code>strftime()</code> functions.  The included
<code>Time::Seconds</code> module allows for basic date math, such as <code>$tomorrow = $time + ONE_DAY</code>.</p>
<p>The implementation is fairly lightweight, but is limited by its use of
epoch time as the internal representation.  It is certainly useful,
but like the TimeDate modules, it doesn't go far enough for more
complex uses.</p>
<p>As of this writing, Matt Sergeant has released an experimental version
of <a href="#item_time%3a%3apiece"><code>Time::Piece</code></a> based on my <code>DateTime.pm</code> module.  This leaves the
<a href="#item_time%3a%3apiece"><code>Time::Piece</code></a> API unchanged, but allows it to handle dates that
cannot be represented by a given system's epoch.</p>
</li>
<li><strong><a name="item_date%3a%3amanip">Date::Manip</a></strong><br />
<p>Sullivan Beck's <a href="#item_date%3a%3amanip"><code>Date::Manip</code></a> is really huge, weighing in at about
3,000 lines of code.  As might be expected of that much code, there is
something for everyone here.  It handles parsing, formatting, date
math, as well as more esoteric things like recurring datetimes and
business day calculations.  It should be noted that it's time zone
support is pretty much the same that provided by <code>Time::Zone</code>.</p>
<p>This module's most unique feature is its very flexible parser, which
is capable of handling things like &quot;3 weeks ago Monday&quot; or &quot;next
Sunday&quot;.  It also provides some parsing for specifying recurrences,
like &quot;every 3rd Monday in 2003&quot;.</p>
<p>Unlike everything else we've covered so far, this module is not
limited to epoch times.  It has an entirely functional interface, and
in my opinion the API could be cleaner.  I dislike the fact that some
functions do many different things, with the output depending either
on the argument type(s), explicit flags, or both.</p>
<p>But the biggest problem with this module, which is acknowledged by its
author, is its size.  It uses lots of memory (about 3MB on my system),
and is fairly slow to load.  The former makes it problematic for
mod_perl, and the latter causes problems with CGI scripts.  You can
find most of its features elsewhere, in slimmer modules, but if size
and speed are not an issue, this module almost certainly does
everything you want.</p>
</li>
<li><strong><a name="item_date%3a%3acalc">Date::Calc</a></strong><br />
<p>Steffen Beyer's <a href="#item_date%3a%3acalc"><code>Date::Calc</code></a> distribution is where you go when you
need functionality combined with speed.  This modules offers much of
the functionality provided by <a href="#item_date%3a%3amanip"><code>Date::Manip</code></a>, but the core
<a href="#item_date%3a%3acalc"><code>Date::Calc</code></a> module has a much smaller memory footprint than
<a href="#item_date%3a%3amanip"><code>Date::Manip</code></a> (about 1MB on my box), and much greater speed.  This is
based its core implementation is in C.</p>
<p>This module provides functions for calculating all sorts of
date-related information, as well some minimal parsing and formatting
operations.  The interface requires some hand-holding to use, as every
function returns one or more elements, never a data structure such as
a hash, so you have to constantly deal with passing and receiving
arrays of values.</p>
<p>The distribution also includes a class called <code>Date::Calc::Object</code>,
which can represent either a datetime <em>or</em> a &quot;delta&quot;, the difference
between two datetimes.  This dual nature is odd, since many of the
methods applicable to one will not work for the other.  The class
supports overloading for date math and comparison, so you can do
things like <code>$date + [1, 2, 3]</code>, which adds one year, two months, and
three days to the given date.</p>
<p>Finally, there is a <code>Date::Calendar</code> object, which can be used to set
up a calendar &quot;profile&quot; defining holidays, work days, and partial work
days in a variety of ways.  This is quite useful if you need to
calculate a day X business days in the future, while taking account of
a particular organization's holidays.</p>
<p>None of the modules in this distribution rely on epoch time, though
they only support positive-numbered years.  Time zone support is
extremely minimal, and is done only as offsets, without support for
daylight saving rules.  Localization for a variety of languages is
implemented for parsing and formatting.</p>
</li>
</ul>
<h3><a name="and_a_cast_of_thousands_...">And a Cast of Thousands ...</a></h3>
<p>It wouldn't be Perl if there weren't at least a dozen other modules
with overlapping functionality, right?  In this case, there's more
than two dozen!  For sanity's sake, I've excluded more than a few
modules, in particular those that either appeared to be unmaintained,
or those without enough comprehensible documentation for me to figure
out what the heck they do.  In alphabetical order, those remaining
are:</p>
<ul>
<li><strong><a name="item_astro%3a%3asunrise_%2d_ron_hill">Astro::Sunrise - Ron Hill</a></strong><br />
<p>This module provides sunrise and sunset times, given a specific date
and place.</p>
</li>
<li><strong><a name="item_astro%3a%3atime_%2d_chris_phillips">Astro::Time - Chris Phillips</a></strong><br />
<p>Contains a number of functions useful when dealing with datetimes as
they are used in astronomy.</p>
</li>
<li><strong><a name="item_class%3a%3adate_%2d_balzs_szab">Class::Date - Bal&0xE1;zs Szab&0xF3;</a></strong><br />
<p>This is basically the <a href="#item_time%3a%3apiece"><code>Time::Piece</code></a> API plus more stuff.  It appears
to provide complete time zone support based on the Olson database, by
way of <a href="#item_posix%2epm"><code>POSIX.pm</code></a>.  It is epoch-limited.</p>
</li>
<li><strong><a name="item_date%3a%3abusiness_%2d_richard_desimine">Date::Business - Richard DeSimine</a></strong><br />
<p>A simple interface for doing date math with business dates.  In other
words, weekends don't count, and you can define your own holidays.
This module is epoch-limited.</p>
</li>
<li><strong><a name="item_date%3a%3aconvert_%2d_mordechai_abzug">Date::Convert - Mordechai Abzug</a></strong><br />
<p>Converts dates between the Gregorian, Hebrew, and Julian calendars.</p>
</li>
<li><strong><a name="item_date%3a%3aconvert%3a%3afrench_rev_%2d_jean_forget">Date::Convert::French_Rev - Jean Forget</a></strong><br />
<p>Converts to and from the French Revolutionary calendar.</p>
</li>
<li><strong><a name="item_date%3a%3aday_%2d_john_von_essen">Date::Day - John Von Essen</a></strong><br />
<p>Tells you the day of the week for a given date.</p>
</li>
<li><strong><a name="item_date%3a%3adayofweek_%2d_rich_bowen">Date::DayofWeek - Rich Bowen</a></strong><br />
<p>Does exactly the same thing as <code>Date::Day</code> but only for years
1500-2699.  On the flip side, it uses a cuter algorithm.</p>
</li>
<li><strong><a name="item_date%3a%3adecade_%2d_michael_diekmann">Date::Decade - Michael Diekmann</a></strong><br />
<p>Provides three decade calculation functions with an API similar to
that of <a href="#item_date%3a%3acalc"><code>Date::Calc</code></a>.</p>
</li>
<li><strong><a name="item_date%3a%3adiscordian_%2d_rich_bowen">Date::Discordian - Rich Bowen</a></strong><br />
<p>Converts to and from the Discordian calendar.</p>
</li>
<li><strong><a name="item_date%3a%3aeaster_%2d_rich_bowen">Date::Easter - Rich Bowen</a></strong><br />
<p>Calculates the date Easter falls on in a given year.</p>
</li>
<li><strong><a name="item_date%3a%3ahandler_%2d_benoit_beausejour">Date::Handler - Benoit Beausejour</a></strong><br />
<p>A date object comparable to <a href="#item_time%3a%3apiece"><code>Time::Piece</code></a>, but with a more consistent
interface.  It implements localization, a variety of date math
operations, and includes an object for representing datetime spans.
It provides time zone support based on the native OS implementation,
which on some systems means support for the Olson database.  It is
epoch-limited.</p>
</li>
<li><strong><a name="item_date%3a%3aical_%2d_rich_bowen">Date::ICal - Rich Bowen</a></strong><br />
<p>A date object that provides a simple API, date math, and iCal
formatting and parsing (see RFC 2445).  It only support time zones as
offsets, but it is not epoch-limited.</p>
</li>
<li><strong><a name="item_date%3a%3aiso_%2d_rich_bowen">Date::ISO - Rich Bowen</a></strong><br />
<p>A subclass of Date::ICal that adds ISO 8601 format parsing and
formatting.</p>
</li>
<li><strong><a name="item_date%3a%3ajapanese%3a%3aera_%2d_tatsuhiko_miyagawa">Date::Japanese::Era - Tatsuhiko Miyagawa</a></strong><br />
C<p>onverts to and from Japanese Era dates.</p>
</li>
<li><strong><a name="item_date%3a%3ajapanese%3a%3aholiday_%2d_tomohiro_ikebe">Date::Japanese::Holiday - Tomohiro Ikebe</a></strong><br />
<p>Tells you whether or not a given date is a Japanese holiday.</p>
</li>
<li><strong><a name="item_date%3a%3aleapsecond_%2d_flvio_soibelmann_glock">Date::Leapsecond - Fl&0xE1;vio Soibelmann Glock</a></strong><br />
<p>Converts between UT1 and UTC times.</p>
</li>
<li><strong><a name="item_date%3a%3aleapyear_%2d_rich_bowen">Date::Leapyear - Rich Bowen</a></strong><br />
<p>One function to tell you whether or not a given year is a leap year.</p>
</li>
<li><strong><a name="item_date%3a%3amaya_%2d_abigail">Date::Maya - Abigail</a></strong><br />
<p>Converts between Julian days and the Mayan calendar.</p>
</li>
<li><strong><a name="item_date%3a%3apassover_%2d_rich_bowen">Date::Passover - Rich Bowen</a></strong><br />
<p>Calculates the dates of Passover and Rosh Hashanah for a given year.</p>
</li>
</ul>















<ul>
<li><strong><a name="item_date%3a%3aperiodparser_%2d_simon_cozens">Date::PeriodParser - Simon Cozens</a></strong><br />
<p>Parses English descriptions of time periods like &quot;this morning&quot; or
&quot;around two weeks ago&quot; and turns them into pairs of epoch times
representing the beginning and end of the period.</p>
</li>
<li><strong><a name="item_date%3a%3arange_%2d_tony_bowden">Date::Range - Tony Bowden</a></strong><br />
<p>An object for representing a range of dates.  Lets you figure out
whether two ranges overlap, whether a date is included in a given
range, and a few other useful things.</p>
</li>
<li><strong><a name="item_date%3a%3aroman_%2d_leo_cacciari">Date::Roman - Leo Cacciari</a></strong><br />
<p>An object for representing dates according to the Roman calendar.</p>
</li>
<li><strong><a name="item_date%3a%3aset_%2d_flvio_soibelmann_glock">Date::Set - Fl&0xE1;vio Soibelmann Glock</a></strong><br />
<p>An object that represents sets of datetimes.  A set can be either a
datetime span, a recurring set of dates, or a fixed set of specific
datetimes.  It provides set math operations for all of these, as well
as allowing you to iterate across the members of the set.  Also see
<code>Date::Set::Timezone</code>.</p>
</li>
<li><strong><a name="item_date%3a%3asimple_%2d_john_tobey">Date::Simple - John Tobey</a></strong><br />
A<p> date object that represents dates only, without a time component.
It provides date math.  It is not epoch-limited.</p>
</li>
<li><strong><a name="item_date%3a%3atie_%2d_flvio_soibelmann_glock">Date::Tie - Fl&0xE1;vio Soibelmann Glock</a></strong><br />
<p>A basic date object with date math.  Its functionality is implemented
via a tied hash interface.  It supports fixed offset time zones, and
it is epoch-limited.</p>
</li>
<li><strong><a name="item_http%3a%3adate_%2d_gisle_aas">HTTP::Date - Gisle Aas</a></strong><br />
<p>This module is part of the LWP distribution.  It parses many common
datetime formats, including all of those that are used by the HTTP
protocol.  If <code>Date::Parse</code> doesn't understand all the formats you
need to deal with, this module provides a good alternative.</p>
</li>
<li><strong><a name="item_time%3a%3aduration_%2d_sean_burke">Time::Duration - Sean Burke</a></strong><br />
<p>Given a number of seconds, this module return a human language
description of the duration.  For example, 3660 seconds would be &quot;1
hour and 1 minute&quot;.</p>
</li>
<li><strong><a name="item_time%3a%3ahuman_%2d_simon_cozens">Time::Human - Simon Cozens</a></strong><br />
<p>Given an epoch time, this module can return a string describing that
time in colloquial terms, such as &quot;half past nine&quot;.  It has hooks for
localization.</p>
</li>
<li><strong><a name="item_time%3a%3aunix_%2d_nathan_wiger">Time::Unix - Nathan Wiger</a></strong><br />
<p>Loading this module forces Perl's <a href="#item_time"><code>time()</code></a> function to use the Unix
epoch system, regardless of the OS on which the code is running.</p>
</li>
<li><strong><a name="item_time_modules_%2d_david_muir_sharnoff">Time modules - David Muir Sharnoff</a></strong><br />
<p>This distribution includes <code>Time::CTime</code>, <code>Time::ParseDate</code>, and
<code>Time::Timezone</code>, which are slightly more powerful versions of Graham
Barr's <code>Date::Format</code>, <code>Date::Parse</code>, and <code>Time::Zone</code>.</p>
</li>
</ul>
<h3><a name="but_wait,_there's_more!">But Wait, There's More!</a></h3>
<p>Not content to leave well enough alone, I've recently started a
project to fix what I see as the fundamental problem with the state of
Perl datetime modules.  That fundamental problem is that despite the
fact that almost all the possible functionality you could want exists,
it is scattered over a large number of incompatible modules.</p>
<p>For example, <a href="#item_date%3a%3acalc"><code>Date::Calc</code></a> provides good functionality for various
datetime calculations and date math, but the values it returns are not
well suited for being passed to <code>Date::Format</code>.  And while
<a href="#item_date%3a%3amanip"><code>Date::Manip</code></a> has powerful parsing, the return value from its parsing
routine cannot be passed to any other module without further
massaging.  And so and so on.</p>
<p>For example, if I wanted to parse a date with <code>Date::Parse</code> and then
calculate the date one week later with <a href="#item_date%3a%3acalc"><code>Date::Calc</code></a>, and then format
it with <code>Date::Format</code>, I'd have to do the following:</p>
<pre>
my $time1 = str2time($date_string); # Date::Parse</pre>
<pre>
# Today() from Date::Calc returns
# date information for an epoch time
my ($y1, $m1, $d1) = Today($time);</pre>
<pre>
my ($y2, $m2, $d2) = Add_Delta_Days($y1, $m1, $d1, 7);</pre>
<pre>
my $time2 = Date_to_Time($y2, $m2, $d2);</pre>
<pre>
print strftime('%B %d, %Y', $time2);</pre>
<p>Of course, I didn't <em>have</em> to use the <code>strftime()</code> function for
formatting a date.  I could have done it with just <a href="#item_date%3a%3acalc"><code>Date::Calc</code></a> as:</p>
<pre>
print sprintf('%s %02d %04d',
Month_to_Text($m2), $d2, $y2);</pre>
<p>But I want convenience.  If I'm dealing with many datetimes and I need
to parse various inputs, generate different formats, and do lots of
calculations, then a convenient and uniform API can go a long way
towards code maintainability.  The extra glue code needed to make
different modules cooperate can quickly obscure the actual intent of
the program.</p>
<p>Efforts in the past to herd all the existing module authors towards a
common API have failed, so rather than try that again, I decided to
just write even more datetime code.  As we all know, the best way to
put out a fire is to pour copious amounts of gasoline on it.  In order
to make my project sound cool, I'm calling it the &quot;Perl DateTime
Suite&quot;, which sounds much better than &quot;more date and time modules&quot;.</p>
<p>The goal for this project is to produce a suite of datetime modules
that do everything you'd ever need related to dates and times.  The
modules in this suite will cooperate with each other, which means that
a module that parses datetimes will return a standard object, and a
module for formatting datetimes will accept that standard object.</p>
<p>So far, this project has attracted interest from a number of people,
and discussions on the <a href="mailto:datetime@perl.org">datetime@perl.org</a> list have gone well.
Recently, I released alpha versions of the core object,
<code>DateTime.pm</code>, as well as <code>DateTime::TimeZone</code>, which provides
complete time zone support based on the Olson database.  There is also
an alpha of <code>DateTime::Format::ICal</code> on CPAN, a module for parsing
and formatting iCal datetimes and durations.  In the future, look for
more modules in the suite, all of which will begin with &quot;DateTime::&quot;.</p>
<h3><a name="further_resources_and_reading">Further Resources and Reading</a></h3>
<p>Some excellent online resources include Claus Tondering's Calendar FAQ
at <a href="http://www.tondering.dk/claus/calendar.html,">http://www.tondering.dk/claus/calendar.html,</a> as well as the US
Naval Observatory Time Service site at <a href="http://tycho.usno.navy.mil/.">http://tycho.usno.navy.mil/.</a>
For more information on time zones and the Olson database, see
<a href="http://www.twinsun.com/tz/tz-link.htm.">http://www.twinsun.com/tz/tz-link.htm.</a></p>
<p>If you're interested in discussing anything related to Perl and
datetimes, check out the <a href="mailto:datetime@perl.org">datetime@perl.org</a> list.  You can subscribe by
sending a message to <a href="mailto:datetime-subscribe@perl.org.">datetime-subscribe@perl.org.</a></p>
<h3><a name="thanks">Thanks</a></h3>
<p>Thanks to Jonathan Scott Duff, Nick Tonkin, and Iain Truskett for
reviewing this article before publication.</p>


                                    </div>


                                </div>
                                <div class="asset-footer">

    
                                    <div class="entry-categories">
                                        <h4>Categories<span class="delimiter">:</span></h4>
                                        <ul>
                                            <li><a href="/pub/cpan/" rel="tag">CPAN</a></li>
                                        </ul>
                                    </div>
    


                                </div>
                            </div>


                    
                    


                        </div>
                    </div>


                    <div id="beta">
    <div id="beta-inner">


    
    <div class="widget-what-is-perl widget">
    <div class="widget-content widget-content-what-is-perl">
       Visit the home of the  Perl programming language: <a href="http://www.perl.org/">Perl.org</a
    </div>
</div>
<div class="widget-find-out-more widget-archives widget">
    <div class="widget-content">
        <ul>
            <li><a href="http://www.perl.org/get.html">Download</a></li>
            <li><a href="http://perldoc.perl.org/">Documentation</a></li>
            <li><a href="http://blogs.perl.org/">Perl Bloggers</a></li>
            <li><a href="http://news.perlfoundation.org/">Foundation News</a></li>
        </ul>
    </div>
</div><div class="widget-tcpc widget">
<h3 class="widget-header">Sponsored by</h3>
    <div class="widget-content">
        <a href="http://training.perl.com/" alt="Perl Training" target="_blank"><img src="/i/tcpc.png" width="150" height="50"></a>
    </div>
</div>

<div class="widget-syndication widget">
    <div class="widget-content">
        <ul>
            <li><img src="/mt-static/images/status_icons/feed.gif" alt="Subscribe to feed" width="9" height="9" /> <a href="/pub/atom.xml">Subscribe to this website's feed</a></li>

        </ul>
    </div>
</div>
<div class="widget-archive-monthly widget-archive widget">
    <h3 class="widget-header">Monthly <a href="/pub/archives.html">Archives</a></h3>
    <div class="widget-content">
        <ul>
        
            <li><a href="/pub/2010/07/">July 2010 (1)</a></li>
        
    
        
            <li><a href="/pub/2008/05/">May 2008 (1)</a></li>
        
    
        
            <li><a href="/pub/2008/04/">April 2008 (2)</a></li>
        
    
        
            <li><a href="/pub/2008/03/">March 2008 (1)</a></li>
        
    
        
            <li><a href="/pub/2008/02/">February 2008 (1)</a></li>
        
    
        
            <li><a href="/pub/2008/01/">January 2008 (1)</a></li>
        
    
        
            <li><a href="/pub/2007/12/">December 2007 (2)</a></li>
        
    
        
            <li><a href="/pub/2007/09/">September 2007 (1)</a></li>
        
    
        
            <li><a href="/pub/2007/08/">August 2007 (1)</a></li>
        
    
        
            <li><a href="/pub/2007/07/">July 2007 (1)</a></li>
        
    
        
            <li><a href="/pub/2007/06/">June 2007 (1)</a></li>
        
    
        
            <li><a href="/pub/2007/05/">May 2007 (1)</a></li>
        
    
        
            <li><a href="/pub/2007/04/">April 2007 (1)</a></li>
        
    
        
            <li><a href="/pub/2007/03/">March 2007 (1)</a></li>
        
    
        
            <li><a href="/pub/2007/02/">February 2007 (1)</a></li>
        
    
        
            <li><a href="/pub/2007/01/">January 2007 (1)</a></li>
        
    
        
            <li><a href="/pub/2006/12/">December 2006 (1)</a></li>
        
    
        
            <li><a href="/pub/2006/11/">November 2006 (2)</a></li>
        
    
        
            <li><a href="/pub/2006/10/">October 2006 (1)</a></li>
        
    
        
            <li><a href="/pub/2006/09/">September 2006 (1)</a></li>
        
    
        
            <li><a href="/pub/2006/08/">August 2006 (1)</a></li>
        
    
        
            <li><a href="/pub/2006/07/">July 2006 (1)</a></li>
        
    
        
            <li><a href="/pub/2006/06/">June 2006 (1)</a></li>
        
    
        
            <li><a href="/pub/2006/05/">May 2006 (1)</a></li>
        
    
        
            <li><a href="/pub/2006/04/">April 2006 (1)</a></li>
        
    
        
            <li><a href="/pub/2006/03/">March 2006 (1)</a></li>
        
    
        
            <li><a href="/pub/2006/02/">February 2006 (4)</a></li>
        
    
        
            <li><a href="/pub/2006/01/">January 2006 (4)</a></li>
        
    
        
            <li><a href="/pub/2005/12/">December 2005 (4)</a></li>
        
    
        
            <li><a href="/pub/2005/11/">November 2005 (3)</a></li>
        
    
        
            <li><a href="/pub/2005/10/">October 2005 (2)</a></li>
        
    
        
            <li><a href="/pub/2005/09/">September 2005 (2)</a></li>
        
    
        
            <li><a href="/pub/2005/08/">August 2005 (9)</a></li>
        
    
        
            <li><a href="/pub/2005/07/">July 2005 (8)</a></li>
        
    
        
            <li><a href="/pub/2005/06/">June 2005 (9)</a></li>
        
    
        
            <li><a href="/pub/2005/05/">May 2005 (8)</a></li>
        
    
        
            <li><a href="/pub/2005/04/">April 2005 (7)</a></li>
        
    
        
            <li><a href="/pub/2005/03/">March 2005 (6)</a></li>
        
    
        
            <li><a href="/pub/2005/02/">February 2005 (7)</a></li>
        
    
        
            <li><a href="/pub/2005/01/">January 2005 (6)</a></li>
        
    
        
            <li><a href="/pub/2004/12/">December 2004 (8)</a></li>
        
    
        
            <li><a href="/pub/2004/11/">November 2004 (8)</a></li>
        
    
        
            <li><a href="/pub/2004/10/">October 2004 (5)</a></li>
        
    
        
            <li><a href="/pub/2004/09/">September 2004 (9)</a></li>
        
    
        
            <li><a href="/pub/2004/08/">August 2004 (6)</a></li>
        
    
        
            <li><a href="/pub/2004/07/">July 2004 (8)</a></li>
        
    
        
            <li><a href="/pub/2004/06/">June 2004 (6)</a></li>
        
    
        
            <li><a href="/pub/2004/05/">May 2004 (7)</a></li>
        
    
        
            <li><a href="/pub/2004/04/">April 2004 (8)</a></li>
        
    
        
            <li><a href="/pub/2004/03/">March 2004 (8)</a></li>
        
    
        
            <li><a href="/pub/2004/02/">February 2004 (9)</a></li>
        
    
        
            <li><a href="/pub/2004/01/">January 2004 (7)</a></li>
        
    
        
            <li><a href="/pub/2003/12/">December 2003 (4)</a></li>
        
    
        
            <li><a href="/pub/2003/11/">November 2003 (7)</a></li>
        
    
        
            <li><a href="/pub/2003/10/">October 2003 (8)</a></li>
        
    
        
            <li><a href="/pub/2003/09/">September 2003 (6)</a></li>
        
    
        
            <li><a href="/pub/2003/08/">August 2003 (7)</a></li>
        
    
        
            <li><a href="/pub/2003/07/">July 2003 (9)</a></li>
        
    
        
            <li><a href="/pub/2003/06/">June 2003 (9)</a></li>
        
    
        
            <li><a href="/pub/2003/05/">May 2003 (8)</a></li>
        
    
        
            <li><a href="/pub/2003/04/">April 2003 (8)</a></li>
        
    
        
            <li><a href="/pub/2003/03/">March 2003 (10)</a></li>
        
    
        
            <li><a href="/pub/2003/02/">February 2003 (8)</a></li>
        
    
        
            <li><a href="/pub/2003/01/">January 2003 (8)</a></li>
        
    
        
            <li><a href="/pub/2002/12/">December 2002 (5)</a></li>
        
    
        
            <li><a href="/pub/2002/11/">November 2002 (9)</a></li>
        
    
        
            <li><a href="/pub/2002/10/">October 2002 (7)</a></li>
        
    
        
            <li><a href="/pub/2002/09/">September 2002 (11)</a></li>
        
    
        
            <li><a href="/pub/2002/08/">August 2002 (8)</a></li>
        
    
        
            <li><a href="/pub/2002/07/">July 2002 (8)</a></li>
        
    
        
            <li><a href="/pub/2002/06/">June 2002 (4)</a></li>
        
    
        
            <li><a href="/pub/2002/05/">May 2002 (6)</a></li>
        
    
        
            <li><a href="/pub/2002/04/">April 2002 (6)</a></li>
        
    
        
            <li><a href="/pub/2002/03/">March 2002 (7)</a></li>
        
    
        
            <li><a href="/pub/2002/02/">February 2002 (5)</a></li>
        
    
        
            <li><a href="/pub/2002/01/">January 2002 (8)</a></li>
        
    
        
            <li><a href="/pub/2001/12/">December 2001 (7)</a></li>
        
    
        
            <li><a href="/pub/2001/11/">November 2001 (5)</a></li>
        
    
        
            <li><a href="/pub/2001/10/">October 2001 (9)</a></li>
        
    
        
            <li><a href="/pub/2001/09/">September 2001 (7)</a></li>
        
    
        
            <li><a href="/pub/2001/08/">August 2001 (13)</a></li>
        
    
        
            <li><a href="/pub/2001/07/">July 2001 (8)</a></li>
        
    
        
            <li><a href="/pub/2001/06/">June 2001 (13)</a></li>
        
    
        
            <li><a href="/pub/2001/05/">May 2001 (11)</a></li>
        
    
        
            <li><a href="/pub/2001/04/">April 2001 (9)</a></li>
        
    
        
            <li><a href="/pub/2001/03/">March 2001 (8)</a></li>
        
    
        
            <li><a href="/pub/2001/02/">February 2001 (8)</a></li>
        
    
        
            <li><a href="/pub/2001/01/">January 2001 (8)</a></li>
        
    
        
            <li><a href="/pub/2000/12/">December 2000 (6)</a></li>
        
    
        
            <li><a href="/pub/2000/11/">November 2000 (10)</a></li>
        
    
        
            <li><a href="/pub/2000/10/">October 2000 (10)</a></li>
        
    
        
            <li><a href="/pub/2000/09/">September 2000 (2)</a></li>
        
    
        
            <li><a href="/pub/2000/08/">August 2000 (2)</a></li>
        
    
        
            <li><a href="/pub/2000/07/">July 2000 (5)</a></li>
        
    
        
            <li><a href="/pub/2000/06/">June 2000 (7)</a></li>
        
    
        
            <li><a href="/pub/2000/05/">May 2000 (7)</a></li>
        
    
        
            <li><a href="/pub/2000/04/">April 2000 (3)</a></li>
        
    
        
            <li><a href="/pub/2000/03/">March 2000 (2)</a></li>
        
    
        
            <li><a href="/pub/2000/02/">February 2000 (2)</a></li>
        
    
        
            <li><a href="/pub/2000/01/">January 2000 (2)</a></li>
        
    
        
            <li><a href="/pub/1999/12/">December 1999 (6)</a></li>
        
    
        
            <li><a href="/pub/1999/11/">November 1999 (6)</a></li>
        
    
        
            <li><a href="/pub/1999/10/">October 1999 (5)</a></li>
        
    
        
            <li><a href="/pub/1999/09/">September 1999 (4)</a></li>
        
    
        
            <li><a href="/pub/1999/08/">August 1999 (3)</a></li>
        
    
        
            <li><a href="/pub/1999/07/">July 1999 (2)</a></li>
        
    
        
            <li><a href="/pub/1999/06/">June 1999 (3)</a></li>
        
    
        
            <li><a href="/pub/1999/04/">April 1999 (1)</a></li>
        
    
        
            <li><a href="/pub/1999/03/">March 1999 (1)</a></li>
        
    
        
            <li><a href="/pub/1999/01/">January 1999 (1)</a></li>
        
    
        
            <li><a href="/pub/1998/12/">December 1998 (1)</a></li>
        
    
        
            <li><a href="/pub/1998/11/">November 1998 (1)</a></li>
        
    
        
            <li><a href="/pub/1998/07/">July 1998 (2)</a></li>
        
    
        
            <li><a href="/pub/1998/06/">June 1998 (1)</a></li>
        
    
        
            <li><a href="/pub/1998/03/">March 1998 (1)</a></li>
        
        </ul>
    </div>
</div>
        
    

<div class="widget-powered widget">
    <div class="widget-content">
        <a href="http://www.movabletype.com/"><img src="/mt-static/images/bug-pbmt-white.png" alt="Powered by Movable Type 5.02" width="120" height="75" /></a>
    </div>
</div>



    </div>
</div>






                </div>
            </div>


            <div id="footer">
    <div id="footer-inner">
        <div id="footer-content">
            <div class="widget-powered widget">
                <div class="widget-content">
                    Powered by <a href="http://www.movabletype.com/" rel="generator">Movable Type Pro</a>
                </div>
            </div>

        </div>
    </div>
</div>



        </div>
    </div>
</body>
</html>
