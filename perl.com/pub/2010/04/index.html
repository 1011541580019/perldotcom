<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" id="sixapart-standard">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<meta name="generator" content="Movable Type Pro 5.13-en" />
<link rel="stylesheet" href="/pub/styles.css" type="text/css" />
<link rel="start" href="/pub/" title="Home" />
<link rel="alternate" type="application/atom+xml" title="Recent Entries" href="/pub/atom.xml" />
<script type="text/javascript" src="/pub/mt.js"></script>
<!--
<rdf:RDF xmlns="http://web.resource.org/cc/"
         xmlns:dc="http://purl.org/dc/elements/1.1/"
         xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
<Work rdf:about="/pub/">
<dc:title>Perl.com</dc:title>
<dc:description>news and views of the Perl programming language</dc:description>
<license rdf:resource="http://creativecommons.org/licenses/by-nc-nd/3.0/" />
</Work>
<License rdf:about="http://creativecommons.org/licenses/by-nc-nd/3.0/">
</License>
</rdf:RDF>
-->

<script type="text/javascript">

 var _gaq = _gaq || [];
 _gaq.push(['_setAccount', 'UA-50555-22']);
 _gaq.push(['_trackPageview']);

 (function() {
   var ga = document.createElement('script'); ga.type =
   'text/javascript'; ga.async = true;
   ga.src = ('https:' == document.location.protocol ? 'https://ssl' :
   'http://www') + '.google-analytics.com/ga.js';
   var s = document.getElementsByTagName('script')[0];
   s.parentNode.insertBefore(ga, s);
 })();

</script>
<script type='text/javascript' src='http://partner.googleadservices.com/gampad/google_service.js'></script>
<script type='text/javascript'>
GS_googleAddAdSenseService("ca-pub-4136420132070439");
GS_googleEnableAllServices();
</script>
<script type='text/javascript'>
GA_googleAddSlot("ca-pub-4136420132070439", "Perl_728x90");
</script>
<script type='text/javascript'>GA_googleFetchAds();</script>
    <title>Perl.com: April 2010 Archives</title>


    <link rel="prev" href="/pub/2010/03/" title="March 2010" />
    <link rel="next" href="/pub/2010/07/" title="July 2010" />

</head>
<body id="perl-com" class="mt-archive-listing mt-datebased-monthly-archive layout-wt">
    <div id="container">
        <div id="container-inner">


            <div id="header">
    <div id="header-inner">
        <div id="header-content">
        <span id="top_advert"> 
<!-- Put any landscape advert in here -->
<!-- Perl_728x90 -->
<script type='text/javascript'>
GA_googleFillSlot("Perl_728x90");
</script>
        </span> 



            <div id="header-name"><a href="/pub/" accesskey="1">Perl.com</a></div>
            <div id="header-description">news and views of the Perl programming language</div>




        </div>
    </div>
</div>



            <div id="content">
                <div id="content-inner">


                    <div id="alpha">
                        <div id="alpha-inner">


                            <h1 id="page-title" class="archive-title">April 2010 Archives</h1>





                            
                            <div id="entry-1966" class="entry-asset asset hentry">
    <div class="asset-header">
        <h2 class="asset-name entry-title"><a href="/pub/2010/04/inside-perl-512.html" rel="bookmark">Inside Perl 5.12</a></h2>
        <div class="asset-meta">
            <span class="byline">
    
                By <span class="vcard author"><a class="fn url" href="http://www.modernperlbooks.com/">chromatic</a></span> on <abbr class="published" title="2010-04-20T06:00:01-08:00">April 20, 2010  6:00 AM</abbr>
    
            </span>

            <span class="separator">|</span> <a href="/pub/2010/04/inside-perl-512.html#comments">3 Comments</a>
            

        </div>
    </div>
    <div class="asset-content entry-content">

        <div class="asset-body">
            <p><a href="http://news.perlfoundation.org/2010/04/perl-512-released.html">Perl 5.12 has just come out</a>.
A rejuvenated development process helps ensure a bright future for Perl as it enters its third decade of making easy things easy and hard things possible.
Here&#39;s what you can expect when you upgrade to the latest release.</p>

<h2><strong>Release Schedule</strong></h2>

<p>The largest change in Perl 5.12 isn&#39;t code.
It&#39;s the new release schedule.
Perl 5 now has monthly development releases on the 20th of every month.
Perl 5.13.0 is almost out,
as of the time of writing.
These monthly releases are snapshots of the development process.
They represent points at which people interested in what will become Perl 5.14 can test against their most important code.</p>

<p>The current plan is to release Perl 5.14 in a year.
Sometime around March,
the release manager will put together release candidates and start the countdown for final testing and release blocking bugs.
The process will repeat.</p>

<p>The Perl 5.12.x family will have several new releases in the next year as well,
though they will have only a few changes.
Jesse Vincent described <a href="http://www.nntp.perl.org/group/perl.perl5.porters/2010/04/msg158635.html">the policy for what changes will go into Perl 5.12.x maintenance releases</a> in a message to the Perl 5 Porters.
5.12.1 will come out in May 2010.
It will contain fixes for bugs found in 5.12.0,
but it will contain no new features or behaviors.
5.12.2 will follow in three months,
and so on.
It&#39;s not clear if 5.12.4 (February 2011) will be the final release of the 5.12.x family.</p>

<p>These plans are subject to change,
but the monthly releases have gone well,
and the release process for 5.12 had little controversy.
It&#39;s likely the next year will proceed similarly.</p>

<h2><strong>Improved Package Version Syntax</strong></h2>

<p>In previous versions of Perl 5,
individual packages set their version numbers by manipulating the package global variable <code>$VERSION</code>.
There were few rules for what this variable contained or how to parse this version number,
and toolchain modules such as <a href="http://search.cpan.org/perldoc?ExtUtils%3A%3AMakeMaker" class="podlinkpod"
>ExtUtils::MakeMaker</a> and <a href="http://search.cpan.org/perldoc?Module%3A%3ABuild" class="podlinkpod"
>Module::Build</a> have to perform several contortions to parse them with any degree of accuracy.
David Golden&#39;s <a href="http://www.dagolden.com/index.php/369/version-numbers-should-be-boring/">Version Numbers Should Be Boring</a> gives copious detail on how to do version numbers right,
if you can&#39;t use 5.12.</p>

<p>An addition to the core <a href="http://search.cpan.org/perldoc?version" class="podlinkpod"
>version</a> module enables a feature called "strict version numbers",
where these numbers conform to a few guidelines.
The most important rule is that version numbers must be standard numbers with one decimal point (<code>1.23</code>) <em>or</em> version strings (<code>v1.234.5</code>).</p>

<p>You may only use strict version numbers with the new package version syntax:</p>

<pre>    package Perl::Improved 1.23;

    package Perl::Improved v1.23.45;</pre>

<p>Internally, Perl will parse these the same way as it does:</p>

<pre>    use Perl::Improved 1.23;

    use Perl::Improved v1.23.45;</pre>

<p>... which is a benefit for consistency. As well, toolchain utilities can find and parse these version numbers with little effort, thanks in no small part to a canonical set of version number parsing regular expressions now found in <a href="http://search.cpan.org/perldoc?version" class="podlinkpod"
>version</a>.</p>

<p>Sadly, there&#39;s currently no mechanism by which to add this syntax to 5.10, but in a couple of years this may be the preferred way of specifying version numbers in Perl 5.</p>

<h2><strong>Strictures by Default</strong></h2>

<p>Several CPAN modules enable features such as <a href="http://search.cpan.org/perldoc?strict" class="podlinkpod"
>strict</a> when you use them, including <a href="http://search.cpan.org/perldoc?Moose" class="podlinkpod"
>Moose</a>, <a href="http://search.cpan.org/perldoc?perl5i" class="podlinkpod"
>perl5i</a>, <a href="http://search.cpan.org/perldoc?Modern%3A%3APerl" class="podlinkpod"
>Modern::Perl</a>, <a href="http://search.cpan.org/perldoc?Dancer" class="podlinkpod"
>Dancer</a>, and <a href="http://search.cpan.org/perldoc?Mojo" class="podlinkpod"
>Mojo</a>. Perl 5.12 also enables strictures when it encounters <code>use 5.012;</code>, along with other new language syntax features such as the <code>say</code> and <code>given</code>/<code>when</code> keywords.</p>

<p><code>use 5.012</code> does <em>not</em> enable warnings.</p>

<p>The <code>-E</code> flag <em>does</em> enable new language features, but it does <em>not</em> enable strictures.</p>

<p>The <code>-M5.012</code> flag <em>does</em> enable strictures and new language features.</p>

<h2><strong>Y2038 Safety</strong></h2>

<p>While Perl itself did not have a Y2K problem, many programs written in Perl made assumptions that produced apparent Y2K problems. Unfortunately, Perl&#39;s time handling relies on system libraries, and many of those systems exhaust their available capabilities when dealing with dates and times in the year 2038. (Developers who think they have decades to solve this problem should consider financial instruments such as 30-year mortgages.)</p>

<p>Perl 5.12 extends support for time and date handling in the core <code>localtime</code> and <code>gmtime</code> functions to manage dates beyond 2038 without overflow or truncation problems. Replacement libraries for earlier versions of Perl are available from the CPAN as <a href="http://search.cpan.org/perldoc?Time%3A%3Ay2038" class="podlinkpod"
>Time::y2038</a>.</p>

<h2><strong>Core Support for Language Mutation Extensions</strong></h2>

<p><a href="http://search.cpan.org/perldoc?Devel%3A%3ADeclare" class="podlinkpod"
>Devel::Declare</a> is the basis for a handful of CPAN distributions which add new features to Perl 5 without the drawbacks of source filters. <a href="http://search.cpan.org/perldoc?signatures" class="podlinkpod"
>signatures</a> and <a href="http://search.cpan.org/perldoc?MooseX%3A%3ADeclare" class="podlinkpod"
>MooseX::Declare</a> are two prime examples; they simplify common tasks in a very Perlish way and demonstrate how a few syntactic additions can remove a lot of repetitive code.</p>

<p>Unlike source filters, they compose together well and don&#39;t interfere with external code.</p>

<p><code>Devel::Declare</code> works by hijacking part of the Perl 5 parsing process. Though this has required poking in Perl&#39;s internals, Perl 5.12 includes a few APIs to make this behavior cleaner and better supported. In other words, it&#39;s not only <em>okay</em> for <code>Devel::Declare</code> to exist, but it&#39;s <em>important</em> that it exist and work and continue to work.</p>

<p>Some developers have discussed the idea of bringing <code>Devel::Declare</code> into the core in one form or another. This may or may not happen for Perl 5.14. Regardless, the process gives modules such as <code>signatures</code> and <code>MooseX::Declare</code> a further stability and support, and it provides opportunities for further syntax-bending extensions, some of which may enter the core themselves as new features.</p>

<h2><strong>Deprecation Warnings by Default</strong></h2>

<p>Perl 5 development makes a priority of supporting syntactic constructs found in older versions of Perl, even going as far as to deprecate but not remove some. As a minor compatibility change in Perl 5.12, deprecated features now give warnings when you use them, even if you haven&#39;t explicitly enabled deprecated warnings with <code>use warnings &#39;deprecated&#39;;</code>.</p>

<p>You may still disable deprecated warnings with <code>no warnings &#39;deprecated&#39;;</code>--they&#39;re still lexical warnings--but now these deprecations will be more obvious to developers who upgrade to and test their existing code against new releases of Perl 5.</p>

<p>Deprecations do not necessarily imply any timeframe for removal of the deprecated feature, except as otherwise expressed explicitly in the appropriate release delta. See <a href="http://search.cpan.org/perldoc?perl5120delta" class="podlinkpod"
>perl5120delta</a> for more details about specific deprecations in this release.</p>

<h2><strong>@INC Reorganized</strong></h2>

<p>Several of the core modules distributed with Perl 5 have dual lives on the CPAN. It&#39;s possible (and often worthwhile) to update them separately from the rest of Perl 5. If you do, Perl has to be able to find the updated versions instead of the core versions. When you compile Perl 5 itself, <code>@INC</code> contains a handful of default directories in which to look for modules. Some of these directories will contain core modules. Others contain modules you&#39;ll install later (likely through a CPAN client).</p>

<p>A reorganization of the order of these directories in the default <code>@INC</code> in Perl 5.12 makes Perl 5 prefer to load user-installed modules over core-supplied modules. This will make it easier to manage dual-lived modules, and should help distributions which package and redistribute Perl 5 to manage their installation paths appropriately. Unless you&#39;re a Perl 5 distributor, you should see no difference except for the lack of strange problems.</p>

<h2><strong>Deprecations</strong></h2>

<p>A handful of core modules are now deprecated: <a href="http://search.cpan.org/perldoc?Class%3A%3AISA" class="podlinkpod"
>Class::ISA</a>, <a href="http://search.cpan.org/perldoc?Pod%3A%3APlainer" class="podlinkpod"
>Pod::Plainer</a>, <a href="http://search.cpan.org/perldoc?Switch" class="podlinkpod"
>Switch</a>, and <a href="http://search.cpan.org/perldoc?Shell" class="podlinkpod"
>Shell</a>. They remain available from the CPAN, though consider using <code>given</code>/<code>when</code> (introduced in Perl 5.10.0) instead of <code>Switch</code>. There&#39;s no deprecation category quite strong enough to describe the recommendation against it.</p>

<p>The core has also included several libraries written in the Perl 4 era. They are now available from the CPAN in the <a href="http://search.cpan.org/perldoc?Perl4%3A%3ACoreLibs" class="podlinkpod"
>Perl4::CoreLibs</a> distribution. Though they are not <em>quite</em> deprecated yet, they will be in Perl 5.14. In almost every case, Perl 5 era replacements exist under active maintenance.</p>

<h2><strong>Unicode Improvements</strong></h2>

<p>As the Unicode standards change, so must Perl 5&#39;s Unicode handling. The biggest change in Perl 5.12 is an update to support the latest standards and definitions, specifically Unicode properties, property values, and regular expression matches using Unicode properties.</p>

<h2><strong>Miscellaneous</strong></h2>

<p>Many bugs have been fixed. Several performance improvements are present. More tests are available. Dual-lived modules have been updated. More documentation is available (including <a href="http://search.cpan.org/perldoc?perlperf" class="podlinkpod"
>perlperf</a>, a detailed discussion of profiling and optimizing Perl 5 programs). Some 200 people have changed 750,000 lines in more than 3,000 files.</p>

<p>Even with all of those changes, Perl 5 remains a vibrant, powerful programming language. Programs written a decade ago will still run with few, if any, necessary changes, and almost all of the CPAN is ready to run on it.</p>

<p>Yet development still continues. Perl 5.13.0 will come out on 20 April 2010, with all of the concomitant possibilities for improvements, bug fixes, and even more practical pragmatism. Perl 5.12.1 and 5.13.1 will follow next month, with more bugs fixed, documentation improved, core modules updated, and the language always a little bit nicer to use.</p>
        </div>



    </div>
    <div class="asset-footer"></div>
</div>


                            
                            <div id="entry-1964" class="entry-asset asset hentry">
    <div class="asset-header">
        <h2 class="asset-name entry-title"><a href="/pub/2010/04/a-website-in-a-minute-using-dancer-the-effortless-web-framework.html" rel="bookmark">A Website in a Minute Using Dancer, the Effortless Web Framework</a></h2>
        <div class="asset-meta">
            <span class="byline">
    
                <abbr class="published" title="2010-04-06T06:00:01-08:00">April  6, 2010  6:00 AM</abbr>
    
            </span>

            
            

        </div>
    </div>
    <div class="asset-content entry-content">

        <div class="asset-body">
            <p>While Perl has a few heavy hitters in the web framework world (<a
    href="http://search.cpan.org/perldoc?Catalyst">Catalyst</a>, <a
    href="http://search.cpan.org/perldoc?Jifty">Jifty</a>, <a
    href="http://search.cpan.org/perldoc?CGI%3A%3AApplication">CGI::App</a>),
sometimes they can seem like overkill.  When writing a light web service or a
high-end but not-as-complex website, you might want something smaller and
simpler.  This is where <a href="http://www.perldancer.org/">Dancer</a> comes
in.</p>

<p><a href="http://search.cpan.org/perldoc?Dancer">Dancer</a> is a web
framework whose purpose is to let you get a website up and running within a
minute, if not sooner.  It started as a port of Ruby&#39;s <a
    href="http://www.sinatrarb.com/">Sinatra</a> but has since took its own
path.</p>

<p>Dancer supports <a href="http://plackperl.org/">Plack</a>/<a
    href="http://plackperl.org/">PSGI</a> from an early version and has a
built-in scaffolding script to help you get up and running within seconds.  It
creates deployment scripts for you, includes a guide for deployment situations
to help you configure your webserver (whether <a
    href="http://www.danga.com/perlbal">Perlbal</a>, <a
    href="http://httpd.apache.org/">Apache</a>, <a
    href="http://www.lighttpd.net/">Lighttpd</a> or anything else you might
care to use) and has a default clean design to help you prototype your website
faster.</p>

<h2><strong>Dancing</strong></h2>

<p>The best way to learn, understand, and fall in love with Dancer is to get on
the dance floor:</p>

<pre><code>    $ <strong>cpan Dancer</strong> # or cpanp, or cpanm
    $ <strong>dancer -a MyApp</strong>
    + ./MyApp
    + MyApp/views
    + MyApp/views/index.tt
    + MyApp/views/layouts
    + MyApp/views/layouts/main.tt
    + MyApp/environments
    + MyApp/environments/development.yml
    + MyApp/environments/production.yml
    + MyApp/config.yml
    + MyApp/app.psgi
    + MyApp/MyApp.pm
    + MyApp/MyApp.pl
    + MyApp/public
    + MyApp/public/css
    + MyApp/public/css/style.css
    + MyApp/public/css/error.css
    + MyApp/public/images
    + MyApp/public/404.html
    + MyApp/public/dispatch.fcgi
    + MyApp/public/dispatch.cgi
    + MyApp/public/500.html</code></pre>

<p>The <code>dancer</code> application creates a <em>views</em> folder, which
contains layout and templates. It contains sane defaults you can use to start.
It also creates a <em>config.yaml</em> file and an <em>environments</em> folder
for environment-specific configurations. <em>MyApp.pm</em> and
<em>MyApp.pl</em> are the main application files. <em>MyApp.pl</em> includes a
built-in webserver for the development (or even deployment!) of your
application. The <em>public</em> folder contains default CSS and images.</p>

<p>This directory tree includes a few other interesting files; these are
dispatchers for various backends. The PSGI dispatcher is <em>app.psgi</em>. The
CGI and FCGI dispatchers are <em>public/dispatch.cgi</em> and
<em>public/dispatch.fcgi</em>, respectively.</p>

<p>Look in <em>MyApp/MyApp.pm</em>. Dancing really is this simple!</p>

<pre><code>    package MyApp;
    use Dancer;

    get &#39;/&#39; =&#62; sub {
        template &#39;index&#39;;
    };

    true;</code></pre>

<p>What does this all mean?</p>

<h2><strong>Routes</strong></h2>

<p>Dancer uses the notion of <em>routes</em> to specify the paths your users
might take in your website. All you need in order to write a Dancer application
is to define routes. Routes are not only simple, but concise and versatile.
They support variables (named matching, wildcard matching), regular expressions
and even conditional matching.</p>

<p>Here are a few examples:</p>

<pre><code>    get &#39;/&#39; =&#62; sub {
        return &#39;hello world!&#39;;
    };</code></pre>

<p>This route defines the root path of the application. If someone reaches <a
    href="http://example.com/">http://example.com/</a>, it will match this route.</p>

<p>The word <code>get</code> signifies the HTTP method (GET) for which the path
exists. If you use a web form, you need a route for a POST method:</p>

<pre><code>    post &#39;/user/add/&#39; =&#62; sub {
        # create a user using the data from the form
    };</code></pre>

<p>There are a few more methods (<strong>del</strong> for <em>DELETE</em>, <strong>put</strong> for <em>PUT</em>). You can also use <code>any</code> to provide a single route for all HTTP methods or for several specific methods:</p>

<pre><code>    any [&#39;get&#39;, &#39;post&#39;] =&#62; sub {
        # both post and get will reach here!
    };</code></pre>

<p>Variables are clean and simple:</p>

<pre><code>    get &#39;/user/view/:username/&#39; =&#62; sub {
        my $username = params-&#62;{username};
        template &#39;users&#39; =&#62; { username =&#62; $username };
    };</code></pre>

<p>This route matches <a
    href="http://example.com/user/view/variable/">http://example.com/user/view/variable/</a>,
while <em>variable</em> can be of any type.</p>

<p>Of course, you can write a more complex wildcard matching:</p>

<pre><code>    get &#39;/download/*.*&#39; =&#62; sub {
        # we extract the wild card matching using splat
        my ( $file, $ext ) = splat;
    };</code></pre>

<p>If you feel rambunctious, you can define a regular expression:</p>

<pre><code>    get r( &#39;/hello/([\w]+)&#39; ) =&#62; sub {
        my ($name) = splat;
    };</code></pre>

<p>Note that in these examples, the <code>splat</code> keyword returns the
values that the wildcards (the <code>*</code> used in routes) or regular
expressions (declared with <code>r()</code>) match. As a convenience, note also
that you do <em>not</em> have to escape the forward slash regex delimiters used
in <code>r()</code>; Dancer escapes them for you.</p>

<h2><strong>Multiple Routes</strong></h2>

<p>When writing many routes, you might find it easier to separate them to
different files according to their prefixes. Dancer provides
<code>prefix</code> and <code>load</code> to help you with that.</p>

<pre><code>    # in main Dancer application:
    load &#39;UserRoutes.pm&#39;;

    # in UserRoutes.pm:
    use Dancer &#39;:syntax&#39;; # importing just the syntax to create routes
    prefix &#39;/user&#39;;

    get &#39;/view/&#39;   =&#62; sub { ... };
    get &#39;/edit/&#39;   =&#62; sub { ... };
    get &#39;/delete/&#39; =&#62; sub { ... };</code></pre>

<p>These will match <a
    href="http://example.com/user/view/">http://example.com/user/view/</a>, <a
    href="http://example.com/user/edit/">http://example.com/user/edit/</a> and <a
    href="http://example.com/user/delete/">http://example.com/user/delete/</a>,
respectively.</p>

<h2><strong>Built for scalability</strong></h2>

<p>Dancer has a built-in route caching mechanism, making sure that even when you have a lot of routes, it will be able to serve them at almost the same speed as though you had only a few routes. This means that even if you have 600 routes, you do not have to worry about your application being slow!</p>

<h2><strong>Variables</strong></h2>

<p>Dancer supports internal variables. Declare them with <code>var</code>, and
you can later fetch them inside your routes:</p>

<pre><code>    var waiter =&#62; &#39;sawyer&#39;;

    get &#39;/welcome/&#39; =&#62; sub {
        my $name = vars-&#62;{waiter};
        return &#34;Hi, I&#39;m $name and I&#39;ll be your waiter this evening.&#34;;
    };</code></pre>

<h2><strong>Filters</strong></h2>

<p>Sometimes you want to be able to specify code to run before any route. <a
    href="http://search.cpan.org/perldoc?KiokuDB">KiokuDB</a>, for example,
requires you to make a scope whenever you want to work with the database. This
is easy to automate with the <code>before</code> filter:</p>

<pre><code>    before sub {
        var scope =&#62; $dir-&#62;new_scope;
    };</code></pre>

<p>Another common technique is to verify a session:</p>

<pre><code>    before sub {
        if ( !session(&#39;user&#39;) &#38;&#38; request-&#62;path_info !~ m{^/login} ) {
            # Pass the original path requested along to the handler:
            var requested_path =&#62; request-&#62;path_info;
            request-&#62;path_info(&#39;/login&#39;);
        }
    };</code></pre>

<h2><strong>Templates</strong></h2>

<p>Dancer will return to the user agent whatever you return from a route, just
like PSGI does. &#34;Hello, world!&#34; in Dancer is:</p>

<pre><code>    get &#39;/&#39; =&#62; sub { &#39;Hello, world!&#39; };</code></pre>

<p>Plain text isn&#39;t always what you want, so Dancer has powerful support
for templates. There are various template engines available (<a
    href="http://search.cpan.org/perldoc?Template">Template::Toolkit</a>, <a
    href="http://search.cpan.org/perldoc?Template%3A%3ATiny">Template::Tiny</a>,
<a href="http://search.cpan.org/perldoc?Tenjin">Tenjin</a>, <a
    href="http://search.cpan.org/perldoc?Text%3A%3AHaml">Text::Haml</a>, and <a
    href="http://search.cpan.org/perldoc?Mason">Mason</a>, to name a few).
Dancer also provides a default simple template engine called <a
    href="http://search.cpan.org/perldoc?Dancer%3A%3ATemplate%3A%3ASimple">Dancer::Template::Simple</a>.
This gives you a simple self-contained template engine at no additional
cost!</p>

<p>The <code>template</code> keyword allows you to specify which template to
process and which variables to pass to the template:</p>

<pre><code>    get &#39;/user/view/:name&#39; =&#62; sub {
        my $name = params-&#62;{name};

        # Dancer adds .tt automatically, but this is configurable
        template &#39;show_user&#39; =&#62; {
            name =&#62; $name,
            user =&#62; get_user($name),
        };
    };</code></pre>

<p>Dancer automatically supplies you an encompassing layout for your templates,
much like <a
    href="http://search.cpan.org/perldoc?Template%3A%3AToolkit">Template</a>&#39;s
<code>WRAPPER</code> option. This built-in template means you can use the
layout with other template engines, such as <a
    href="http://search.cpan.org/perldoc?Template%3A%3ATiny">Template::Tiny</a>.</p>

<p>Dancer accomplishes this by rendering two templates: the one you provided
and a (configurable) layout template. The layout template gets the output of
rendering your template as a <code>content</code> variable, then embeds that
content in the general page layout.</p>

<p>The default templates that come with Dancer demonstrate this point very
well. Here&#39;s <em>main.tt</em>, the default layout:</p>

<pre><code>    &#60;html&#62;&#60;head&#62;&#60;!-- some default css --&#62;&#60;/head&#62;
    &#60;body&#62;
    &#60;% content %&#62;
    &#60;/body&#62;
    &#60;/html&#62;</code></pre>

<h2><strong>Serializers make RESTing easier</strong></h2>

<p>Serializers are a new feature in Dancer (available since version 1.170).
They allow automatic serialization for your output in various forms (<a
    href="http://search.cpan.org/perldoc?Data%3A%3ADumper">Data::Dumper</a>, <a
    href="http://search.cpan.org/perldoc?YAML">YAML</a>, or <a
    href="http://search.cpan.org/perldoc?JSON">JSON</a>) to shorten the amount
of code you have to write in your application.</p>

<p>When programming a RESTful service, the JSON serializer cuts down much of
your code by automatically serializing your output. This makes your server-side
AJAX code much more efficient and less boilerplate code for you to write.</p>

<h2><strong>File uploads are fun</strong></h2>

<p>File uploads exist since version 1.170. Within a route, write:</p>

<pre><code>    # several files
    my @files = request-&#62;upload();

    # single file
    my $file  = request-&#62;upload();

    # then you can do several things with that file
    $file-&#62;copy_to(&#39;/my/upload/folder&#39;);
    my $fh       = $file-&#62;file_handle;
    my $content  = $file-&#62;content;
    my $filename = $file-&#62;filename;</code></pre>

<h2><strong>Easy configuration</strong></h2>

<p>You can configure everything (logging, session handling, template layout,
file locations) in Dancer using the main configuration file
(<em>appdir/config.yml</em>). There are configuration files for your specific
environment (<em>production</em> and <em>development</em>) and you can provide
environment-specific configurations in the corresponding file
(<em>appdir/environments/development.yml</em>, for example).</p>

<h2><strong>Summary</strong></h2>

<p>While Dancer is still evolving, it is already a production-ready simple-yet-powerful web framework lets you get from zero to web in record time. Put on your dancing shoes, define your steps, and bust a move!</p>

<p>Dancer is available on the CPAN (<a
    href="http://search.cpan.org/perldoc?Dancer">Dancer</a>), and <a
    href="http://github.com/sukria/Dancer">Dancer development takes place on
    Github</a>.</p>
        </div>



    </div>
    <div class="asset-footer"></div>
</div>




                            <div class="content-nav">
                                <a href="/pub/2010/03/">&laquo; March 2010</a> |
                                <a href="/pub/">Main Index</a> |
                                <a href="/pub/archives.html">Archives</a>
                                | <a href="/pub/2010/07/">July 2010 &raquo;</a>
                            </div>


                        </div>
                    </div>


                    <div id="beta">
    <div id="beta-inner">


    
    <div class="widget-what-is-perl widget">
    <div class="widget-content widget-content-what-is-perl">
       Visit the home of the  Perl programming language: <a href="http://www.perl.org/">Perl.org</a
    </div>
</div>
<div class="widget-find-out-more widget-archives widget">
    <div class="widget-content">
        <ul>
            <li><a href="http://www.perl.org/get.html">Download</a></li>
            <li><a href="http://perldoc.perl.org/">Documentation</a></li>
            <li><a href="http://blogs.perl.org/">Perl Bloggers</a></li>
            <li><a href="http://news.perlfoundation.org/">Foundation News</a></li>
        </ul>
    </div>
</div><div class="widget-tcpc widget">
<h3 class="widget-header">Sponsored by</h3>
    <div class="widget-content">
        <a href="http://training.perl.com/" alt="Perl Training" target="_blank"><img src="/i/tcpc.png" width="150" height="50"></a>
    </div>
</div>

<div class="widget-syndication widget">
    <div class="widget-content">
        <ul>
            <li><img src="/mt-static/images/status_icons/feed.gif" alt="Subscribe to feed" width="9" height="9" /> <a href="/pub/atom.xml">Subscribe to this website's feed</a></li>

        </ul>
    </div>
</div>
<div class="widget-archive-monthly widget-archive widget">
    <h3 class="widget-header">Monthly <a href="/pub/archives.html">Archives</a></h3>
    <div class="widget-content">
        <ul>
        
            <li><a href="/pub/2014/02/">February 2014 (1)</a></li>
        
    
        
            <li><a href="/pub/2014/01/">January 2014 (1)</a></li>
        
    
        
            <li><a href="/pub/2013/10/">October 2013 (1)</a></li>
        
    
        
            <li><a href="/pub/2013/01/">January 2013 (1)</a></li>
        
    
        
            <li><a href="/pub/2012/12/">December 2012 (1)</a></li>
        
    
        
            <li><a href="/pub/2012/11/">November 2012 (1)</a></li>
        
    
        
            <li><a href="/pub/2012/10/">October 2012 (2)</a></li>
        
    
        
            <li><a href="/pub/2012/08/">August 2012 (2)</a></li>
        
    
        
            <li><a href="/pub/2012/06/">June 2012 (11)</a></li>
        
    
        
            <li><a href="/pub/2012/05/">May 2012 (18)</a></li>
        
    
        
            <li><a href="/pub/2012/04/">April 2012 (17)</a></li>
        
    
        
            <li><a href="/pub/2012/02/">February 2012 (1)</a></li>
        
    
        
            <li><a href="/pub/2011/12/">December 2011 (1)</a></li>
        
    
        
            <li><a href="/pub/2011/09/">September 2011 (1)</a></li>
        
    
        
            <li><a href="/pub/2011/08/">August 2011 (2)</a></li>
        
    
        
            <li><a href="/pub/2011/06/">June 2011 (1)</a></li>
        
    
        
            <li><a href="/pub/2011/05/">May 2011 (3)</a></li>
        
    
        
            <li><a href="/pub/2011/04/">April 2011 (1)</a></li>
        
    
        
            <li><a href="/pub/2011/03/">March 2011 (1)</a></li>
        
    
        
            <li><a href="/pub/2011/02/">February 2011 (1)</a></li>
        
    
        
            <li><a href="/pub/2011/01/">January 2011 (1)</a></li>
        
    
        
            <li><a href="/pub/2010/11/">November 2010 (1)</a></li>
        
    
        
            <li><a href="/pub/2010/10/">October 2010 (2)</a></li>
        
    
        
            <li><a href="/pub/2010/09/">September 2010 (1)</a></li>
        
    
        
            <li><a href="/pub/2010/08/">August 2010 (3)</a></li>
        
    
        
            <li><a href="/pub/2010/07/">July 2010 (2)</a></li>
        
    
        
            <li><a href="/pub/2010/04/">April 2010 (2)</a></li>
        
    
        
            <li><a href="/pub/2010/03/">March 2010 (4)</a></li>
        
    
        
            <li><a href="/pub/2008/05/">May 2008 (1)</a></li>
        
    
        
            <li><a href="/pub/2008/04/">April 2008 (2)</a></li>
        
    
        
            <li><a href="/pub/2008/03/">March 2008 (1)</a></li>
        
    
        
            <li><a href="/pub/2008/02/">February 2008 (1)</a></li>
        
    
        
            <li><a href="/pub/2008/01/">January 2008 (1)</a></li>
        
    
        
            <li><a href="/pub/2007/12/">December 2007 (2)</a></li>
        
    
        
            <li><a href="/pub/2007/09/">September 2007 (1)</a></li>
        
    
        
            <li><a href="/pub/2007/08/">August 2007 (1)</a></li>
        
    
        
            <li><a href="/pub/2007/07/">July 2007 (1)</a></li>
        
    
        
            <li><a href="/pub/2007/06/">June 2007 (1)</a></li>
        
    
        
            <li><a href="/pub/2007/05/">May 2007 (1)</a></li>
        
    
        
            <li><a href="/pub/2007/04/">April 2007 (1)</a></li>
        
    
        
            <li><a href="/pub/2007/03/">March 2007 (1)</a></li>
        
    
        
            <li><a href="/pub/2007/02/">February 2007 (1)</a></li>
        
    
        
            <li><a href="/pub/2007/01/">January 2007 (1)</a></li>
        
    
        
            <li><a href="/pub/2006/12/">December 2006 (1)</a></li>
        
    
        
            <li><a href="/pub/2006/11/">November 2006 (2)</a></li>
        
    
        
            <li><a href="/pub/2006/10/">October 2006 (1)</a></li>
        
    
        
            <li><a href="/pub/2006/09/">September 2006 (1)</a></li>
        
    
        
            <li><a href="/pub/2006/08/">August 2006 (1)</a></li>
        
    
        
            <li><a href="/pub/2006/07/">July 2006 (1)</a></li>
        
    
        
            <li><a href="/pub/2006/06/">June 2006 (1)</a></li>
        
    
        
            <li><a href="/pub/2006/05/">May 2006 (1)</a></li>
        
    
        
            <li><a href="/pub/2006/04/">April 2006 (1)</a></li>
        
    
        
            <li><a href="/pub/2006/03/">March 2006 (1)</a></li>
        
    
        
            <li><a href="/pub/2006/02/">February 2006 (4)</a></li>
        
    
        
            <li><a href="/pub/2006/01/">January 2006 (4)</a></li>
        
    
        
            <li><a href="/pub/2005/12/">December 2005 (4)</a></li>
        
    
        
            <li><a href="/pub/2005/11/">November 2005 (3)</a></li>
        
    
        
            <li><a href="/pub/2005/10/">October 2005 (2)</a></li>
        
    
        
            <li><a href="/pub/2005/09/">September 2005 (2)</a></li>
        
    
        
            <li><a href="/pub/2005/08/">August 2005 (9)</a></li>
        
    
        
            <li><a href="/pub/2005/07/">July 2005 (8)</a></li>
        
    
        
            <li><a href="/pub/2005/06/">June 2005 (9)</a></li>
        
    
        
            <li><a href="/pub/2005/05/">May 2005 (8)</a></li>
        
    
        
            <li><a href="/pub/2005/04/">April 2005 (7)</a></li>
        
    
        
            <li><a href="/pub/2005/03/">March 2005 (6)</a></li>
        
    
        
            <li><a href="/pub/2005/02/">February 2005 (7)</a></li>
        
    
        
            <li><a href="/pub/2005/01/">January 2005 (6)</a></li>
        
    
        
            <li><a href="/pub/2004/12/">December 2004 (8)</a></li>
        
    
        
            <li><a href="/pub/2004/11/">November 2004 (8)</a></li>
        
    
        
            <li><a href="/pub/2004/10/">October 2004 (5)</a></li>
        
    
        
            <li><a href="/pub/2004/09/">September 2004 (9)</a></li>
        
    
        
            <li><a href="/pub/2004/08/">August 2004 (6)</a></li>
        
    
        
            <li><a href="/pub/2004/07/">July 2004 (8)</a></li>
        
    
        
            <li><a href="/pub/2004/06/">June 2004 (6)</a></li>
        
    
        
            <li><a href="/pub/2004/05/">May 2004 (7)</a></li>
        
    
        
            <li><a href="/pub/2004/04/">April 2004 (8)</a></li>
        
    
        
            <li><a href="/pub/2004/03/">March 2004 (8)</a></li>
        
    
        
            <li><a href="/pub/2004/02/">February 2004 (9)</a></li>
        
    
        
            <li><a href="/pub/2004/01/">January 2004 (7)</a></li>
        
    
        
            <li><a href="/pub/2003/12/">December 2003 (4)</a></li>
        
    
        
            <li><a href="/pub/2003/11/">November 2003 (7)</a></li>
        
    
        
            <li><a href="/pub/2003/10/">October 2003 (8)</a></li>
        
    
        
            <li><a href="/pub/2003/09/">September 2003 (6)</a></li>
        
    
        
            <li><a href="/pub/2003/08/">August 2003 (7)</a></li>
        
    
        
            <li><a href="/pub/2003/07/">July 2003 (9)</a></li>
        
    
        
            <li><a href="/pub/2003/06/">June 2003 (9)</a></li>
        
    
        
            <li><a href="/pub/2003/05/">May 2003 (8)</a></li>
        
    
        
            <li><a href="/pub/2003/04/">April 2003 (8)</a></li>
        
    
        
            <li><a href="/pub/2003/03/">March 2003 (10)</a></li>
        
    
        
            <li><a href="/pub/2003/02/">February 2003 (8)</a></li>
        
    
        
            <li><a href="/pub/2003/01/">January 2003 (8)</a></li>
        
    
        
            <li><a href="/pub/2002/12/">December 2002 (5)</a></li>
        
    
        
            <li><a href="/pub/2002/11/">November 2002 (9)</a></li>
        
    
        
            <li><a href="/pub/2002/10/">October 2002 (7)</a></li>
        
    
        
            <li><a href="/pub/2002/09/">September 2002 (11)</a></li>
        
    
        
            <li><a href="/pub/2002/08/">August 2002 (8)</a></li>
        
    
        
            <li><a href="/pub/2002/07/">July 2002 (8)</a></li>
        
    
        
            <li><a href="/pub/2002/06/">June 2002 (4)</a></li>
        
    
        
            <li><a href="/pub/2002/05/">May 2002 (6)</a></li>
        
    
        
            <li><a href="/pub/2002/04/">April 2002 (6)</a></li>
        
    
        
            <li><a href="/pub/2002/03/">March 2002 (7)</a></li>
        
    
        
            <li><a href="/pub/2002/02/">February 2002 (5)</a></li>
        
    
        
            <li><a href="/pub/2002/01/">January 2002 (8)</a></li>
        
    
        
            <li><a href="/pub/2001/12/">December 2001 (7)</a></li>
        
    
        
            <li><a href="/pub/2001/11/">November 2001 (5)</a></li>
        
    
        
            <li><a href="/pub/2001/10/">October 2001 (9)</a></li>
        
    
        
            <li><a href="/pub/2001/09/">September 2001 (7)</a></li>
        
    
        
            <li><a href="/pub/2001/08/">August 2001 (13)</a></li>
        
    
        
            <li><a href="/pub/2001/07/">July 2001 (8)</a></li>
        
    
        
            <li><a href="/pub/2001/06/">June 2001 (13)</a></li>
        
    
        
            <li><a href="/pub/2001/05/">May 2001 (11)</a></li>
        
    
        
            <li><a href="/pub/2001/04/">April 2001 (9)</a></li>
        
    
        
            <li><a href="/pub/2001/03/">March 2001 (8)</a></li>
        
    
        
            <li><a href="/pub/2001/02/">February 2001 (8)</a></li>
        
    
        
            <li><a href="/pub/2001/01/">January 2001 (8)</a></li>
        
    
        
            <li><a href="/pub/2000/12/">December 2000 (6)</a></li>
        
    
        
            <li><a href="/pub/2000/11/">November 2000 (10)</a></li>
        
    
        
            <li><a href="/pub/2000/10/">October 2000 (10)</a></li>
        
    
        
            <li><a href="/pub/2000/09/">September 2000 (2)</a></li>
        
    
        
            <li><a href="/pub/2000/08/">August 2000 (2)</a></li>
        
    
        
            <li><a href="/pub/2000/07/">July 2000 (5)</a></li>
        
    
        
            <li><a href="/pub/2000/06/">June 2000 (7)</a></li>
        
    
        
            <li><a href="/pub/2000/05/">May 2000 (7)</a></li>
        
    
        
            <li><a href="/pub/2000/04/">April 2000 (3)</a></li>
        
    
        
            <li><a href="/pub/2000/03/">March 2000 (2)</a></li>
        
    
        
            <li><a href="/pub/2000/02/">February 2000 (2)</a></li>
        
    
        
            <li><a href="/pub/2000/01/">January 2000 (2)</a></li>
        
    
        
            <li><a href="/pub/1999/12/">December 1999 (6)</a></li>
        
    
        
            <li><a href="/pub/1999/11/">November 1999 (6)</a></li>
        
    
        
            <li><a href="/pub/1999/10/">October 1999 (5)</a></li>
        
    
        
            <li><a href="/pub/1999/09/">September 1999 (4)</a></li>
        
    
        
            <li><a href="/pub/1999/08/">August 1999 (3)</a></li>
        
    
        
            <li><a href="/pub/1999/07/">July 1999 (2)</a></li>
        
    
        
            <li><a href="/pub/1999/06/">June 1999 (3)</a></li>
        
    
        
            <li><a href="/pub/1999/04/">April 1999 (1)</a></li>
        
    
        
            <li><a href="/pub/1999/03/">March 1999 (1)</a></li>
        
    
        
            <li><a href="/pub/1999/01/">January 1999 (1)</a></li>
        
    
        
            <li><a href="/pub/1998/12/">December 1998 (1)</a></li>
        
    
        
            <li><a href="/pub/1998/11/">November 1998 (1)</a></li>
        
    
        
            <li><a href="/pub/1998/07/">July 1998 (2)</a></li>
        
    
        
            <li><a href="/pub/1998/06/">June 1998 (1)</a></li>
        
    
        
            <li><a href="/pub/1998/03/">March 1998 (1)</a></li>
        
        </ul>
    </div>
</div>
        
    

<div class="widget-powered widget">
    <div class="widget-content">
        <a href="http://www.movabletype.com/"><img src="/mt-static/images/bug-pbmt-white.png" alt="Powered by Movable Type 5.13-en" width="120" height="75" /></a>
    </div>
</div>



    </div>
</div>






                </div>
            </div>


            <div id="footer">
    <div id="footer-inner">
        <div id="footer-content">
            <div class="widget-powered widget">
                <div class="widget-content">
                    Powered by <a href="http://www.movabletype.com/" rel="generator">Movable Type Pro</a>
                </div>
            </div>

            <div class="widget-creative-commons widget">
                <div class="widget-content">
                    This blog is licensed under a <a href="http://creativecommons.org/licenses/by-nc-nd/3.0/">Creative Commons License</a>.
                </div>
            </div>

        </div>
    </div>
</div>



        </div>
    </div>
</body>
</html>
