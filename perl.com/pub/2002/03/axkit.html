<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" id="sixapart-standard">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<meta name="generator" content="Movable Type Pro 5.02" />
<link rel="stylesheet" href="/pub/styles.css" type="text/css" />
<link rel="start" href="/pub/" title="Home" />
<link rel="alternate" type="application/atom+xml" title="Recent Entries" href="/pub/atom.xml" />
<script type="text/javascript" src="/pub/mt.js"></script>

<script type="text/javascript">

 var _gaq = _gaq || [];
 _gaq.push(['_setAccount', 'UA-50555-22']);
 _gaq.push(['_trackPageview']);

 (function() {
   var ga = document.createElement('script'); ga.type =
   'text/javascript'; ga.async = true;
   ga.src = ('https:' == document.location.protocol ? 'https://ssl' :
   'http://www') + '.google-analytics.com/ga.js';
   var s = document.getElementsByTagName('script')[0];
   s.parentNode.insertBefore(ga, s);
 })();

</script>
    
    <link rel="prev bookmark" href="/pub/2002/03/20020309.html" title="This Week on Perl 6 (3 -9 Mar 2002)" />
    <link rel="next bookmark" href="/pub/2002/03/dotnet.html" title="A Perl Hacker's Foray into .NET" />
    
    
    <title>Introducing AxKit - Perl.com</title>
</head>
<body id="perl-com" class="mt-entry-archive layout-wt">
    <div id="container">
        <div id="container-inner">


            <div id="header">
    <div id="header-inner">
        <div id="header-content">
        <div id="top_advert"> 
<!-- Put any landscape advert in here -->
<a href="http://www.perlfoundation.org/" target="_new">
<img src="/i/tpf_banner.png" width="468" height="60" /></a>
        </div> 



            <div id="header-name"><a href="/pub/" accesskey="1">Perl.com</a></div>
            <div id="header-description"></div>




        </div>
    </div>
</div>



            <div id="content">
                <div id="content-inner">


                    <div id="alpha">
                        <div id="alpha-inner">


                            <div id="entry-1268" class="entry-asset asset hentry">
                                <div class="asset-header">
                                    <h1 id="page-title" class="asset-name entry-title">Introducing AxKit</h1>
                                    <div class="asset-meta">
                                        <span class="byline">

                                            By <span class="vcard author">Barrie Slaymaker</span> on <abbr class="published" title="2002-03-13T00:00:00-08:00">March 13, 2002 12:00 AM</abbr>

                                        </span>


                                    </div>
                                </div>
                                <div class="asset-content entry-content">

                                    <div class="asset-body">
                                        

<!-- sidebar begins -->
<!-- don't move sidebars -->
<!-- sidebar ends -->
<a name="series_intro" /><h3>Series Introduction</h3>

<p>This article is the first in a series of articles introducing the
AxKit web application platform.  Starting from the basics, this series
explains how to install a basic AxKit server and then explores AxKit's
more powerful capabilities.  Basic familiarity with (or ability to <a
HREF="http://www.google.com/">google</a> for) <a
href="http://www.w3.org/XML/">XML</a>, <a
href="http://httpd.apache.org">Apache</a>, and <a
href="http://perl.apache.org/">mod_perl</a> is assumed but expertise is
not required.  Some <a href="/pub/a/{cs.r.file}?page=3#help">References and Helpful Resources</a>
are provided at the end of this article to help get you started as well.</p>

<a name="axkit" /><h3>AxKit: What is it?</h3>

<p><i>If you already know about AxKit and the wonders of server side XML
processing, you may wish to <a href="/pub/a/{cs.r.file}?page-2#installation">skip to the Basic Installation</a> section.</i>
</p>
<p>AxKit is an application and document server that uses XML processing
pipelines to generate and process content and deliver it to clients in a
wide variety of formats.  It's important to note that AxKit is not
limited to XML source documents; non-XML documents and data sources can
be converted to XML as needed.  A basic AxKit pipeline looks like:</p>

<div>
<img src="/pub/2002/03/12/graphics/basic_pipeline.jpg" alt="Axkit Processing Overview" />
</div>

<p>The source document may be an article, a data set, data returned by a
database query, the output from a Perl routine, mod_perl handler, CGI
script, etc., etc.  This document is fed in to the first processor
("Transform 1") which alters it according to a "stylesheet", which
specifies a set of transforms to apply to the document.  The output from
the first processor is fed to the second, the second to the third, and
so on until the final document is passed to the browser.</p>

<p>Processing techniques available conventional XML processing like <a
href="http://www.xslt.com/">XSLT</a>, advanced processing more suited to
dynamic content (such as Perl versions of <a
href="http://axkit.org/docs/xsp/index.xml">XSP</a> and tag libraries),
and low-level processing in Perl for those occasions where high level
abstractions merely get in the way.</p>

<p>AxKit provides seamless caching (of both code for generating dynamic
content and for transformed documents), compression, and character set
conversion.  AxKit also allows other technologies (CGI scripts, session
management tools, data converters, Perl modules, <a
href="http://theoryx5.uwinnipeg.ca/CPAN/data/Inline/C/C.html">Inline::C</a>,
etc) to be used to extend its capabilities.</p>

<p>The current version (v1.5) is tightly coupled with Apache/mod_perl
and leverages the exceptional configurability and performance of that
platform; work is underway to enable use in other environments like
offline processing, cgi-bin, and standalone servers.</p>

<a name="why_axkit" /><h3>Why AxKit?</h3>

<p>All the hype surrounding in-browser XML processing makes it seem like
there should be little or no need for server-side XML processing.
However, for a variety of reasons, XML in the browser is just not
available everywhere and, when available, has limitations that server
side processing addresses.</p>

<p>Server-side XML processing allows content to be queried, reorganized,
translated, styled, and so on, before sending the "final" HTML, XML, text,
SVG, or other output to the browser.  The server can implement heavy duty data
processing using the most effective and appropriate tools (as opposed to
the rather more limited tools available client-side, even when you can
control the client configuration). The server can then decide to deliver
a formatted document ready for presentation and display or to delegate
presentation formatting (and its attendant processing overhead) to the
client.  In some sense, that's an ideal approach: use the server to
apply heavyweight or unusual transforms and offload the presentation
formatting to the browser.</p>

<p>Some of the advantages of using XML on the server are:</p>

<ul>

<li>XML can be transformed on the server in to a wide variety of content
delivery languages: XML, WML, XHTML, HTML, RTF, PDF, graphics formats,
plain text, etc.
</li>
<li>Presentation can be separated from content and logic so that
transforming the presentation does not mean altering the XML documents
or settings on the authoring tools.  This article demonstrates
separating logic, content and presentation.
</li>
<li>Even using the same delivery language (HTML, say), documents can be
formatted in different ways for differing display media, screen vs.
printer, for instance.
</li>
<li>XML offers support for specifying the character encodings. Source
documents can be transcoded into different character sets depending on
the browser.
</li>
<li>XML documents can be expressed in a natural order for their
"primary" display mode and reordered differently to provide different
views of the data.  Terms in a document's glossary or index are not in
document order, for instance.
</li>
<li>As the content and capabilities of a web site evolves, new XML tags
can be introduced in new content without having to "upgrade" older
articles.  We'll touch on tag libraries (taglibs) in this article and
examine them in more depth in later articles.
</li>
<li>XML related technologies are becoming well known; hiring XML
literate personnel is becomming easier.  With in-house proprietary
formats, you always have to train them yourself.  With third party
proprietary formats, you hope you can get good enough training to do
what you need.
</li>
<li>XML processing tools (XSLT, editors, etc) are becoming commonly
available, so adopting XML outside of the IT department is feasible.
There's still a gap in support for WYSIWYG authoring tools, though some
are now commercially available.
</li>
<li>XML can optionally be transformed on the client for browsers that
offer sufficient features, thus reducing server workload. Be prepared
for slow client-side transforms on larger pages, and you will probably
want to do reordering and subsetting operations on the server.
</li>
<li>XML can provide descriptions of the structure of your web site and
its content in multiple formats. The "Semantic Web" is coming to a
browser near you (<i>real </i> soon now ;-). One of the biggest academic
concerns about the web is the lack of semantic content. When looking at
a page from a book in HTML format, who's to say whether a heading
enclosed by &lt;H1&gt; is a book's author, title, publisher, or even a
chapter or section heading? XML can be used to clarify such issues, and
standards like the Resource Description Framework (RDF, of course) are
gaining ground here.
</li>
<li>XML-based technologies like the RDF Site Summary (RSS) and the more
general Resource Description Framework can be leveraged to allow
automated navigation, syndication, and summarization of a web site by
other web sites. This is especially applicable to portions of a web site
containing current news and press releases; these are often reproduced
on other sites' news summaries and "headlines" pages.
</li>
</ul>

<p>AxKit enables all of this and far more.  Unlike some more insular
environments, AxKit happily bolts up to almost any other technology that
you can load in to an Apache web server or reach using external
requests.</p>














<a name="installation" /><h3>Basic Installation</a></h3>

<p>This section will walk you through a manual installation, but there's
an easier way if you just want to play with AxKit: grab the <a
href="/2002/03/12/examples/axkit_articles-1.0.tar.gz">AxKit demo tarball</a> for this
article, untar it and run the <tt>install</tt> script therein.  The
tarball includes the prerequisites necessary for most modern Unix-like
systems and will be updated new versions and example code with each
article.  If this works for you (it's been tested on both Linux and
FreeBSD), you can skip all of the manual install instructions and jump
to <a href="/pub/a/{cs.r.file}?page=2#testing">Testing AxKit</a>.</p>

<p>AxKit ties together a lot of different technologies and uses a lot of
CPAN modules.  Doing a basic manual install is not difficult if CPAN.pm
(or equivalent; a CPANPLUS is in the works as of this writing) is
working on your system.</p>

<p>The first step in installing AxKit is big, but not usually difficult:
installing Apache and mod_perl 1.x versions (2.x versions are in
development but are not released at the time of this writing).  The <a
href="http://perl.apache.org/guide/">mod_perl Developer's Guide</a>
covers this process in detail.  Here's a quick recipe for a Unix system
"private" (ie non-root) install in <tt>/home/me/axkit_articles-1.0</tt>
(vary the version numbers to suit):</p>

<pre>
$ mkdir axkit_articles-1.0
$ cd axkit_articles-1.0
$ lynx <a
href="http://httpd.apache.org/dist/httpd/">http://httpd.apache.org/dist/httpd/</a>  # Get the latest 1.x version of apache</b>
$ lynx <a href="http://perl.apache.org/dist/">http://perl.apache.org/dist/</a>  # Get the latest 1.x version of mod_perl.</b>
$ gunzip apache_1.3.23.tar.gz
$ tar xf apache_1.3.23.tar
$ gunzip mod_perl-1.26.tar.gz
$ tar xf mod_perl-1.26.tar
$ cd mod_perl-1.26
$ perl Makefile.PL \
>   APACHE_SRC=../apache_1.3.23/src/ \
>   DO_HTTPD=1 \
>   USE_APACI=1 \
>   APACHE_PREFIX=/home/me/axkit_articles-1.0/www \
>   PREFIX=/home/me/axkit_articles-1.0/www \
>   EVERYTHING=1
$ make
$ make test
$ make install
</pre>

<blockquote>It is usually wise to write your AxKit/mod_perl/Apache build
process in to a script so that you can debug it, repeat it, and alter it
as needed.  Servers like these are immensely powerful and configurable;
it's pretty likely that you'll want a reproducable, tweakable build
environment for them.</blockquote>

<p>On Windows, look for the most recent Apache Win32 binary in <a
href="http://www.apache.org/dist/httpd/binaries/win32/">http://httpd.apache.org/dist/binaries/win32/</a>
and then <a href="http://perl.apache.org/win32_binaries.html">use
<tt>PPM</tt> to install a mod_perl binary</a>.  <b>NOTE:</b> it is not
recommended to use Windows for production Apache/mod_perl servers;
Apache/mod_perl 1.x is not able to scale well on this platform;
Apache/mod_perl 2.x is addressing the fundamental architectural
disagreements that cause this.</p>
 
<p>If all went well, running</p>

<pre>
$ <b>www/bin/apachectl start</b>
</pre>


<p>should fire up a (non-AxKit) httpd on port 8080.  In case of
trouble (both packages are mature, so trouble is not frequent), see the
<a href="/pub/a/{cs.r.file}?page=3#help">References and Helpful Resources</a> section at the end
of the article for some places to seek help.</p>

<p>The next part is to install some AxKit prerequisites: the GNOME
project's libxml2 and libxslt will be used by the examples in this
series of articles, though they project's libxml2.  To see if they are
already installed, try:</p>

<pre>
$ <b>xml2-config --version</b>
2.4.13                         # Need >= 2.4.13
$ <b>xslt-config --version</b>
1.0.10                         # Need >= 1.0.10
</pre>

<p>If not, grab them from the source tarball for the article or <a
href="http://download.gnome.org/GNOME/stable/sources/">a random GNOME
mirror</a> and install them using <tt>./configure &amp;&amp; make
&amp;&amp; make install</tt>.  The tarball above installs all of the
prerequisites in the "private" install tree; here we're installing them
in the system's shared locations to keep the manual install easy.  See
the commands generated by the install script if you want private copies.</p>

<blockquote> <b>Please note:</b> libxslt 1.0.10 has a known (very minor)
failure in its test suite which causes <tt>make</tt> to fail on some
systems when testing <tt>tests/exslt/sets/has-same-node.1.xsl</tt>.  The
<tt>install</tt> script provided with this article's source tarball
removes the offending test before running <tt>make</tt>.  </blockquote>

<p>Now that all of the major prerequisites are installed, let's let
<tt>CPAN.pm</tt> install the final pieces:</p>

<pre>
$ <b>su</b>
Password:
# <b>perl -MCPAN -e shell</b>
...
cpan> <b>install XML::LibXSLT</b>
...
cpan> <b>install AxKit::XSP::Util</b>
...
cpan> <b>quit</b>
# <b>exit</b>
</pre>

<p>The AxKit::XSP::Util installation should install AxKit and a number
of other prerequisites.  If CPAN.pm does not work for you, you might
just want to grab the axkit-demo tarball mentioned above and install the
packages you find there by hand.  There are a lot of them, though, so
getting CPAN working is propably the easiest way to do a manual install.</p>

<a name="testing" /><h3>Testing AxKit</a></h3>

<blockquote> All of the relative directories mentioned from now on
assume that you are in the <tt>axkit_articles-x.y</tt> directory unless
otherwise indicated.</blockquote>

<p>Once all of the required modules are installed, tweak the
<tt>www/conf/httpd.conf</tt> file to load AxKit by adding:</p>

<pre>
##
## AxKit Configuration
##

PerlModule AxKit

&lt;Directory "/home/me/axkit_articles-1.0/www/htdocs"&gt;
    Options -All +Indexes +FollowSymLinks

    # Tell mod_dir to translate / to /index.xml or /index.xsp
    DirectoryIndex index.xsp
    AddHandler axkit .xml .xsp

    AxDebugLevel 10

    AxGzipOutput On

    AxAddXSPTaglib AxKit::XSP::Util

    AxAddStyleMap application/x-xsp \
                  Apache::AxKit::Language::XSP
&lt;/Directory&gt;
</pre>

<p>We'll walk through the configuration in a bit, but first
let's add a <tt>www/htdocs/index.xsp</tt> test page that
looks like:

<pre>
&lt;?xml-stylesheet href="NULL" type="application/x-xsp"?&gt;
&lt;xsp:page
    xmlns:xsp="http://www.apache.org/1999/XSP/Core"
    xmlns:util="http://apache.org/xsp/util/v1"
&gt;
  &lt;html&gt;
    &lt;body&gt;
      &lt;p&gt;Hi! It's &lt;util:time format="%H:%M:%S"/&gt;.&lt;/p&gt;
    &lt;/body&gt;
  &lt;/html&gt;
&lt;/xsp:page&gt;
</pre>

<p>Now you should be able to restart the server and request the test
page like so (whitespace added for readability and so it can be compared
to <tt>index.xsp</tt> easily):</p>

<pre>
$ <b>www/bin/apachectl restart</b>
$ <b>lynx -source <a href="http://127.0.0.1:8080">http://127.0.0.1:8080/</a></b>
&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;html&gt;
  &lt;body&gt;
    &lt;p&gt;Hi! It's Tue Feb  5 16:26:31 2002.&lt;/p&gt;
  &lt;/body&gt;
&lt;html&gt;
</pre>

<p>Each request should generate a new page with a different time stamp.
You may need to tweak the <tt>Port</tt> directive in
<tt>www/conf/httpd.conf</tt> if something's already running on port
8080.</p>













<a name="how" /><h3>How the example works</a></h3>

<p>Later articles in this series will examine various features of AxKit
in more depth, for now let's take a look at how the example from the
installation section works.</p>

<blockquote>In fact, hopefully by the next article, a new release of
AxKit should have a simple demo facility for each of it's major XML
processing alternatives available.  If so, the tarball accompanying the
next article will contain the new release.</blockquote>

<a name="how-config" /><h4>The Configuration</a></h4>

<p>AxKit integrates quite tightly with the Apache configuration engine.
The Apache configuration engine is far more than a text file parser: it
forms the core of Apache's request handling capabilities and is the key
to Apache's flexibility and extensibility.  The directives added to the
server's configuration above are a mix of native Apache directives and
AxKit directives.  Let's walk through the first part of the request
cycle and see how the Apache configuration directives affect the
request.</p>

<blockquote>The Apache httpd is primarily a configuration engine and a
collection of special-purpose modules.  This discussion glosses over the
fact that several modules other than mod_perl and AxKit are used to
process this request and refers to them all as "Apache".</blockquote>

<p>When the HTTP request arrives, Apache parses it and maps the path
portion of the URL ("/") to a location on the harddrive
(<tt>/home/me/axkit_articles-1.0/www/htdocs</tt>).  The URI maps to a
directory and the Apache directives "<tt>DocumentRoot</tt>" (not shown,
it's part of the default install), "<tt>&lt;Directory&gt;</tt>",
"<tt>Options +Indexes</tt>" and "<tt>DirectoryIndex</tt>" cause Apache
to map this URI to the file <tt>index.xsp</tt>.</p>

<p>Now that the underlying resource has been identified, Apache uses the
<tt>.xsp</tt> extension to figure out what module should deliver the
resource to the browser.  The <tt>AddHandler AxKit .xsp</tt> directive
tells Apache to delegate the response handling to AxKit.  This is very
similar to establishing a mod_perl handler for a URI except that it is
implemented in C and is a bit faster than a standard mod_perl response
handler.</p>

<a name="how-processing" /><h4>The Processing Chain</a></h4>

<p>The test document, <tt>index.xsp</tt> is an example of XSP,
eXtensible Server Pages, one of the several languages that AxKit
supports.  We'll get to how the XSP is processed in a moment.</p>

<p>When AxKit begins the task of handling the response it has already,
through cooperation with Apache's configuration engine processed it's
configuration directives.  These have the following effects:</p>

<dl>

<dt><tt>AxDebugLevel 10</tt>

<dd>Causes quite a lot of output in the <tt>www/logs/error_log</tt>,

<dt><tt>AxGzipOutput On</tt>

<dd>Enables automatic gzip compression (via Compress::Zlib).  This is
only used if the client can accept compressed documents.  AxKit even
goes the extra mile and compresses output for a few clients that can
handle it but don't set the HTTP <tt>Accept-Encoding:</tt> header
properly.

<dt><tt>AxAddStyleMap application/x-xsp Apache::AxKit::Language::XSP</tt>

<dd>Establishes a mapping between the MIME type
"<tt>application/x-xsp</tt>" and the Apache::AxKit::Language::XSP
module.  We'll see shortly how this mapping tells AxKit what module to
use when applying a type of transform.

<dt><tt>AxAddXSPTaglib</tt>

<dd>Notes that the XSP engine needs to load the AxKit::XSP::Util (this
supplies some of the Perl code called by <tt>index.xsp</tt>),

</dl>

<p>The first thing AxKit needs to do when handling a response is to
configure the processing pipeline.  The first place AxKit looks for
directions is in the source document; it scans the source document for
<tt>&lt;?xml-stylesheet...?&gt;</tt> processing instructions like:</p>

<pre>
<tt>&lt;?xml-stylesheet href="NULL" type="application/x-xsp"?&gt;</tt>
</pre>

<blockquote>AxKit has two alternative mechanisms that provide far more
power and flexibility; we'll look at these as we walk through more
advanced configurations in later articles.</blockquote>

<p>The xml-stylesheet PIs specify a list of transforms to apply to the
source document; these are applied in the order that they occur in the
document.  Each processing instruction specifies a stylesheet ("NULL" in
this case: XSP doesn't use them, we'll cover that in a moment), and a
processor type ("application/x-xsp").  The <tt>AxAddStyleMap</tt>
directives specify which Perl modules handle with processor types, and
the one in our example maps <tt>application/x-xsp</tt> to
Apache::AxKit::Language::XSP.</p>

<p>That's all quite complex; here's a diagram that shows how the most
important bits of this example affect the processing pipeline:</p>
<div>
<img src="/pub/2002/03/12/graphics/config_flow.jpg" alt="index.xsp configuration data flow" />
</div>
<p>and the resulting pipeline looks like:</p>
<div>
<img src="/pub/2002/03/12/graphics/index_xsp_pipeline.jpg" alt="index.xsp processing pipeline" />
</div>
<p>As the diagram shows, the source <tt>.xsp</tt> page is read from
disk, then compiled in to Perl source code (using the <tt>util:</tt>
taglib as necessary) and cached on disk.  The resulting source code is
then run to generate the result document for this request, which is
compressed (if the client supports compression), and sent to the client.</p>

<blockquote>You can see the source code in <tt>www/logs/error_log</tt>
when the <tt>AxDebugLevel</tt> is set to at least 10.</blockquote>

<p>Note that AxKit is smart enough to not cache the output document
(there's no cache between the XSP processor and the output); XSP is
intended for dynamic pages and its output documents should not be
cached.</p>

<p>When <tt>index.xsp</tt> is compiled, the resulting code builds the
output document node by node.  The <tt>&lt;util:time .../&gt;</tt> tag
is converted in to a subroutine call that calls perl's
<tt>localtime</tt> function.  See the <tt>error_log</tt> to see the
generated Perl (our <tt>AxDebugLevel</tt> is set to 10, so XSP.pm emits
this to the error log), and see the function <tt>get_date()</tt> in
AxKit::XSP::Util for the <tt>localtime()</tt> call.</p>

<a name="XSP" /><h4>XSP and Taglibs</a></h4>

<p>XSP is unlike most XML processing "languages" in that it does not
actually use stylesheets; instead, XSP pages contain special tags that
are executed each time the page is requested.  In <tt>index.xsp</tt>,
for instance, the <tt>&lt;util:time format="%H:%M:%S"/&gt;</tt> tag is
converted in to Perl code which calls localtime.</p>

<blockquote>Most XML filters apply a transform to the source XML to
generate the result XML.  These transforms are called "stylesheets".  As
mentioned, XSP does not use stylesheets. We will cover stylesheet based
transforms in future articles.</blockquote>

<p>The <tt>util:</tt> portion of the tag is a prefix indicating that the
util taglib will handle that tag.  The <tt>util:</tt> prefix is an <a
href="http://www.jclark.com/xml/xmlns.htm">XML namespace</a> prefix and
is not hard-coded; the <tt>xmlns:util</tt> attribute in the root element
of <tt>index.xsp</tt>:

<pre>
&lt;xsp:page
    xmlns:xsp="http://www.apache.org/1999/XSP/Core"
    <b>xmlns:util="http://apache.org/xsp/util/v1"</b>
&gt;
</pre>

<p>binds the <tt>util:</tt> prefix to the taglib.  The module that
provides the code behind the <tt>util:</tt> taglib, <a
href="http://theoryx5.uwinnipeg.ca/CPAN/data/AxKit-XSP-Util/Util.html">AxKit::XSP::Util</a>,
has the same URI ("<tt>http://apache.org/xsp/util/v1</tt>") hardcoded in
it.  When the <tt>AxAddXSPTaglib</tt> directive is seen in the
<tt>httpd.conf</tt> file, AxKit::XSP::Util registers with the XSP module
to handle all tags in that namespace.</p>

<p>An XSP page may include as many taglib namespaces and tags as it
needs.  CPAN contains a <a
href="http://theoryx5.uwinnipeg.ca/mod_perl/cpan-search?search=AxKit%3A%3AXSP%3A%3A">large
and growing collection</a> of taglibs for use with AxKit's XSP
implementation, and we'll look at two ways of writing taglibs for Apache
in the next two articles.</p>

<p>The taglibs approach is superficially similar to many of the
templating engines on CPAN; indeed, some of the the templating systems
have been extended recently to includ taglibs. There are several
important differences between these and XSP, however.</p>

<ul>

<li>XSP input files must be well formed XML, this makes it impossible to
generate malformed XML.  With templating systems, typos in the content
markup can easily reach the browser with no warnings.</p>

<li>The source document may be transformed before it is handed to the
XSP processor.  This allows you to build simple taglibs as XSLT
transforms deployed upstream of the XSP processor.  Because AxKit's XSP
translates XSP pages in to code and caches the code, these transforms
will not be run each request; they are captured in the cached code.
This can also be used to "capture" static transforms.</p>

<li>XSP encourages content, logic, and presentation to be separated; XSP
pages add logic to content and generate well formed XML that can be (and
usually is) massaged by "real" stylesheets to effect different
presentations.</p>

<li>as with some of the more sophisticated templating systems, XSP is
designed to be extensible; adding a taglib is as simple as configuring
adding an <tt>AxAddXSPTaglib</tt> statement to the <tt>httpd.conf</tt>
file and then referring to it in the source document.  In the test code,
the <tt>&lt;util:time&gt;</tt> tag is provided by the
<tt>Apache::XSP::Util</tt> module, and you may load as many taglibs as
necessary in to the server.</p>

</ul>

<a name="summary" /><h3>Milepost 1 and the Road Ahead</a></h3>

<p>This is the first article in this series, presenting AxKit's
installation and introducing one of AxKit's processing technologies:
XSP.  In the next article we'll see how to chain together filters to
apply stylesheets to both static documents and XSP-generated documents
to allow the same documents to be delivered in different forms.
Following that we'll examine how to write taglibs in Perl (the
recommended approach) using some helper modules, and XSLT.</p>

<a name="help" /><h3>References and Helpful Resources</a></h3>

<p>There are several very helpful places to research problems, ask
questions, and learn more.  Try to find others who have had similar
problems before posting a question, of course, but the user groups
listed here are the place to ask:</p>
<dl>

<dt><A href="http://axkit.org">the AxKit web site</a> (which may have
moved to an <a href="http://xml.apache.org/">xml.apache.org</a> site by
the time you read this)

<dd>The "official" AxKit web site.

<dt><a href="http://www.axkit.org/docs/guide.dkb">The AxKit Guide</a>

<dd>An in-depth introduction to AxKit.

<dt>The axkit-users@axkit.org mailing list.

<dd>Browse the <a
href="http://axkit.org/cgi-bin/ezmlm-cgi/3">archives</a> or <a
href="http://axkit.org/mailinglist.xml">subscribe</a>.  This is the
place to discuss AxKit-specific problems and offer solutions, patches
and success stories.  The mod_perl resources listed here are perfect for
general mod_perl build and support issues as well.

<dt><a
href="http://perl.apache.org/guide/">mod_perl Developer's Guide</a>
<dd>The first place to check for
Apache+mod_perl build advice and debugging tips.

<dt><a
href="http://mathforum.org/epigone/modperl">modperl@perl.apache.org email
archives</a>

<dd>Look here to see if anyone else has had your problems and (usually)
found a solution.  This list is about to move to an @perl.org address at
the time of this writing so I won't point you to a soon-to-be-stale
subscription form.

<dt><a
href="http://aspn.activestate.com/ASPN/Mail/Browse/Threaded/perl-xml">perl-xml@listserv1.ActiveState.com</a>

<dd>A mailing list for general perl and XML questions, including axkit
support. (subscribe at <a
href="http://listserv.activestate.com/mailman/listinfo/perl-xml">http://listserv.activestate.com/mailman/listinfo/perl-xml</a>).

<dt>The <tt>#axkit</tt> IRC channel at <tt>irc.rhizomatic.net</tt>

<dd>A friendly place where you can often get quick advice right from
experienced AxKit users and contributors.

</dl>

<p>As with all online Open Source communities, please do try to pay
forward any help you receive.</p>

<p>Thanks to Martin Oldfield, Kip Hampton and Robin Berjon for their thorough
technical reviews, though I'm sure I managed to sneak some bugs by them.
AxKit and many of the Perl modules it uses are primarily written by
Matt Sergeant with extensive contributions from these good folks and
others, so many thanks to all contributors as well.</p>

<p>Copyright 2002, Robert Barrie Slaymaker, Jr.  All Rights Reserved.</p>








                                    </div>


                                </div>
                                <div class="asset-footer">

    
                                    <div class="entry-categories">
                                        <h4>Categories<span class="delimiter">:</span></h4>
                                        <ul>
                                            <li><a href="/pub/xml/" rel="tag">XML</a></li>
                                        </ul>
                                    </div>
    


                                </div>
                            </div>


                    
                    


                        </div>
                    </div>


                    <div id="beta">
    <div id="beta-inner">


    
    <div class="widget-what-is-perl widget">
    <div class="widget-content widget-content-what-is-perl">
       Visit the home of the  Perl programming language: <a href="http://www.perl.org/">Perl.org</a
    </div>
</div>
<div class="widget-find-out-more widget-archives widget">
    <div class="widget-content">
        <ul>
            <li><a href="http://www.perl.org/get.html">Download</a></li>
            <li><a href="http://perldoc.perl.org/">Documentation</a></li>
            <li><a href="http://blogs.perl.org/">Perl Bloggers</a></li>
            <li><a href="http://news.perlfoundation.org/">Foundation News</a></li>
        </ul>
    </div>
</div><div class="widget-tcpc widget">
<h3 class="widget-header">Sponsored by</h3>
    <div class="widget-content">
        <a href="http://training.perl.com/" alt="Perl Training" target="_blank"><img src="/i/tcpc.png" width="150" height="50"></a>
    </div>
</div>

<div class="widget-syndication widget">
    <div class="widget-content">
        <ul>
            <li><img src="/mt-static/images/status_icons/feed.gif" alt="Subscribe to feed" width="9" height="9" /> <a href="/pub/atom.xml">Subscribe to this website's feed</a></li>

        </ul>
    </div>
</div>
<div class="widget-archive-monthly widget-archive widget">
    <h3 class="widget-header">Monthly <a href="/pub/archives.html">Archives</a></h3>
    <div class="widget-content">
        <ul>
        
            <li><a href="/pub/2010/07/">July 2010 (1)</a></li>
        
    
        
            <li><a href="/pub/2008/05/">May 2008 (1)</a></li>
        
    
        
            <li><a href="/pub/2008/04/">April 2008 (2)</a></li>
        
    
        
            <li><a href="/pub/2008/03/">March 2008 (1)</a></li>
        
    
        
            <li><a href="/pub/2008/02/">February 2008 (1)</a></li>
        
    
        
            <li><a href="/pub/2008/01/">January 2008 (1)</a></li>
        
    
        
            <li><a href="/pub/2007/12/">December 2007 (2)</a></li>
        
    
        
            <li><a href="/pub/2007/09/">September 2007 (1)</a></li>
        
    
        
            <li><a href="/pub/2007/08/">August 2007 (1)</a></li>
        
    
        
            <li><a href="/pub/2007/07/">July 2007 (1)</a></li>
        
    
        
            <li><a href="/pub/2007/06/">June 2007 (1)</a></li>
        
    
        
            <li><a href="/pub/2007/05/">May 2007 (1)</a></li>
        
    
        
            <li><a href="/pub/2007/04/">April 2007 (1)</a></li>
        
    
        
            <li><a href="/pub/2007/03/">March 2007 (1)</a></li>
        
    
        
            <li><a href="/pub/2007/02/">February 2007 (1)</a></li>
        
    
        
            <li><a href="/pub/2007/01/">January 2007 (1)</a></li>
        
    
        
            <li><a href="/pub/2006/12/">December 2006 (1)</a></li>
        
    
        
            <li><a href="/pub/2006/11/">November 2006 (2)</a></li>
        
    
        
            <li><a href="/pub/2006/10/">October 2006 (1)</a></li>
        
    
        
            <li><a href="/pub/2006/09/">September 2006 (1)</a></li>
        
    
        
            <li><a href="/pub/2006/08/">August 2006 (1)</a></li>
        
    
        
            <li><a href="/pub/2006/07/">July 2006 (1)</a></li>
        
    
        
            <li><a href="/pub/2006/06/">June 2006 (1)</a></li>
        
    
        
            <li><a href="/pub/2006/05/">May 2006 (1)</a></li>
        
    
        
            <li><a href="/pub/2006/04/">April 2006 (1)</a></li>
        
    
        
            <li><a href="/pub/2006/03/">March 2006 (1)</a></li>
        
    
        
            <li><a href="/pub/2006/02/">February 2006 (4)</a></li>
        
    
        
            <li><a href="/pub/2006/01/">January 2006 (4)</a></li>
        
    
        
            <li><a href="/pub/2005/12/">December 2005 (4)</a></li>
        
    
        
            <li><a href="/pub/2005/11/">November 2005 (3)</a></li>
        
    
        
            <li><a href="/pub/2005/10/">October 2005 (2)</a></li>
        
    
        
            <li><a href="/pub/2005/09/">September 2005 (2)</a></li>
        
    
        
            <li><a href="/pub/2005/08/">August 2005 (9)</a></li>
        
    
        
            <li><a href="/pub/2005/07/">July 2005 (8)</a></li>
        
    
        
            <li><a href="/pub/2005/06/">June 2005 (9)</a></li>
        
    
        
            <li><a href="/pub/2005/05/">May 2005 (8)</a></li>
        
    
        
            <li><a href="/pub/2005/04/">April 2005 (7)</a></li>
        
    
        
            <li><a href="/pub/2005/03/">March 2005 (6)</a></li>
        
    
        
            <li><a href="/pub/2005/02/">February 2005 (7)</a></li>
        
    
        
            <li><a href="/pub/2005/01/">January 2005 (6)</a></li>
        
    
        
            <li><a href="/pub/2004/12/">December 2004 (8)</a></li>
        
    
        
            <li><a href="/pub/2004/11/">November 2004 (8)</a></li>
        
    
        
            <li><a href="/pub/2004/10/">October 2004 (5)</a></li>
        
    
        
            <li><a href="/pub/2004/09/">September 2004 (9)</a></li>
        
    
        
            <li><a href="/pub/2004/08/">August 2004 (6)</a></li>
        
    
        
            <li><a href="/pub/2004/07/">July 2004 (8)</a></li>
        
    
        
            <li><a href="/pub/2004/06/">June 2004 (6)</a></li>
        
    
        
            <li><a href="/pub/2004/05/">May 2004 (7)</a></li>
        
    
        
            <li><a href="/pub/2004/04/">April 2004 (8)</a></li>
        
    
        
            <li><a href="/pub/2004/03/">March 2004 (8)</a></li>
        
    
        
            <li><a href="/pub/2004/02/">February 2004 (9)</a></li>
        
    
        
            <li><a href="/pub/2004/01/">January 2004 (7)</a></li>
        
    
        
            <li><a href="/pub/2003/12/">December 2003 (4)</a></li>
        
    
        
            <li><a href="/pub/2003/11/">November 2003 (7)</a></li>
        
    
        
            <li><a href="/pub/2003/10/">October 2003 (8)</a></li>
        
    
        
            <li><a href="/pub/2003/09/">September 2003 (6)</a></li>
        
    
        
            <li><a href="/pub/2003/08/">August 2003 (7)</a></li>
        
    
        
            <li><a href="/pub/2003/07/">July 2003 (9)</a></li>
        
    
        
            <li><a href="/pub/2003/06/">June 2003 (9)</a></li>
        
    
        
            <li><a href="/pub/2003/05/">May 2003 (8)</a></li>
        
    
        
            <li><a href="/pub/2003/04/">April 2003 (8)</a></li>
        
    
        
            <li><a href="/pub/2003/03/">March 2003 (10)</a></li>
        
    
        
            <li><a href="/pub/2003/02/">February 2003 (8)</a></li>
        
    
        
            <li><a href="/pub/2003/01/">January 2003 (8)</a></li>
        
    
        
            <li><a href="/pub/2002/12/">December 2002 (5)</a></li>
        
    
        
            <li><a href="/pub/2002/11/">November 2002 (9)</a></li>
        
    
        
            <li><a href="/pub/2002/10/">October 2002 (7)</a></li>
        
    
        
            <li><a href="/pub/2002/09/">September 2002 (11)</a></li>
        
    
        
            <li><a href="/pub/2002/08/">August 2002 (8)</a></li>
        
    
        
            <li><a href="/pub/2002/07/">July 2002 (8)</a></li>
        
    
        
            <li><a href="/pub/2002/06/">June 2002 (4)</a></li>
        
    
        
            <li><a href="/pub/2002/05/">May 2002 (6)</a></li>
        
    
        
            <li><a href="/pub/2002/04/">April 2002 (6)</a></li>
        
    
        
            <li><a href="/pub/2002/03/">March 2002 (7)</a></li>
        
    
        
            <li><a href="/pub/2002/02/">February 2002 (5)</a></li>
        
    
        
            <li><a href="/pub/2002/01/">January 2002 (8)</a></li>
        
    
        
            <li><a href="/pub/2001/12/">December 2001 (7)</a></li>
        
    
        
            <li><a href="/pub/2001/11/">November 2001 (5)</a></li>
        
    
        
            <li><a href="/pub/2001/10/">October 2001 (9)</a></li>
        
    
        
            <li><a href="/pub/2001/09/">September 2001 (7)</a></li>
        
    
        
            <li><a href="/pub/2001/08/">August 2001 (13)</a></li>
        
    
        
            <li><a href="/pub/2001/07/">July 2001 (8)</a></li>
        
    
        
            <li><a href="/pub/2001/06/">June 2001 (13)</a></li>
        
    
        
            <li><a href="/pub/2001/05/">May 2001 (11)</a></li>
        
    
        
            <li><a href="/pub/2001/04/">April 2001 (9)</a></li>
        
    
        
            <li><a href="/pub/2001/03/">March 2001 (8)</a></li>
        
    
        
            <li><a href="/pub/2001/02/">February 2001 (8)</a></li>
        
    
        
            <li><a href="/pub/2001/01/">January 2001 (8)</a></li>
        
    
        
            <li><a href="/pub/2000/12/">December 2000 (6)</a></li>
        
    
        
            <li><a href="/pub/2000/11/">November 2000 (10)</a></li>
        
    
        
            <li><a href="/pub/2000/10/">October 2000 (10)</a></li>
        
    
        
            <li><a href="/pub/2000/09/">September 2000 (2)</a></li>
        
    
        
            <li><a href="/pub/2000/08/">August 2000 (2)</a></li>
        
    
        
            <li><a href="/pub/2000/07/">July 2000 (5)</a></li>
        
    
        
            <li><a href="/pub/2000/06/">June 2000 (7)</a></li>
        
    
        
            <li><a href="/pub/2000/05/">May 2000 (7)</a></li>
        
    
        
            <li><a href="/pub/2000/04/">April 2000 (3)</a></li>
        
    
        
            <li><a href="/pub/2000/03/">March 2000 (2)</a></li>
        
    
        
            <li><a href="/pub/2000/02/">February 2000 (2)</a></li>
        
    
        
            <li><a href="/pub/2000/01/">January 2000 (2)</a></li>
        
    
        
            <li><a href="/pub/1999/12/">December 1999 (6)</a></li>
        
    
        
            <li><a href="/pub/1999/11/">November 1999 (6)</a></li>
        
    
        
            <li><a href="/pub/1999/10/">October 1999 (5)</a></li>
        
    
        
            <li><a href="/pub/1999/09/">September 1999 (4)</a></li>
        
    
        
            <li><a href="/pub/1999/08/">August 1999 (3)</a></li>
        
    
        
            <li><a href="/pub/1999/07/">July 1999 (2)</a></li>
        
    
        
            <li><a href="/pub/1999/06/">June 1999 (3)</a></li>
        
    
        
            <li><a href="/pub/1999/04/">April 1999 (1)</a></li>
        
    
        
            <li><a href="/pub/1999/03/">March 1999 (1)</a></li>
        
    
        
            <li><a href="/pub/1999/01/">January 1999 (1)</a></li>
        
    
        
            <li><a href="/pub/1998/12/">December 1998 (1)</a></li>
        
    
        
            <li><a href="/pub/1998/11/">November 1998 (1)</a></li>
        
    
        
            <li><a href="/pub/1998/07/">July 1998 (2)</a></li>
        
    
        
            <li><a href="/pub/1998/06/">June 1998 (1)</a></li>
        
    
        
            <li><a href="/pub/1998/03/">March 1998 (1)</a></li>
        
        </ul>
    </div>
</div>
        
    

<div class="widget-powered widget">
    <div class="widget-content">
        <a href="http://www.movabletype.com/"><img src="/mt-static/images/bug-pbmt-white.png" alt="Powered by Movable Type 5.02" width="120" height="75" /></a>
    </div>
</div>



    </div>
</div>






                </div>
            </div>


            <div id="footer">
    <div id="footer-inner">
        <div id="footer-content">
            <div class="widget-powered widget">
                <div class="widget-content">
                    Powered by <a href="http://www.movabletype.com/" rel="generator">Movable Type Pro</a>
                </div>
            </div>

        </div>
    </div>
</div>



        </div>
    </div>
</body>
</html>
