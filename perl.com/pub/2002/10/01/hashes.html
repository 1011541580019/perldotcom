<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" id="sixapart-standard">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<meta name="generator" content="Movable Type Pro 5.13-en" />
<link rel="stylesheet" href="/pub/styles.css" type="text/css" />
<link rel="start" href="/pub/" title="Home" />
<link rel="alternate" type="application/atom+xml" title="Recent Entries" href="/pub/atom.xml" />
<script type="text/javascript" src="/pub/mt.js"></script>
<!--
<rdf:RDF xmlns="http://web.resource.org/cc/"
         xmlns:dc="http://purl.org/dc/elements/1.1/"
         xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
<Work rdf:about="/pub/2002/10/01/hashes.html">
<dc:title>How Hashes Really Work</dc:title>
<dc:description><![CDATA[ It's easy to take hashes for granted in Perl. They are simple, fast, and they usually &quot;just work,&quot; so people never need to know or care about how they are implemented. Sometimes, though, it's interesting and rewarding to look...]]></dc:description>
<dc:creator>Abhijit Menon-Sen</dc:creator>
<dc:date>2002-10-01T00:00:00-08:00</dc:date>
<license rdf:resource="http://creativecommons.org/licenses/by-nc-nd/3.0/" />
</Work>
<License rdf:about="http://creativecommons.org/licenses/by-nc-nd/3.0/">
</License>
</rdf:RDF>
-->

<script type="text/javascript">

 var _gaq = _gaq || [];
 _gaq.push(['_setAccount', 'UA-50555-22']);
 _gaq.push(['_trackPageview']);

 (function() {
   var ga = document.createElement('script'); ga.type =
   'text/javascript'; ga.async = true;
   ga.src = ('https:' == document.location.protocol ? 'https://ssl' :
   'http://www') + '.google-analytics.com/ga.js';
   var s = document.getElementsByTagName('script')[0];
   s.parentNode.insertBefore(ga, s);
 })();

</script>
<script type='text/javascript' src='http://partner.googleadservices.com/gampad/google_service.js'></script>
<script type='text/javascript'>
GS_googleAddAdSenseService("ca-pub-4136420132070439");
GS_googleEnableAllServices();
</script>
<script type='text/javascript'>
GA_googleAddSlot("ca-pub-4136420132070439", "Perl_728x90");
</script>
<script type='text/javascript'>GA_googleFetchAds();</script>
    
    <link rel="prev bookmark" href="/pub/2002/09/p6pdigest/20020929.html" title="This week on Perl 6 (9/23 - 9/29, 2002)" />
    <link rel="next bookmark" href="/pub/2002/10/p6pdigest/20021006.html" title="This week on Perl 6 (9/30 - 10/6, 2002)" />
    
    
    <title>How Hashes Really Work - Perl.com</title>
</head>
<body id="perl-com" class="mt-entry-archive layout-wt">
    <div id="container">
        <div id="container-inner">


            <div id="header">
    <div id="header-inner">
        <div id="header-content">
        <span id="top_advert"> 
<!-- Put any landscape advert in here -->
<!-- Perl_728x90 -->
<script type='text/javascript'>
GA_googleFillSlot("Perl_728x90");
</script>
        </span> 



            <div id="header-name"><a href="/pub/" accesskey="1">Perl.com</a></div>
            <div id="header-description">news and views of the Perl programming language</div>




        </div>
    </div>
</div>



            <div id="content">
                <div id="content-inner">


                    <div id="alpha">
                        <div id="alpha-inner">


                            <div id="entry-1374" class="entry-asset asset hentry">
                                <div class="asset-header">
                                    <h1 id="page-title" class="asset-name entry-title">How Hashes Really Work</h1>
                                    <div class="asset-meta">
                                        <span class="byline">

                                            By <span class="vcard author">Abhijit Menon-Sen</span> on <abbr class="published" title="2002-10-01T00:00:00-08:00">October  1, 2002 12:00 AM</abbr>

                                        </span>


                                    </div>
                                </div>
                                <div class="asset-content entry-content">

                                    <div class="asset-body">
                                        

<p>It's easy to take hashes for granted in Perl. They are simple, fast, and
they usually &quot;just work,&quot; so people never need to know or care about how
they are implemented. Sometimes, though, it's interesting and rewarding
to look at familiar tools in a different light. This article follows the
development of a simple hash class in Perl in an attempt to find out how
hashes really work.</p>
<p>A hash is an unordered collection of values, each of which is identified
by a unique key. A value can be retrieved by its key, and one can add to
or delete from the collection. A data structure with these properties is
called a dictionary, and some of the many ways to implement them are
outlined below.</p>

<csperl file="grab" domain="on" record="b/515" template="article_sidebar.view">

<p>Many objects are naturally identified by unique keys (like login names),
and it is convenient to use a dictionary to address them in this manner.
Programs use their dictionaries in different ways. A compiler's symbol
table (which records the names of functions and variables encountered
during compilation) might hold a few hundred names that are looked up
repeatedly (since names usually occur many times in a section of code).
Another program might need to store 64-bit integers as keys, or search
through several thousands of filenames.</p>
<p>How can we build a generally useful dictionary?</p>

<h3><a name="implementing_dictionaries">Implementing Dictionaries</a></h3>
<p>One simple way to implement a dictionary is to use a linked list of keys
and values (that is, a list where each element contains a key and the
corresponding value). To find a particular value, one would need to scan
the list sequentially, comparing the desired key with each key in turn
until a match is found, or we reach the end of the list.</p>
<p>This approach becomes progressively slower as more values are added to
the dictionary, because the average number of elements we need to scan
to find a match keeps increasing. We would discover that a key was not
in the dictionary only after scanning every element in it. We could make
things faster by performing binary searches on a sorted array of keys
instead of using a linked list, but performance would still degrade as
the dictionary grew larger.</p>
<p>If we could transform every possible key into a unique array index (for
example, by turning the string &quot;red&quot; into the index 14328.), then we could
store each value in a corresponding array entry. All searches,
insertions and deletions could then be performed with a single array
lookup, irrespective of the number of keys. But although this strategy
is simple and fast, it has many disadvantages and is not always useful.</p>
<p>For one thing, calculating an index must be fast, and independent of the
size of the dictionary (or we would lose all that we gained by not using
a linked list). Unless the keys are already unique integers, however, it
isn't always easy to quickly convert them into array indexes (especially
when the set of possible keys is not known in advance, which is common).
Furthermore, the number of keys actually stored in the dictionary is
usually minute in comparison to the total number of possible keys, so
allocating an array that could hold everything is wasteful.</p>
<p>For example, although a typical symbol table could contain a few hundred
entries, there are about 50 billion alphanumeric names with six or fewer
characters. Memory may be cheap enough for an occasional million-element
array, but 50 billion elements (of which most remain unused) is still
definitely overkill.</p>
<p>(Of course, there are many different ways to implement dictionaries. For
example, red-black trees provide different guarantees about expected and
worst-case running times, that are most appropriate for certain kinds of
applications. This article does not discuss these possibilities further,
but future articles may explore them in more detail.)</p>
<p>What we need is a practical compromise between speed and memory usage; a
dictionary whose memory usage is proportional to the number of values it
contains, but whose performance doesn't become progressively worse as it
grows larger.</p>
<p>Hashes represent just such a compromise.</p>

<h3><a name="hashes">Hashes</a></h3>
<p>Hashes are arrays (entries in it are called slots or buckets), but they
do not require that every possible key correspond directly to a unique
entry. Instead, a function (called a hashing function) is used to
calculate the index corresponding to a particular key. This index
doesn't have to be unique, i.e., the function may return the same hash
value for two or more keys.  (We disregard this possibility for a while,
but return to it later, since it is of great importance.)</p>
<p>We can now look up a value by computing the hash of its key, and looking
at the corresponding bucket in the array. As long as the running time of
our hashing function is independent of the number of keys, we can always
perform dictionary operations in constant time. Since hashing functions
make no uniqueness guarantees, however, we need some way to to resolve
collisions (i.e., the hashed value of a key pointing to an occupied
bucket).</p>
<p>The simple way to resolve collisions is to avoid storing keys and values
directly in buckets, and to use per-bucket linked lists instead. To find
a particular value, its key is hashed to find the index of a bucket, and
the linked list is scanned to find the exact key. The lists are known as
chains, and this technique is called chaining.</p>
<p>(There are other ways to handle collisions, e.g. via open addressing, in
which colliding keys are stored in the first unoccupied slot whose index
can be recursively derived from that of an occupied one. One consequence
is that the hash can contain only as many values as it has buckets. This
technique is not discussed here, but references to relevant material are
included below.)</p>

<h4><a name="hashing_functions">Hashing Functions</a></h4>
<p>Since chaining repeatedly performs linear searches through linked lists,
it is important that the chains always remain short (that is, the number
of collisions remains low). A good hashing function would ensure that it
distributed keys uniformly into the available buckets, thus reducing the
probability of collisions.</p>
<p>In principle, a hashing function returns an array index directly; in
practice, it is common to use its (arbitrary) return value modulo the
number of buckets as the actual index. (Using a prime number of buckets
that is not too close to a power of two tends to produce a sufficiently
uniform key distribution.)</p>
<p>Another way to keep chains remain short is to use a technique known as
dynamic hashing: adding more buckets when the existing buckets are all
used (i.e., when collisions become inevitable), and using a new hashing
function that distributes keys uniformly into all of the buckets (it is
usually possible to use the same hashing function, but compute indexes
modulo the new number of buckets). We also need to re-distribute keys,
since the corresponding indices will be different with the new hashing
function.</p>
<p>Here's the hashing function used in Perl 5.005:</p>
<pre><code>
  # Return the hashed value of a string: $hash = perlhash(&quot;key&quot;)
  # (Defined by the PERL_HASH macro in hv.h)
  sub perlhash
  {
      $hash = 0;
      foreach (split //, shift) {
          $hash = $hash*33 + ord($_);
      }
      return $hash;
  }</code></pre>
<p>More recent versions use a function designed by Bob Jenkins, and his Web
page (listed below) does an excellent job of explaining how it and other
hashing functions work.</p>

<h4><a name="representing_hashes_in_perl">Representing Hashes in Perl</a></h4>
<p>We can represent a hash as an array of buckets, where each bucket is an
array of <code>[$key, $value]</code> pairs (there's no particular need for chains
to be linked lists; arrays are more convenient). As an exercise, let us
add each of the keys in <code>%example</code> below into three empty buckets.</p>
<pre><code>
  %example = (
      ab =&gt; &quot;foo&quot;, cd =&gt; &quot;bar&quot;,
      ef =&gt; &quot;baz&quot;, gh =&gt; &quot;quux&quot;
  );
  
  @buckets = ( [],[],[] );
  
  while (($k, $v) = each(%example)) {
      $hash  = perlhash($k);
      $chain = $buckets[ $hash % @buckets ];
	  
      $entry = [ $k, $v ];
      push @$chain, $entry;
  }</code></pre>
  
<p>We end up with the following structure (you may want to verify that the
keys are correctly hashed and distributed), in which we can identify any
key-value pair in the hash with one index into the array of buckets and
a second index into the entries therein. Another index serves to access
either the key or the value.</p>
<pre><code>
  @buckets = (
      [ [ &quot;ef&quot;, &quot;baz&quot; ]                   ],    # Bucket 0: 1 entry
      [ [ &quot;cd&quot;, &quot;bar&quot; ]                   ],    # Bucket 1: 1 entry
      [ [ &quot;ab&quot;, &quot;foo&quot; ], [ &quot;gh&quot;, &quot;quux&quot; ] ],    # Bucket 2: 2 entries
  );
  $key = $buckets[2][1][0];   # $key = &quot;gh&quot;
  $val = $buckets[2][1][1];   # $val = $hash{$key}
  $buckets[0][0][1] = &quot;zab&quot;;  # $hash{ef} = &quot;zab&quot;</code></pre>














<h3><a name="building_toy_hashes">Building Toy Hashes</a></h3>
<p>In this section, we'll use the representation discussed above to write a
tied hash class that emulates the behavior of real Perl hashes. For the
sake of brevity, the code doesn't check for erroneous input. My comments
also gloss over details that aren't directly relevant to hashing, so you
may want to have a copy of <em>perltie</em> handy to fill in blanks.</p>
<p>(All of the code in the class is available at the URL mentioned below.)</p>
<p>We begin by writing a tied hash constructor that creates an empty hash,
and another function to empty an existing hash.</p>
<pre><code>
  package Hash;
  
  # We'll reuse the perlhash() function presented previously.
  
  # Create a tied hash. (Analogous to newHV in hv.c)
  sub TIEHASH
  {
      $h = {
          keys    =&gt; 0,                         # Number of keys
          buckets =&gt; [ [],[],[],[],[],[],[] ],  # Seven empty buckets
          current =&gt; [ undef, undef ]           # Current iterator entry
      };                                        # (Explained below)
      return bless $h, shift;
  }
  
  # Empty an existing hash. (See hv.c:hv_clear)
  sub CLEAR
  {
      ($h) = @_;
	  
         $h-&gt;{keys}      = 0;
      @{ $h-&gt;{buckets} } = ([],[],[],[],[],[],[]);
      @{ $h-&gt;{current} } = (undef, undef);
  }</code></pre>
  
<p>For convenience, we also write a function that looks up a given key in a
hash and returns the indices of its bucket and the correct entry within.
Both indexes are undefined if the key is not found in the hash.</p>
<pre><code>
  # Look up a specified key in a hash.
  sub lookup
  {
      ($h, $key) = @_;
	  
      $buckets = $h-&gt;{buckets};
      $bucket  = perlhash($key) % @$buckets;
	  
      $entries = @{ $buckets-&gt;[$bucket] };
      if ($entries &gt; 0) {
          # Look for the correct entry inside the bucket.
          $entry = 0;
          while ($buckets-&gt;[$bucket][$entry][0] ne $key) {
              if (++$entry == $entries) {
                  # None of the entries in the bucket matched.
                  $bucket = $entry = undef;
                  last;
              }
          }
      }
      else {
          # The relevant bucket was empty, so the key doesn't exist.
          $bucket = $entry = undef;
      }
	  
      return ($bucket, $entry);
  }</code></pre>
  
  
<p>The <code>lookup</code> function makes it easy to write <code>EXISTS</code>, <code>FETCH</code>, and
<code>DELETE</code> methods for our class:</p>
<pre><code>
  # Check whether a key exists in a hash. (See hv.c:hv_exists)
  sub EXISTS
  {
      ($h, $key) = @_;
      ($bucket, $entry) = lookup($h, $key);
	  
      # If $bucket is undefined, the key doesn't exist.
      return defined $bucket;
  }
  
  # Retrieve the value associated with a key. (See hv.c:hv_fetch)
  sub FETCH
  {
      ($h, $key) = @_;
	  
      $buckets = $h-&gt;{buckets};
      ($bucket, $entry) = lookup($h, $key);
	  
      if (defined $bucket) {
          return $buckets-&gt;[$bucket][$entry][1];
      }
      else {
          return undef;
      }
  }
  
  # Delete a key-value pair from a hash. (See hv.c:hv_delete)
  sub DELETE
  {
      ($h, $key) = @_;
	  
      $buckets = $h-&gt;{buckets};
      ($bucket, $entry) = lookup($h, $key);
	  
      if (defined $bucket) {
          # Remove the entry from the bucket, and return its value.
          $entry = splice(@{ $buckets-&gt;[$bucket] }, $entry, 1);
          return $entry-&gt;[1];
      }
      else {
          return undef;
      }
  }</code></pre>
  
  
<p><code>STORE</code> is a little more complex. It must either update the value of an
existing key (which is just an assignment), or add an entirely new entry
(by pushing an arrayref into a suitable bucket). In the latter case, if
the number of keys exceeds the number of buckets, then we create more buckets
and redistribute existing keys (under the assumption that the hash will
grow further; this is how we implement dynamic hashing).</p>
<pre><code>
  # Store a key-value pair in a hash. (See hv.c:hv_store)
  sub STORE
  {
      ($h, $key, $val) = @_;
  
      $buckets = $h-&gt;{buckets};
      ($bucket, $entry) = lookup($h, $key);
  
      if (defined $bucket) {
          $buckets-&gt;[$bucket][$entry][1] = $val;
      }
      else {
          $h-&gt;{keys}++;
          $bucket = perlhash($key) % @$buckets;
          push @{ $buckets-&gt;[$bucket] }, [ $key, $val ];
  
          # Expand the hash if all the buckets are full. (See hv.c:S_hsplit)
          if ($h-&gt;{keys} &gt; @$buckets) {
              # We just double the number of buckets, as Perl itself does
              # (and disregard the number becoming non-prime).
              $newbuckets = [];
              push(@$newbuckets, []) for 1..2*@$buckets;
  
              # Redistribute keys
              foreach $entry (map {@$_} @$buckets) {
                  $bucket = perlhash($entry-&gt;[0]) % @$newbuckets;
                  push @{$newbuckets-&gt;[$bucket]}, $entry;
              }
              $h-&gt;{buckets} = $newbuckets;
          }
      }
  }</code></pre>
  
  
<p>For completeness, we implement an iteration mechanism for our class. The
<code>current</code> element in each hash identifies a single entry (by its bucket
and entry indices). <code>FIRSTKEY</code> sets it to an initial (undefined) state,
and leaves all the hard work to <code>NEXTKEY</code>, which steps through each key
in turn.</p>
<pre><code>
  # Return the first key in a hash. (See hv.c:hv_iterinit)
  sub FIRSTKEY
  {
      $h = shift;
      @{ $h-&gt;{current} } = (undef, undef);
      return $h-&gt;NEXTKEY(@_);
  }</code></pre>
  
<p>If <code>NEXTKEY</code> is called with the hash iterator in its initial state (by
<code>FIRSTKEY</code>), it returns the first key in the first occupied bucket. On
subsequent calls, it returns either the next key in the current chain,
or the first key in the next occupied bucket.</p>
<pre><code>
  # Return the next key in a hash. (See hv.c:hv_iterkeysv et al.)
  sub NEXTKEY
  {
      $h = shift;
      $buckets = $h-&gt;{buckets};
      $current = $h-&gt;{current};
	  
      ($bucket, $entry) = @{ $current };
	  
      if (!defined $bucket || $entry+1 == @{ $buckets-&gt;[$bucket] }) {
      FIND_NEXT_BUCKET:
          do {
              if (++$current-&gt;[0] == @$buckets) {
                  @{ $current } = (undef, undef);
                  return undef;
              }
          } while (@{ $buckets-&gt;[$current-&gt;[0]] } == 0);
          $current-&gt;[1] = 0;
      }
      else {
          $current-&gt;[1]++;
      }
	  
      return $buckets-&gt;[$current-&gt;[0]][$current-&gt;[1]][0];
  }</code></pre>
  
  
<p>The <code>do</code> loop at <code>FIND_NEXT_BUCKET</code> finds the next occupied bucket if
the iterator is in its initial undefined state, or if the current entry
is at the end of a chain. When there are no more keys in the hash, it
resets the iterator and returns <code>undef</code>.</p>
<p>We now have all the pieces required to use our Hash class exactly as we
would a real Perl hash.</p>
<pre><code>
  tie %h, &quot;Hash&quot;;
  
  %h = ( foo =&gt; &quot;bar&quot;, bar =&gt; &quot;foo&quot; );
  while (($key, $val) = each(%h)) {
      print &quot;$key =&gt; $val\n&quot;;
  }
  delete $h{foo};
  
  # ...</code></pre>


<h3><a name="the_perl_internals">Perl Internals</a></h3>
<p>If you want to learn more about the hashes inside Perl, then the <code>FakeHash</code>
module by Mark-Jason Dominus and a copy of <em>hash.c</em> from Perl 1.0 are
good places to start. The PerlGuts Illustrated Web site by Gisle Aas is
also an invaluable resource in exploring the Perl internals. (References
to all three are included below.)</p>
<p>Although our <code>Hash</code> class is based on Perl's hash implementation, it is
not a faithful reproduction; and while a detailed discussion of the Perl
source is beyond the scope of this article, parenthetical notes in the
code above may serve as a starting point for further exploration.</p>

<h3><a name="history">History</a></h3>
<p>Donald Knuth credits H. P. Luhn at IBM for the idea of hash tables and
chaining in 1953. About the same time, the idea also occurred to
another group at IBM, including Gene Amdahl, who suggested open
addressing and linear probing to handle collisions. Although the term
&quot;hashing&quot; was standard terminology in the 1960s, the term did not
actually appear in print until 1967 or so.</p>
<p>Perl 1 and 2 had &quot;two and a half data types&quot;, of which one half was an
&quot;associative array.&quot; With some squinting, associative arrays look very
much like hashes. The major differences were the lack of the <code>%</code> symbol
on hash names, and that one could only assign to them one key at a time.
Thus, one would say <code>$foo{'key'} = 1;</code>, but only <code>@keys = keys(foo);</code>.
Familiar functions like <code>each</code>, <code>keys</code>, and <code>values</code> worked as they
do now (and <code>delete</code> was added in Perl 2).</p>
<p>Perl 3 had three whole data types: it had the <code>%</code> symbol on hash names,
allowed an entire hash to be assigned to at once, and added <code>dbmopen</code>
(now deprecated in favour of <code>tie</code>). Perl 4 used comma-separated hash
keys to emulate multidimensional arrays (which are now better handled
with array references).</p>
<p>Perl 5 took the giant leap of referring to associative arrays as hashes.
(As far as I know, it is the first language to have referred to the data
structure thus, rather than &quot;hash table&quot; or something similar.) Somewhat
ironically, it also moved the relevant code from <em>hash.c</em> into <em>hv.c</em>.</p>

<h3><a name="nomenclature">Nomenclature</a></h3>
<p>Dictionaries, as explained earlier, are unordered collections of values
indexed by unique keys. They are sometimes called associative arrays or
maps. They can be implemented in several ways, one of which is by using
a data structure known as a hash table (and this is what Perl refers to
as a hash).</p>
<p>Perl's use of the term &quot;hash&quot; is the source of some potential confusion,
because the output of a hashing function is also sometimes called a hash
(especially in cryptographic contexts), and because hash tables aren't
usually called hashes anywhere else.</p>
<p>To be on the safe side, refer to the data structure as a hash table, and
use the term &quot;hash&quot; only in obvious, Perl-specific contexts.</p>

<h3><a name="further_resources">Further Resources</a></h3>
<dl>
<dt><strong><a name="item_algorithms">Introduction to Algorithms (Cormen, Leiserson and Rivest)</a></strong></dt>
<dd>
Chapter 12 of this excellent book discusses hash tables in detail.
</dd>

<dt><strong><a name="item_programming">The Art of Computer Programming (Donald E. Knuth)</a></strong><br />
</dt>
<dd>
Volume 3 (&quot;Sorting and Searching&quot;) devotes a section (�6.4) to an
exhaustive description, analysis, and a historical perspective on
various hashing techniques.
</dd>

<dt><strong><a name="item_http%3a%2f%2fperl%2eplover%2ecom%2fbadhash%2epl" /><a href="http://perl.plover.com/badhash.pl">http://perl.plover.com/badhash.pl</a></strong><br />
</dt>
<dd>
&quot;When Hashes Go Wrong&quot; by Mark-Jason Dominus demonstrates a pathological
case of collisions, by creating a large number of keys that hash to the
same value, and effectively turn the hash into a very long linked list.
</dd>

<dt><strong><a name="item_http%3a%2f%2fburtleburtle%2enet%2fbob%2fhash%2fdoo" /><a href="http://burtleburtle.net/bob/hash/doobs.html">http://burtleburtle.net/bob/hash/doobs.html</a></strong><br />
</dt>
<dd>
Current versions of Perl use a hashing function designed by Bob Jenkins.
His web page explains how the function was constructed, and provides an
excellent overview of how various hashing functions perform in practice.
</dd>

<dt><strong><a name="item_http%3a%2f%2fperl%2eplover%2ecom%2ffakehash%2f" /><a href="http://perl.plover.com/FakeHash/">http://perl.plover.com/FakeHash/</a></strong><br />
</dt>
<dd>
This module, by Mark-Jason Dominus, is a more faithful re-implementation
of Perl's hashes in Perl, and is particularly useful because it can draw
pictures of the data structures involved.
</dd>

<dt><strong><a name="item_http%3a%2f%2fwww%2eetla%2eorg%2fretroperl%2fperl1%" /><a href="http://www.etla.org/retroperl/perl1/perl-1.0.tar.gz">http://www.etla.org/retroperl/perl1/perl-1.0.tar.gz</a></strong><br />
</dt>
<dd>
It might be instructive to read <em>hash.c</em> from the much less cluttered
(and much less capable) Perl 1.0 source code, before going through the
newer <em>hv.c</em>.
</dd>

<dt><strong><a name="item_http%3a%2f%2fgisle%2eaas%2eno%2fperl%2fillguts%2fh" /><a href="http://gisle.aas.no/perl/illguts/hv.png">http://gisle.aas.no/perl/illguts/hv.png</a></strong><br />
</dt>
<dd>
This image, from Gisle Aas's &quot;PerlGuts Illustrated&quot;, depicts the layout
of the various structures that comprise hashes in the core. The entire
web site is a treasure trove for people exploring the internals.
</dd>

<dt><strong><a name="item_http%3a%2f%2fams%2ewiw%2eorg%2fsrc%2fhash%2epm" /><a href="http://ams.wiw.org/src/Hash.pm">http://ams.wiw.org/src/Hash.pm</a></strong><br />
</dt>
<dd>
The source code for the tied Hash class developed in this article.
</dd>
</dl>


                                    </div>


                                </div>
                                <div class="asset-footer">


                                    <div class="entry-tags">
                                        <h4>Tags<span class="delimiter">:</span></h4>
                                        <ul>
                                            <li><a href="javascript:void(0)" onclick="location.href='http://www.perl.com/mt-search.cgi?IncludeBlogs=2&amp;tag=hashes%20hash&amp;limit=20';return false;" rel="tag">hashes hash</a></li>
                                        </ul>
                                    </div>

                                </div>
                            </div>


                    
                    


                        </div>
                    </div>


                    <div id="beta">
    <div id="beta-inner">


    
    <div class="widget-what-is-perl widget">
    <div class="widget-content widget-content-what-is-perl">
       Visit the home of the  Perl programming language: <a href="http://www.perl.org/">Perl.org</a
    </div>
</div>
<div class="widget-find-out-more widget-archives widget">
    <div class="widget-content">
        <ul>
            <li><a href="http://www.perl.org/get.html">Download</a></li>
            <li><a href="http://perldoc.perl.org/">Documentation</a></li>
            <li><a href="http://blogs.perl.org/">Perl Bloggers</a></li>
            <li><a href="http://news.perlfoundation.org/">Foundation News</a></li>
        </ul>
    </div>
</div><div class="widget-tcpc widget">
<h3 class="widget-header">Sponsored by</h3>
    <div class="widget-content">
        <a href="http://training.perl.com/" alt="Perl Training" target="_blank"><img src="/i/tcpc.png" width="150" height="50"></a>
    </div>
</div>

<div class="widget-syndication widget">
    <div class="widget-content">
        <ul>
            <li><img src="/mt-static/images/status_icons/feed.gif" alt="Subscribe to feed" width="9" height="9" /> <a href="/pub/atom.xml">Subscribe to this website's feed</a></li>

        </ul>
    </div>
</div>
<div class="widget-archive-monthly widget-archive widget">
    <h3 class="widget-header">Monthly <a href="/pub/archives.html">Archives</a></h3>
    <div class="widget-content">
        <ul>
        
            <li><a href="/pub/2014/02/">February 2014 (1)</a></li>
        
    
        
            <li><a href="/pub/2014/01/">January 2014 (1)</a></li>
        
    
        
            <li><a href="/pub/2013/10/">October 2013 (1)</a></li>
        
    
        
            <li><a href="/pub/2013/01/">January 2013 (1)</a></li>
        
    
        
            <li><a href="/pub/2012/12/">December 2012 (1)</a></li>
        
    
        
            <li><a href="/pub/2012/11/">November 2012 (1)</a></li>
        
    
        
            <li><a href="/pub/2012/10/">October 2012 (2)</a></li>
        
    
        
            <li><a href="/pub/2012/08/">August 2012 (2)</a></li>
        
    
        
            <li><a href="/pub/2012/06/">June 2012 (11)</a></li>
        
    
        
            <li><a href="/pub/2012/05/">May 2012 (18)</a></li>
        
    
        
            <li><a href="/pub/2012/04/">April 2012 (17)</a></li>
        
    
        
            <li><a href="/pub/2012/02/">February 2012 (1)</a></li>
        
    
        
            <li><a href="/pub/2011/12/">December 2011 (1)</a></li>
        
    
        
            <li><a href="/pub/2011/09/">September 2011 (1)</a></li>
        
    
        
            <li><a href="/pub/2011/08/">August 2011 (2)</a></li>
        
    
        
            <li><a href="/pub/2011/06/">June 2011 (1)</a></li>
        
    
        
            <li><a href="/pub/2011/05/">May 2011 (3)</a></li>
        
    
        
            <li><a href="/pub/2011/04/">April 2011 (1)</a></li>
        
    
        
            <li><a href="/pub/2011/03/">March 2011 (1)</a></li>
        
    
        
            <li><a href="/pub/2011/02/">February 2011 (1)</a></li>
        
    
        
            <li><a href="/pub/2011/01/">January 2011 (1)</a></li>
        
    
        
            <li><a href="/pub/2010/11/">November 2010 (1)</a></li>
        
    
        
            <li><a href="/pub/2010/10/">October 2010 (2)</a></li>
        
    
        
            <li><a href="/pub/2010/09/">September 2010 (1)</a></li>
        
    
        
            <li><a href="/pub/2010/08/">August 2010 (3)</a></li>
        
    
        
            <li><a href="/pub/2010/07/">July 2010 (2)</a></li>
        
    
        
            <li><a href="/pub/2010/04/">April 2010 (2)</a></li>
        
    
        
            <li><a href="/pub/2010/03/">March 2010 (4)</a></li>
        
    
        
            <li><a href="/pub/2008/05/">May 2008 (1)</a></li>
        
    
        
            <li><a href="/pub/2008/04/">April 2008 (2)</a></li>
        
    
        
            <li><a href="/pub/2008/03/">March 2008 (1)</a></li>
        
    
        
            <li><a href="/pub/2008/02/">February 2008 (1)</a></li>
        
    
        
            <li><a href="/pub/2008/01/">January 2008 (1)</a></li>
        
    
        
            <li><a href="/pub/2007/12/">December 2007 (2)</a></li>
        
    
        
            <li><a href="/pub/2007/09/">September 2007 (1)</a></li>
        
    
        
            <li><a href="/pub/2007/08/">August 2007 (1)</a></li>
        
    
        
            <li><a href="/pub/2007/07/">July 2007 (1)</a></li>
        
    
        
            <li><a href="/pub/2007/06/">June 2007 (1)</a></li>
        
    
        
            <li><a href="/pub/2007/05/">May 2007 (1)</a></li>
        
    
        
            <li><a href="/pub/2007/04/">April 2007 (1)</a></li>
        
    
        
            <li><a href="/pub/2007/03/">March 2007 (1)</a></li>
        
    
        
            <li><a href="/pub/2007/02/">February 2007 (1)</a></li>
        
    
        
            <li><a href="/pub/2007/01/">January 2007 (1)</a></li>
        
    
        
            <li><a href="/pub/2006/12/">December 2006 (1)</a></li>
        
    
        
            <li><a href="/pub/2006/11/">November 2006 (2)</a></li>
        
    
        
            <li><a href="/pub/2006/10/">October 2006 (1)</a></li>
        
    
        
            <li><a href="/pub/2006/09/">September 2006 (1)</a></li>
        
    
        
            <li><a href="/pub/2006/08/">August 2006 (1)</a></li>
        
    
        
            <li><a href="/pub/2006/07/">July 2006 (1)</a></li>
        
    
        
            <li><a href="/pub/2006/06/">June 2006 (1)</a></li>
        
    
        
            <li><a href="/pub/2006/05/">May 2006 (1)</a></li>
        
    
        
            <li><a href="/pub/2006/04/">April 2006 (1)</a></li>
        
    
        
            <li><a href="/pub/2006/03/">March 2006 (1)</a></li>
        
    
        
            <li><a href="/pub/2006/02/">February 2006 (4)</a></li>
        
    
        
            <li><a href="/pub/2006/01/">January 2006 (4)</a></li>
        
    
        
            <li><a href="/pub/2005/12/">December 2005 (4)</a></li>
        
    
        
            <li><a href="/pub/2005/11/">November 2005 (3)</a></li>
        
    
        
            <li><a href="/pub/2005/10/">October 2005 (2)</a></li>
        
    
        
            <li><a href="/pub/2005/09/">September 2005 (2)</a></li>
        
    
        
            <li><a href="/pub/2005/08/">August 2005 (9)</a></li>
        
    
        
            <li><a href="/pub/2005/07/">July 2005 (8)</a></li>
        
    
        
            <li><a href="/pub/2005/06/">June 2005 (9)</a></li>
        
    
        
            <li><a href="/pub/2005/05/">May 2005 (8)</a></li>
        
    
        
            <li><a href="/pub/2005/04/">April 2005 (7)</a></li>
        
    
        
            <li><a href="/pub/2005/03/">March 2005 (6)</a></li>
        
    
        
            <li><a href="/pub/2005/02/">February 2005 (7)</a></li>
        
    
        
            <li><a href="/pub/2005/01/">January 2005 (6)</a></li>
        
    
        
            <li><a href="/pub/2004/12/">December 2004 (8)</a></li>
        
    
        
            <li><a href="/pub/2004/11/">November 2004 (8)</a></li>
        
    
        
            <li><a href="/pub/2004/10/">October 2004 (5)</a></li>
        
    
        
            <li><a href="/pub/2004/09/">September 2004 (9)</a></li>
        
    
        
            <li><a href="/pub/2004/08/">August 2004 (6)</a></li>
        
    
        
            <li><a href="/pub/2004/07/">July 2004 (8)</a></li>
        
    
        
            <li><a href="/pub/2004/06/">June 2004 (6)</a></li>
        
    
        
            <li><a href="/pub/2004/05/">May 2004 (7)</a></li>
        
    
        
            <li><a href="/pub/2004/04/">April 2004 (8)</a></li>
        
    
        
            <li><a href="/pub/2004/03/">March 2004 (8)</a></li>
        
    
        
            <li><a href="/pub/2004/02/">February 2004 (9)</a></li>
        
    
        
            <li><a href="/pub/2004/01/">January 2004 (7)</a></li>
        
    
        
            <li><a href="/pub/2003/12/">December 2003 (4)</a></li>
        
    
        
            <li><a href="/pub/2003/11/">November 2003 (7)</a></li>
        
    
        
            <li><a href="/pub/2003/10/">October 2003 (8)</a></li>
        
    
        
            <li><a href="/pub/2003/09/">September 2003 (6)</a></li>
        
    
        
            <li><a href="/pub/2003/08/">August 2003 (7)</a></li>
        
    
        
            <li><a href="/pub/2003/07/">July 2003 (9)</a></li>
        
    
        
            <li><a href="/pub/2003/06/">June 2003 (9)</a></li>
        
    
        
            <li><a href="/pub/2003/05/">May 2003 (8)</a></li>
        
    
        
            <li><a href="/pub/2003/04/">April 2003 (8)</a></li>
        
    
        
            <li><a href="/pub/2003/03/">March 2003 (10)</a></li>
        
    
        
            <li><a href="/pub/2003/02/">February 2003 (8)</a></li>
        
    
        
            <li><a href="/pub/2003/01/">January 2003 (8)</a></li>
        
    
        
            <li><a href="/pub/2002/12/">December 2002 (5)</a></li>
        
    
        
            <li><a href="/pub/2002/11/">November 2002 (9)</a></li>
        
    
        
            <li><a href="/pub/2002/10/">October 2002 (7)</a></li>
        
    
        
            <li><a href="/pub/2002/09/">September 2002 (11)</a></li>
        
    
        
            <li><a href="/pub/2002/08/">August 2002 (8)</a></li>
        
    
        
            <li><a href="/pub/2002/07/">July 2002 (8)</a></li>
        
    
        
            <li><a href="/pub/2002/06/">June 2002 (4)</a></li>
        
    
        
            <li><a href="/pub/2002/05/">May 2002 (6)</a></li>
        
    
        
            <li><a href="/pub/2002/04/">April 2002 (6)</a></li>
        
    
        
            <li><a href="/pub/2002/03/">March 2002 (7)</a></li>
        
    
        
            <li><a href="/pub/2002/02/">February 2002 (5)</a></li>
        
    
        
            <li><a href="/pub/2002/01/">January 2002 (8)</a></li>
        
    
        
            <li><a href="/pub/2001/12/">December 2001 (7)</a></li>
        
    
        
            <li><a href="/pub/2001/11/">November 2001 (5)</a></li>
        
    
        
            <li><a href="/pub/2001/10/">October 2001 (9)</a></li>
        
    
        
            <li><a href="/pub/2001/09/">September 2001 (7)</a></li>
        
    
        
            <li><a href="/pub/2001/08/">August 2001 (13)</a></li>
        
    
        
            <li><a href="/pub/2001/07/">July 2001 (8)</a></li>
        
    
        
            <li><a href="/pub/2001/06/">June 2001 (13)</a></li>
        
    
        
            <li><a href="/pub/2001/05/">May 2001 (11)</a></li>
        
    
        
            <li><a href="/pub/2001/04/">April 2001 (9)</a></li>
        
    
        
            <li><a href="/pub/2001/03/">March 2001 (8)</a></li>
        
    
        
            <li><a href="/pub/2001/02/">February 2001 (8)</a></li>
        
    
        
            <li><a href="/pub/2001/01/">January 2001 (8)</a></li>
        
    
        
            <li><a href="/pub/2000/12/">December 2000 (6)</a></li>
        
    
        
            <li><a href="/pub/2000/11/">November 2000 (10)</a></li>
        
    
        
            <li><a href="/pub/2000/10/">October 2000 (10)</a></li>
        
    
        
            <li><a href="/pub/2000/09/">September 2000 (2)</a></li>
        
    
        
            <li><a href="/pub/2000/08/">August 2000 (2)</a></li>
        
    
        
            <li><a href="/pub/2000/07/">July 2000 (5)</a></li>
        
    
        
            <li><a href="/pub/2000/06/">June 2000 (7)</a></li>
        
    
        
            <li><a href="/pub/2000/05/">May 2000 (7)</a></li>
        
    
        
            <li><a href="/pub/2000/04/">April 2000 (3)</a></li>
        
    
        
            <li><a href="/pub/2000/03/">March 2000 (2)</a></li>
        
    
        
            <li><a href="/pub/2000/02/">February 2000 (2)</a></li>
        
    
        
            <li><a href="/pub/2000/01/">January 2000 (2)</a></li>
        
    
        
            <li><a href="/pub/1999/12/">December 1999 (6)</a></li>
        
    
        
            <li><a href="/pub/1999/11/">November 1999 (6)</a></li>
        
    
        
            <li><a href="/pub/1999/10/">October 1999 (5)</a></li>
        
    
        
            <li><a href="/pub/1999/09/">September 1999 (4)</a></li>
        
    
        
            <li><a href="/pub/1999/08/">August 1999 (3)</a></li>
        
    
        
            <li><a href="/pub/1999/07/">July 1999 (2)</a></li>
        
    
        
            <li><a href="/pub/1999/06/">June 1999 (3)</a></li>
        
    
        
            <li><a href="/pub/1999/04/">April 1999 (1)</a></li>
        
    
        
            <li><a href="/pub/1999/03/">March 1999 (1)</a></li>
        
    
        
            <li><a href="/pub/1999/01/">January 1999 (1)</a></li>
        
    
        
            <li><a href="/pub/1998/12/">December 1998 (1)</a></li>
        
    
        
            <li><a href="/pub/1998/11/">November 1998 (1)</a></li>
        
    
        
            <li><a href="/pub/1998/07/">July 1998 (2)</a></li>
        
    
        
            <li><a href="/pub/1998/06/">June 1998 (1)</a></li>
        
    
        
            <li><a href="/pub/1998/03/">March 1998 (1)</a></li>
        
        </ul>
    </div>
</div>
        
    

<div class="widget-powered widget">
    <div class="widget-content">
        <a href="http://www.movabletype.com/"><img src="/mt-static/images/bug-pbmt-white.png" alt="Powered by Movable Type 5.13-en" width="120" height="75" /></a>
    </div>
</div>



    </div>
</div>






                </div>
            </div>


            <div id="footer">
    <div id="footer-inner">
        <div id="footer-content">
            <div class="widget-powered widget">
                <div class="widget-content">
                    Powered by <a href="http://www.movabletype.com/" rel="generator">Movable Type Pro</a>
                </div>
            </div>

            <div class="widget-creative-commons widget">
                <div class="widget-content">
                    This blog is licensed under a <a href="http://creativecommons.org/licenses/by-nc-nd/3.0/">Creative Commons License</a>.
                </div>
            </div>

        </div>
    </div>
</div>



        </div>
    </div>
</body>
</html>
